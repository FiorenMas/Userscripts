// ==UserScript==
// @name               字体渲染（自用脚本）
// @name:en            Font Rendering (Customized)
// @version            2025.06.07.1
// @author             F9y4ng
// @icon               data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFtklEQVR4nO1WW0yURxSe1rQ1aVMbH9ukTZvG9qXxiUbTF/CCgnLRBVEQIgpdVigoCLtcRC5WvC0iN0EQ0K0uVRZQELRAAS0spIq0CHW3ihdUWFh2/xm0aXrxa2aUBQoGVmv70km+ZOfMOXO+c/acMz8h/69p1sjIiCOltIlS+lCSJEt/f3/l4ODgPPJvLMaYF6X09/v3TaiqvIi68+2wWKwYGhqiNTU1Di/UuSRJcxlj5ms9vVjtEo/ItZkI8dqHTb5pGBoahsFguEoIee2FEWCMJTLGsEV+EOkbT6Ahvk0g0icLR/KqwM+ys7ODX4hzALMlSRr8sdMI2fLtqI/X2wjoohrgsSxOZKGrq+syIWS2xWKZwxiLZYxVWyyWaqvVus1kMr3xzAQYY5/zCBNjCrE3UGNzPorwNRk4pW0ApfSRRqORM8auc32j8TZ6b9wR2RkYGLjV3Nz8/rNE/zJjzHDjeh88lqhwLrZFOM0PKYcusl78Ph5eCx+PJEgShSRJj0ymISg2qbHSSYkVi2KwRXEQZrMFPT09bYSQV+yNfhWPQL2nFDv8C2xRr3VNgnJdjm0ftGo3ztfoRbRpKV8h2GM36uJaURffioCVXyInQyfOMjMzA+wl0NLfPwi3pSqciWkWzoo2n8F6WSrclqhQq7woZAWKCgT57cG9eya4OEXbssNxIqIGbouVGB6yoLOzs33G3cIY+4yzLjpchZhx0YZ5pUOrqUNCdAHSNhyzyX1XJiMi9CAUq/ZNqpMN7rtQXHhW/EXJycluMyJAKa2wDFtF3596ElFdbCvWLNsO2fIEgTBZus1JxqZSOC2MgCbsrNiXRzXgTHSTLUOyFQmcAFpbW88TQmZN53wepfRP3akmhHqpJ0U0Fcoi6xHplWXbR6zJQKzvobG6cdmBSt0FWK3W30JDQxdORyCfUgq/1Sk4+kX1jAgcDqmw1UlVdJOoEVEnqu+E7MBGLQK8U0Ux1tfXf00IeWlK52az+U1K6S+NDZcQ6LHL5iA3pAzr3VOx3mMiAtx3QhNejcOKcptuin8R1Lu1SIotwp4ns4MPMM+lcWhqvAyz2Tzi7Oz88dOKz4OzjAnPRVbwSdulfm4pOF/bhp+NtyeAt5hi9X5UbPvWpuu5JA7uzrGie3jqR+WpAcViRvD7T58+nTclAUmS1j2e+5nIlZcJw+zgk+Lh4fK+vr673d3dXUaj8RrfNzZcxmrn+AkjunJbI3RR9QKV0Y02+TeqFqx0isGVDgP6+/uH5s+f/84kAhaL5T1Jkv5o13fBfakK/m6pohOudFzjBfSro6OjnBDyoV6vTxBEFZnY4Tc2pKZD7LpDUG49JILRarWpU2bBYDCkcQWTyYyrXdfFY8N7uLCwMJ8Q8smTQv2pp/smXJ2icU71eCCdCK/FZpkaCtn+CeCy0VauimmCi2M0bly/g97e3puEkDlTkigrK1N0dHS0GY1Gg16vb5bL5fGEkE959T548GA+J7gr6RiivMdaT+65D6rIXBTmnZ6ArWFZCPfOGHvAvDOg3l0qsqBQKDyf3o+EvE4I4a/YB+OZUkpduHFoUDr2BR4Xl2q3nIProhjcuzsgLh4P/iryqPms4LppAUcRGZYlzhITE5XE3kUpnceNK8suwG2REuGyA6LF8rMrJzkfRfqeUqHDdd0Wq1BT3SLkrq6uG+xybrVa3+JP9OjFLRd/QH5OJZoaLz3V+Sj4bDlyuArft3fbZH19fbfUavVce6IP5Ib52SeREHXguVCUVy5IlJSU7LSHQAQ38veOQ+1eX7Tl+jwTzqT5IcgvURAoLi4uIIS8bDeBS/k+uK2VPRP0OWv/TmDWjAgwxoK40Q5lDta6K58LOxPyR7+os2dM4OHDh28PDw/T6QpupjCZTJKDg4N9naDRaD4qLS3N1el0J54HJSUlhQsWLNhECHnXLgLj1qv/AKb+Lvgv1l/c+5HQxwRN2QAAAABJRU5ErkJggg==
// @namespace          https://github.com/F9y4ng/GreasyFork-Scripts/
// @homepage           https://f9y4ng.github.io/GreasyFork-Scripts/
// @homepageURL        https://f9y4ng.github.io/GreasyFork-Scripts/
// @supportURL         https://github.com/F9y4ng/GreasyFork-Scripts/issues
// @require            https://f9y4ng.github.io/GreasyFork-Scripts/lib/frColorPicker.js#sha256-5qwlU92m9JJzPnwytGBsLkwXoqPnnrjKFATILied8Os=
// @match              *://*/*
// @grant              GM_getValue
// @grant              GM.getValue
// @grant              GM_setValue
// @grant              GM.setValue
// @grant              GM_listValues
// @grant              GM.listValues
// @grant              GM_deleteValue
// @grant              GM.deleteValue
// @grant              GM_openInTab
// @grant              GM.openInTab
// @grant              GM_addElement
// @grant              GM_registerMenuCommand
// @grant              GM.registerMenuCommand
// @grant              GM_unregisterMenuCommand
// @compatible         edge version≥90 (Compatible Tampermonkey, Violentmonkey)
// @compatible         Chrome version≥90 (Compatible Tampermonkey, Violentmonkey)
// @compatible         Firefox version≥84 (Compatible Greasemonkey, Tampermonkey, Violentmonkey)
// @compatible         Opera version≥78 (Compatible Tampermonkey, Violentmonkey)
// @compatible         Safari version≥15.4 (Compatible Tampermonkey, Userscripts)
// @license            GPL-3.0-only
// @create             2020-11-24
// @copyright          2020-2025, F9y4ng
// @run-at             document-start
// @downloadURL https://raw.githubusercontent.com/FiorenMas/Userscripts/release/release/E5AD97E4BD93E6B8B2E69F93EFBC88E887AAE794A8E8849AE69CACEFBC89.user.js
// @updateURL https://raw.githubusercontent.com/FiorenMas/Userscripts/release/release/E5AD97E4BD93E6B8B2E69F93EFBC88E887AAE794A8E8849AE69CACEFBC89.meta.js
// ==/UserScript==
(function(C,q,He,Pe,Ut){"use strict";const Ft={debugging:!1,info:GM?.info??GM_info,atob:q.atob.bind(q),btoa:q.btoa.bind(q),alert:C.alert.bind(C),prompt:C.prompt.bind(C),confirm:C.confirm.bind(C),console:q.Object.assign({},C.console),RC2:{flag:"5295b9589c42a644ca9304163cd8",date:"2025.04.05"}},Co=C.wrappedJSObject?Array.from:q.Array.from,qo={oS:q.Object.prototype.toString,aF:(...Ct)=>Pe(Co(...Ct))};C.navigation||["pushState","replaceState"].forEach(Ct=>void(C.history[Ct]=Ut.eH(Ct))),He(C,q,Ft,{...qo,...Ut,cS:Ut.mS.filter(isNaN)})})(typeof window<"u"?window:this,((C,q)=>{if(typeof GM_addElement>"u")return C;try{const{contentWindow:He}=q=GM_addElement("iframe",{id:"\u{1D69C}\u{1D68A}\u{1D68F}\u{1D68E}.w\u{1D692}\u{1D697}\u{1D68D}\u{1D698}\u{1D6A0}",style:"display:none"});return C.wrappedJSObject||q.remove(),He}catch{return q?.remove(),C}})(typeof window<"u"?window:this,null),function(C,q,He,Pe){"use strict";const{atob:Ut,btoa:Rt,alert:Ft,prompt:Co,confirm:qo,console:Ct,debugging:Eo,info:We,RC2:Zn}=He,{mS:na,cS:sa,aF:$e,oS:mo,lS:ft,sS:hn,oC:mt}=Pe,gn=We.version??We.scriptHandlerVersion??"unknown",Dt=We.scriptHandler,Jn=Et("setValue"),tt=Et("getValue"),Vt=Et("deleteValue"),Qn=Et("listValues"),ct=Et("openInTab"),ho=Et("addElement"),Gt=Et("registerMenuCommand"),es=Et("unregisterMenuCommand"),ts=Et("unsafeWindow"),os=Et("contextMode"),n=ca(),Zo=as()||Eo,ee=Zo?ot.bind(Ct,"log"):()=>{},Jo=Zo?ot.bind(Ct,"info"):()=>{},K=Zo?ot.bind(Ct,"error"):()=>{},bn=Zo?ot.bind(Ct,"count"):()=>{},{h:jt,hR:aa,hN:to,pN:xn,pT:ns,tH:yt,iT:Ye,fS:ht}=fa(),e={count:{clickTimer:0},array:{exps:[],scaleMatrix:[],props:{window:[],element:[],html:[]},values:new Set,iframe:new Set},const:{seed:m(6,"mix"),root:m(6,"char"),raf:Symbol(`\u{10831}${m(8,"hex")}`),caf:Symbol(`\u{10831}${m(8,"hex")}`),dialog:`fr-dialog-${m(8,"hex")}`,cssAttrName:`fr-css-${m(8,"hex")}`,boldAttrName:`fr-bold-${m(8,"date")}`,iframeAttrName:`fr-iframe-${m(8,"hex")}`,regexp:/\b#[\u{1D68A}-\u{1D6A3}\w\u{1D670}-\u{1D689}]+(?=\s)/gu,queryString:"html,head,title,base,meta,style,link,script,noscript,iframe,img,picture,canvas,br,hr,svg,svg *,g,image,object,embed,audio,video,source,track,progress,fr-colorpicker,fr-colorpicker *,fr-configure,fr-configure *,fr-dialogbox,fr-dialogbox *,gb-notice,gb-notice *",flagName:"fr-found-conflict-callback"},var:{curVersion:Do("version")??We.script.version??"2025.06.07.0",scriptName:Do(`name:${ma()}`)??ye("Rm9udCUyMFJlbmRlcmluZw=="),scriptAuthor:Do("author")??We.script.author??ye("Rjl5NG5n"),attachShadow:Element.prototype.attachShadow,getClientRects:Element.prototype.getClientRects,getBoundingClientRect:Element.prototype.getBoundingClientRect,getScreenCTM:SVGGraphicsElement.prototype.getScreenCTM,fillText:CanvasRenderingContext2D.prototype.fillText,strokeText:CanvasRenderingContext2D.prototype.strokeText,stopImmediatePropagation:Event.prototype.stopImmediatePropagation,stopPropagation:Event.prototype.stopPropagation},url:{introURL:ye("aHR0cHMlM0ElMkYlMkZmOXk0bmcubGlrZXMuZmFucyUyRkZvbnQtUmVuZGVyaW5n"),fontlistImg:ye("aHR0cHMlM0ElMkYlMkZvb28uMHgwLm9vbyUyRjIwMjUlMkYwMyUyRjI1JTJGT1NkVVVZLmdpZg=="),loadingImg:ye("aHR0cHMlM0ElMkYlMkZmOXk0bmcuZ2l0aHViLmlvJTJGR3JlYXN5Rm9yay1TY3JpcHRzJTJGaW1hZ2VzJTJGbG9hZGluZy5naWY="),Anton:ye("aHR0cHMlM0ElMkYlMkZmb250cy5nc3RhdGljLmNvbSUyRnMlMkZhbnRvbiUyRnYyNSUyRjFQdGdnODdMUk95QW0zS3otQzgud29mZjI="),predefined:ye("aHR0cHMlM0ElMkYlMkZmOXk0bmcuZ2l0aHViLmlvJTJGR3JlYXN5Rm9yay1TY3JpcHRzJTJGcmVuZGVyaW5nUnVsZXM="),feedback:Do("supportURL")??We.script.supportURL??ye("aHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGRjl5NG5nJTJGR3JlYXN5Rm9yay1TY3JpcHRzJTJGaXNzdWVz"),homepage:Do("homepageURL")??We.script.homepage??ye("aHR0cHMlM0ElMkYlMkZmOXk0bmcuZ2l0aHViLmlvJTJGR3JlYXN5Rm9yay1TY3JpcHRzJTJG"),prohibit:"challenges.cloudflare.com|m.stripe.network|js.stripe.com"},class:{guide:m(7,"mix"),title:m(8,"char"),rotation:m(7,"char"),emoji:m(7,"mix"),main:m(8,"char"),fontList:m(8,"char"),spanlabel:m(6,"mix"),label:m(6,"mix"),checkbox:m(8,"char"),flex:m(8,"char"),tooltip:m(8,"char"),tooltiptext:m(8,"char"),ps1:m(6,"mix"),ps2:m(6,"mix"),ps3:m(6,"mix"),ps4:m(6,"mix"),ps5:m(6,"mix"),slider:m(8,"char"),frColorPicker:m(9,"char"),readonly:m(8,"mix"),notreadonly:m(8,"mix"),reset:m(7,"mix"),cancel:m(7,"mix"),submit:m(7,"mix"),selector:m(8,"char"),selectFontID:m(8,"char"),close:m(7,"char"),db:m(9,"mix"),dbbc:m(8,"mix"),dbb:m(8,"char"),dbm:m(8,"char"),dbt:m(8,"char"),dbbt:m(7,"mix"),dbbf:m(7,"mix"),dbbn:m(7,"mix"),switcher:m(6,"mix"),anim:m(6,"mix"),range:m(9,"char"),rangeProgress:m(9,"mix")},id:{rndStyle:m(12,"char"),configure:m(12,"char"),dialogbox:m(12,"char"),container:m(10,"char"),field:m(10,"mix"),fontList:m(8,"mix"),fontFace:m(8,"mix"),fontSmooth:m(8,"mix"),fontStroke:m(8,"mix"),fontShadow:m(8,"mix"),shadowColor:m(8,"mix"),fontCss:m(8,"mix"),fontEx:m(8,"mix"),submit:m(8,"char"),fface:m(8,"mix"),smooth:m(8,"mix"),fontSize:m(8,"mix"),fontScale:m(8,"mix"),scale:m(8,"mix"),fviewport:m(8,"char"),fixViewport:m(8,"mix"),strokeSize:m(8,"mix"),stroke:m(8,"mix"),fstroke:m(8,"mix"),fshadow:m(8,"mix"),fixStroke:m(8,"mix"),rdCanvas:m(8,"char"),renderCanvas:m(8,"mix"),lazyload:m(8,"mix"),fixShadow:m(8,"mix"),shadowSize:m(8,"mix"),shadow:m(8,"mix"),color:m(8,"mix"),cssinclued:m(8,"mix"),cssexclude:m(8,"mix"),render:m(8,"char"),mono:m(8,"char"),cm:m(8,"mix"),fi:m(8,"mix"),iscusmono:m(6,"char"),selector:m(8,"char"),cleaner:m(6,"char"),fonttooltip:m(9,"char"),fontName:m(8,"char"),cSwitch:m(6,"mix"),eSwitch:m(6,"mix"),backup:m(8,"char"),files:m(6,"char"),tfiles:m(6,"mix"),db:m(6,"char"),ct:m(6,"char"),isclosetip:m(7,"mix"),bk:m(6,"char"),isbackup:m(7,"mix"),pv:m(6,"char"),ispreview:m(7,"mix"),fs:m(6,"char"),isfontsize:m(7,"mix"),fvp:m(6,"char"),isfixviewport:m(7,"mix"),hk:m(6,"char"),ishotkey:m(7,"mix"),mps:m(6,"char"),maxps:m(7,"mix"),gc:m(6,"char"),globaldisable:m(7,"char"),feedback:m(7,"char"),pdr:m(6,"char"),pdrr:m(7,"mix"),flc:m(6,"char"),flcid:m(7,"mix")}};if(pa(ts))return;class Lo{constructor(r){if(Lo.instance)return Lo.instance;q.Object.assign(this,{context:r,timerMap:{timeout:{},interval:{}}}),this._registerAnimationFrame(r),["setTimeout","setInterval","clearTimeout","clearInterval"].forEach(g=>this[g]=this[g].bind(this)),Lo.instance=this}_registerAnimationFrame(r){const g=$e(["ms","moz","webkit","o"]).Find(W=>r[`${W}RequestAnimationFrame`]),P=r.requestAnimationFrame??r[`${g}RequestAnimationFrame`],_=r.cancelAnimationFrame??(r[`${g}CancelAnimationFrame`]||r[`${g}CancelRequestAnimationFrame`]);q.Object.assign(r,{[e.const.raf]:P,[e.const.caf]:_})}_ticking(r,g,P,..._){let W=performance.now();const we=Symbol(g),Ne=()=>{const Qe=performance.now();this._setTimerMap(we,g,Ne),!(Qe-W<(Number(P)||0))&&(typeof r=="function"&&r.apply(null,_),g==="interval"?W=Qe:this.clearTimeout(we))};return this._setTimerMap(we,g,Ne),we}_setTimerMap(r,g,P){this.timerMap[g][r]=this.context[e.const.raf](P)}_clearTimerMap(r,g){this.context[e.const.caf](this.timerMap[g][r]),delete this.timerMap[g][r]}setTimeout(r,g,...P){return this._ticking(r,"timeout",g,...P)}clearTimeout(r){this._clearTimerMap(r,"timeout")}setInterval(r,g,...P){return this._ticking(r,"interval",g,...P)}clearInterval(r){this._clearTimerMap(r,"interval")}}const Mo=new Lo(C);class ra{constructor(r=()=>document.documentElement){q.Object.assign(this,{targetNode:r,result:new Map,callbacks:new Map,isCancelled:!1,observer:null})}async getNodeAndObserve({name:r,callback:g,config:P,timeout:_=1e4}={}){if(typeof g=="function"&&this.callbacks.set(r,g),this.config=P??{childList:!0,subtree:!0,attributes:!0},this.target=this.targetNode(),this.target)return this._observeElement(this.target);try{const W=await Promise.race([this._waitingForTarget(),gt(_,{instant:!0})]);if(W)return this._observeElement(W);throw new Error("Target cannot be found in the current page.")}catch(W){return this.isCancelled=K(`GetNodeAndObserve${ht}:`,W.message)??!0,this.observer&&(this.observer.disconnect()??(this.observer=null)),this.result}}_waitingForTarget(){return new Promise(r=>{this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(()=>{const g=this.targetNode();!g&&!this.isCancelled||(this.observer.disconnect(),r(g))}),this.observer.observe(document,{childList:!0,subtree:!0})})}_handleCallbacks(r,g,P){for(const[_,W]of this.callbacks)try{this.result.set(_,W({node:r,mutations:g,observer:P})??r)}catch(we){K(`Error in callback '${_}':`,we.message)}}_observeElement(r){return this.result.set(void 0,r)&&this.callbacks.size===0?Promise.resolve(this.result):new Promise(g=>{new MutationObserver((_,W)=>{this._handleCallbacks(r,_,W),g(this.result)}).observe(r,this.config)})}}function Et(d){return{setValue:typeof GM_setValue<"u"?GM_setValue:GM?.setValue??ft?.setItem.bind(ft),getValue:typeof GM_getValue<"u"?GM_getValue:GM?.getValue??ft?.getItem.bind(ft),deleteValue:typeof GM_deleteValue<"u"?GM_deleteValue:GM?.deleteValue??ft?.removeItem.bind(ft),listValues:typeof GM_listValues<"u"?GM_listValues:GM?.listValues??(()=>[]),openInTab:typeof GM_openInTab<"u"?GM_openInTab:GM?.openInTab??C.open.bind(C),addElement:typeof GM_addElement<"u"?ia.bind(C):$n.bind(C),registerMenuCommand:typeof GM_registerMenuCommand<"u"?GM_registerMenuCommand:GM?.registerMenuCommand,unregisterMenuCommand:typeof GM_unregisterMenuCommand<"u"?GM_unregisterMenuCommand:void 0,contextMode:We.injectInto==="content"||We.script["inject-into"]==="content"||["dom","js"].includes(We.sandboxMode),unsafeWindow:typeof unsafeWindow<"u"?unsafeWindow:C}[d]??ot("warn",`Grant 'GM.${d}' is not available.`)??(()=>{})}function ot(d,r,...g){const P={log:["log","%c\u27A4 %c","display:inline-block","font-family:ui-monospace,monospace"],info:["log","%c\u27A4 ","display:inline-block;padding:4px 0"],error:["error","%c\u{1F6A9} ","display:inline-block;font-family:ui-monospace,monospace"],warn:["warn","%c\u{1F6A9} ","display:inline-block;font-family:ui-monospace,monospace"],count:["count","\u27A4 "]},[_,W,we]=[this??Ct,r??"",P[d]];if(!we)return _.log(W,...g);const[Ne,Qe,...Wt]=we;return _[Ne](Qe+W,...Wt,...g)}function ia(...d){try{return Dt==="Tampermonkey"&&typeof d[0]!="string"&&d[0].ownerDocument!==document?$n(...d):GM_addElement(...d)}catch(r){return K("SafeAddElement:",{...d,e:r.message}),$n(...d)}}function $n(d,r,g){try{return typeof d=="string"&&(g=r||{})&&(r=d)&&(d=(/^(script|style|link|meta)$/i.test(r)?document.head:document.body)||document.documentElement),Nt(d,Je(r,g))}catch(P){K("GeneralAddElement:",{...arguments,e:P})}}function ca(){return(navigator.language||Intl.DateTimeFormat().resolvedOptions().locale||"en-US").startsWith("zh")}function y(d,r=document){try{return/^#[\w:.-]+$/.test(d)?r.getElementById(d.slice(1)):r.querySelector(d)}catch{return null}}function Ze(d,r=document){try{return $e(r.querySelectorAll(d))}catch{return $e([])}}function Je(d,r){const g=document.createElement(d);if(mo.call(r)!=="[object Object]")return g;for(const[P,_]of Object.entries(r))P==="class"?Array.isArray(_)?g.classList.add(..._):g.classList.add(_):["innerHTML","textContent"].includes(P)?g[P]=_:g.setAttribute(P,_);return g}function vn(d){return d?e.var.attachShadow.call(d,{mode:"closed"}):null}function wn(d,r=null){return d?.nodeType!==Node.ELEMENT_NODE?new Proxy(mt(),{get:()=>NaN}):C.getComputedStyle(d,r)}function Qo({range:d,length:r=1,type:g="round"}){const P=C.crypto.getRandomValues(new Uint32Array(Number(r)||1));return $e(P,_=>(Math[g]??Math.round)(_/4294967295*(Number(d)||10)))}function Ve(d,r=Boolean,g=null){return Array.isArray(d)?$e(new Set(typeof r=="function"?d.filter(r):d),typeof g=="function"?g:void 0):[]}function kt(d){return typeof d=="symbol"?d.description:String(d)}function go(d){return d=kt(d??"").toLowerCase(),d.replace(/\b[a-z]|\s[a-z]/g,r=>r.toUpperCase())}function At(d){return d?.nodeName?.toLowerCase()??""}function Kt(d,r=!0){typeof d!="string"&&(d=kt(d));try{const g=r?encodeURIComponent(d):d;return Rt(g)}catch{return""}}function ye(d,r=!0){if(typeof d!="string")return"";try{const g=Ut(d.replace(/[^A-Za-z0-9+/=]/g,""));return r?decodeURIComponent(g):g}catch{return""}}function*la(d){for(const r of d.flat(1/0))yield r instanceof Node?r:new Text(r)}function Nt(d,...r){if(!d||!r.length)return;const g={fragment:document.createDocumentFragment(),value:null};for(const P of la(r))(g.value=P)&&g.fragment.appendChild(P);return d.appendChild(g.fragment)&&g.value}function m(d,r,g,P=na,_=sa){return r==="date"?(g=new Date().setHours(20,30,40,50).toString(16),g.padEnd(d,g)):r==="hex"||r==="number"?(g=r==="hex"?16:10,$e(Qo({range:g,length:d,type:"floor"}),W=>W.toString(g)).join("")):(g=r==="mix"?P:_,$e(Qo({range:g.length,length:d}),(W,we)=>g===P&&!we?_[Qo({range:70})]:g[W]).join(""))}function da(){const d={createHTML:W=>W,createScript:W=>W,createScriptURL:W=>W};if(!C.trustedTypes?.createPolicy)return d;const r=C.trustedTypes.createPolicy.bind(C.trustedTypes),g=[{host:"bing.com",policy:"rwflyoutDefault"}],P=C.trustedTypes.defaultPolicy?.name??$e(g).Find(W=>to.endsWith(W.host))?.policy??"default",_=C.trustedTypes.defaultPolicy??r(P,d);return C.trustedTypes.createPolicy=(W,we)=>W===P?_:r(W,we),_}function yn(d){const r=new URL(d?.replace(/^blob:/,"")||"about:blank");return $e(e.url.prohibit.split("|")).Some(g=>r.hostname===g||r.pathname.startsWith(g))}function Io({primary:d=!1,target:r=document}){return d?y(`style#${e.id.rndStyle}`,document.head):Ze("style[id]",r).filter(g=>$e(g.attributes).Some(P=>/^fr-css-[0-9a-f]{8}$/.test(P.name)))}function pa(d){const r=()=>{const g=n?`\u{1F6A9} [\u811A\u672C\u5197\u4F59\u8B66\u544A]:\r
\u53D1\u73B0\u5197\u4F59\u5B89\u88C5\u7684\u811A\u672C: "${e.var.scriptName}"\uFF0C\u5982\u5237\u65B0\u540E\u95EE\u9898\u4F9D\u65E7\uFF0C\u8BF7\u8BBF\u95EE ${e.url.feedback}/117 \u6392\u67E5\u9519\u8BEF\u3002`:`\u{1F6A9} [Redundant Warning]:\r
Found Redundant Script: '${e.var.scriptName}', if persists after reloading, please visit ${e.url.feedback}/117 to troubleshoot.`;return Ye&&Gt(`\uFFF8\u{1F6D1} ${n?"\u53D1\u73B0\u5197\u4F59\u5B89\u88C5\u7684\u811A\u672C\uFF0C\u70B9\u51FB\u6392\u67E5\uFF01":"Troubleshoot Redundant"}`,()=>ct(`${e.url.feedback}/117`,!1))&&ot("error",g),!0};if(!Ye&&yn(aa))return!0;if(d["fr-init-once"]===!0)return r();if(os){if(document.documentElement?.hasAttribute("fr-init-once"))return r();const g=n?`${e.var.scriptName}\u8B66\u544A\r
\u811A\u672C\u7684\u6CE8\u5165\u6A21\u5F0F\u5DF2\u8BBE\u7F6E\u4E3A"content"\uFF0C\u90E8\u5206\u811A\u672C\u529F\u80FD\u5C06\u53D7\u9650\u5236\uFF0C\u5982\u6846\u67B6\u9875\u9762\u5185\u90E8\u5206\u529F\u80FD\u5931\u6548\u3001\u5B57\u4F53\u7F29\u653E\u540E\u65E0\u6CD5\u5168\u5C40\u4FEE\u6B63\u5750\u6807\u7B49\u3002`:`${e.var.scriptName} Warning\r
The injection mode of the script has been set to "content", and some script features will be limited.`;Ye&&ot("warn",g)}(d["fr-init-once"]=!0)&&q.Object.freeze(e.const)&&ss(document.documentElement)}function Ro(){return gt(500,{useCachedSetTimeout:!0}).then(()=>C.location.reload(!0))}function ss(d){d&&(d.id||(d.id=e.const.root),d.hasAttribute("fr-init-once")||d.setAttribute("fr-init-once",""))}async function ua(){const d=Qe(C),r=await _(`${Dt} ${gn}`);return r?g(r):P(navigator.userAgent);function g(Z){const Fe=Ne(Z.platform),Oe=({brand:st,version:Ot})=>`${/Not[^a-z]*A[^a-z]*Brand/i.test(st)?9:/^Chrom(?:e|ium)|Firefox|Safari$/i.test(st)?5:1}${st}\r${Ot}`,[ze,_e]=Z.brands?.map(Oe).sort()[0]?.slice(1).split("\r")??[],Ge={Chrome:"Blink",Chromium:"Blink",Firefox:"Gecko",Safari:"WebKit"},lt=({brand:st,version:Ot})=>/^(Chrom(?:e|ium)|Firefox|Safari)$/i.test(st)&&`${st}\r${Ot}`,[bt,dt]=Z.brands?.map(lt).filter(Boolean)[0]?.split("\r")??[ze,_e],Yt={engine:Ge[go(bt)]??Wt(navigator.userAgent),engineVersion:parseFloat(dt)||99,creditEngine:d},Lt={brand:(ze?.split(/\s/)??[]).slice(-1)[0]??"Unknown",brandVersion:we(_e),os:Fe};return{...Yt,...Lt,source:Z.source??"uad",voucher:Z.voucher??null}}function P(Z){const Fe=(bt,dt="")=>new RegExp(bt,dt).test(Z),Oe=(bt,dt)=>Fe(bt)&&Z.slice(Z.indexOf(bt)+dt).match(/\d+(\.\d+)*/)?.[0],{brand:ze,brandVersion:_e,engine:Ge,engineVersion:lt}=W(Z,Fe,Oe);return{engine:Ge,engineVersion:lt,creditEngine:d,brand:ze,brandVersion:_e,os:no(Fe),source:"ua",voucher:null}}async function _(Z){const Fe=({browserName:_e,browserVersion:Ge,os:lt,arch:bt})=>{const[dt,Yt]=bt?.split("-")??[];let Lt=[{brand:go(_e),version:Ge}];if(parseFloat(Ge)<78&&We.userAgent){const[,st,Ot]=We.userAgent.match(/\s(Chrom(?:e|ium)|Firefox)\/(\d+[.0-9]*)/i)??[];st&&(Lt=[{brand:go(st),version:Ot},...Lt])}return{bitness:Yt,architecture:dt,brands:Lt,platform:go(lt),source:"ext",voucher:Z}};if(Z.startsWith("Violentmonkey")&&We.platform)return Fe(We.platform);const Oe=_e=>{if(d==="Gecko"&&parseFloat(_e.brands[0].version)<78){const[,Ge,lt]=navigator.userAgent.match(/\s(Firefox)\/(\d+[.0-9]*)/i)??[];if(Ge)return{..._e,brands:[{brand:go(Ge),version:lt},..._e.brands],source:"ua"}}return{..._e,source:"ext",voucher:Z}};if(Z.startsWith("Tampermonkey")&&We.userAgentData)return Oe(We.userAgentData);const ze=async _e=>await _e.getHighEntropyValues(["bitness","architecture","fullVersionList"]).then(Ge=>(Ge.brands=Ge.fullVersionList,delete Ge.fullVersionList,Ge));return navigator.userAgentData?.brands?.[0]?await ze(navigator.userAgentData):null}function W(Z,Fe,Oe){const ze=Wt(Z),_e={OPR:{brand:"Opera",engine:"Blink",as:"Chrome"},YaBrowser:{brand:"Yandex",engine:"Blink",as:"Chrome"},Edg:{brand:"Edge",engine:"Blink",as:"Chrome"},Chromium:{brand:"Chromium",engine:"Blink"},Chrome:{brand:"Chrome",engine:"Blink"},LibreWolf:{brand:"LibreWolf",engine:"Gecko",as:"Firefox"},SeaMonkey:{brand:"SeaMonkey",engine:"Gecko",as:"Firefox"},PaleMoon:{brand:"PaleMoon",engine:"Gecko",as:"Firefox"},Waterfox:{brand:"Waterfox",engine:"Gecko",as:"Firefox"},Firefox:{brand:"Firefox",engine:"Gecko"},Konqueror:{brand:"Konqueror",engine:"webkit"},Kindle:{brand:"Kindle",engine:"WebKit",as:"Version"},Safari:{brand:"Safari",engine:"WebKit",as:"Version",verset:["Version"]},Trident:{brand:"IE",engine:"Trident",verset:["MSIE","rv"]},Presto:{brand:"Opera",engine:"Presto"}};for(const[dt,{brand:Yt,engine:Lt,verset:st,as:Ot}]of Object.entries(_e)){if(!Fe(dt))continue;const tn=$e(st??[]).Find(zt=>Fe(zt))||dt;let Xt=Oe(tn,tn.length+1);if(!Xt)continue;const pt=Ot||dt,bo=parseFloat(Oe(pt,pt.length+1)||99);return{brand:Yt,brandVersion:we(Xt),engine:Lt,engineVersion:bo}}const{b:Ge,bv:lt,ev:bt}=oo(Z);return{brand:Ge,brandVersion:lt,engine:ze,engineVersion:bt}}function we(Z){if(!Z)return"0.0.0.0";const Fe=Z.split(".").map(Oe=>parseInt(Oe)||0);for(;Fe.length<4;)Fe.push(0);return Fe.join(".")}function Ne(Z){if(!Z)return"Unknown";const Fe=go(Z);return/^(Like Mac|Ios)$/.test(Fe)?"iOS":Fe==="Cros"?"Chrome OS":Fe.startsWith("Win")?"Windows":Fe.startsWith("Mac")?"MacOS":Fe==="X11"?"Linux":Fe}function Qe(Z){return Z.GestureEvent?"WebKit":Z.scrollByLines||Z.getDefaultComputedStyle?"Gecko":Z.webkitRequestFileSystem||Z.queryLocalFonts?"Blink":"Unknown"}function Wt(Z){return/Gecko\/|Firefox\/|FxiOS/.test(Z)?"Gecko":/Chrom(?:e|ium)\/|CriOS/.test(Z)?"Blink":/AppleWebKit\/|Version\//.test(Z)?"WebKit":"Unknown"}function oo(Z){const[Fe,Oe]=[Z.lastIndexOf(" ")+1,Z.lastIndexOf("/")];if(Fe===0||Oe===-1||Oe<Fe)return{b:"Unknown",bv:"0.0.0.0",ev:99};const ze=Z.slice(Fe,Oe).trim(),_e=we(Z.slice(Oe+1).match(/\d*\.?\d+/)?.[0]),Ge=parseFloat(Z.match(/(?:Chrom(?:e|ium)|Firefox|Version)\/(\d+[.0-9]*)/i)?.[1]||_e||99),lt=!/version|\/|\(|\)|;/i.test(ze)&&_e||"0.0.0.0";return{b:ze,bv:lt,ev:Ge}}function no(Z){const Oe=$e(["like Mac","Mac","Android","Debian","Ubuntu","Linux","Win","CrOS","X11"]).Find(ze=>Z(ze,"i"))||"Unknown";return Ne(Oe)}}function fa(d){const{host:r,href:g,hostname:P,pathname:_,protocol:W}=C.location,we=C.self===C.top;try{d=we?r:C.top.location.host}catch{d=new URL(document.referrer||C.location).host}return{h:r,hR:g,hN:P,pN:_,pT:W,tH:d,iT:we,fS:we?"":"[FRAMES]"}}function Do(d){const r=new RegExp(`//\\s+@${d}\\s+(.+)`);return(We.scriptMetaStr||We.scriptSource)?.match(r)?.[1]}function ma(d=navigator.language){return new Set(["zh-CN","zh-TW","en","ja","ko"]).has(d)?d:d.startsWith("zh")?"zh-TW":"en"}function as(){const d=ye("Rjl5NG5n"),r=new URL(C.location).searchParams.get("whoami");return Object.is(d,r)}function gt(d,{useCachedSetTimeout:r,instant:g}={}){const P=r?setTimeout:Mo.setTimeout,_=new Promise(we=>{P(we,d)}),W=we=>_.then(()=>we);return W.then=_.then.bind(_),W.catch=_.catch.bind(_),g?_:W}function Ao({fn:d,delay:r,once:g=!1,immed:P=!1}){if(typeof d!="function"||typeof r!="number"||r<0)throw new Error("createDeBounce: Invalid arguments");let _;function W(...we){const Ne=this,Qe=()=>(d.apply(Ne,we),_=g||null);if(_!==!0){if(_)Mo.clearTimeout(_);else if(P&&Qe())return;_=Mo.setTimeout(Qe,r)}}return W.setImmediate=we=>P=!!we,W}function St(d,r){return d?(Array.isArray(d)?d:typeof d=="string"?Ze(d,r):d?.nodeType?[d]:[]).every(P=>P.remove()||P.parentNode===null):!1}function nt(d,{immediate:r=!0,preventDefault:g=!1}={}){g&&d.preventDefault(),e.var[r?"stopImmediatePropagation":"stopPropagation"].call(d)}function kn(d){return typeof d!="string"?"":$e(d,g=>`\\${("00"+g.charCodeAt(0).toString(16)).slice(-4)}`).join("").toUpperCase()}function en(d,r="text/plain"){try{navigator.clipboard.writeText(d)}catch{const P=_=>{_.preventDefault(),_.clipboardData.setData(r,d),document.removeEventListener("copy",P,!0)};document.addEventListener("copy",P,!0),document.execCommand("copy")}}(async function(d,r,g){const[P,_,W,we]=["_REMOTERENDERRULESDATA_","_CONFIGURE_","_EXCLUDE_SITES_","_FONTS_SET_"],[Ne,Qe,Wt,oo]=["_DOMAINS_FONTS_SET_","_CUSTOM_FONTLIST_","_CUSTOM_PROPERTY_","_MONOSPACED_SITERULES_"],[no,Z,Fe]=["_MONOSPACED_FONTLIST_","_MONOSPACED_FEATURE_","_FONTOVERRIDE_DEF_"],[Oe,ze,_e]=["_FONTSCALE_DEF_","_FONTCHECKLIST_","_FR_FIREOFX_FIXINPUT_"],[Ge,lt,bt]=["documentElement","head","body"].map(c=>new ra(()=>document[c])),{engine:dt,engineVersion:Yt,creditEngine:Lt,brand:st,os:Ot,voucher:tn}=g=await ua(),[Xt,pt,bo]=["Blink","Gecko","WebKit"].map(c=>c===Lt),zt=tn===null&&(dt!==Lt||wa(navigator.userAgentData)),[at,xo]=[["Greasemonkey","Userscripts","FireMonkey","stay"].includes(Dt),Ot==="MacOS"],[_t,Mt]=[96,123].map(c=>et({BLINK:c})),ha=et({WEBKIT:16.4,BLINK:73,GECKO:101,ignore:null}),rs=n?`<li class="${e.const.seed}.fixed">\u4F18\u5316\u811A\u672C\u6837\u5F0F\u63D2\u5165\u51FD\u6570\u4E3A\u60F0\u6027\u51FD\u6570\uFF0C\u63D0\u5347\u6027\u80FD\u3002</li>
            <li class="${e.const.seed}.fixed">\u4FEE\u590D\u5B57\u4F53\u7F29\u653E\u89C6\u53E3\u5355\u4F4D\u4FEE\u6B63\u51FD\u6570\u7684\u4E00\u4E2A\u9690\u85CFBug\u3002</li>
            <li class="${e.const.seed}.fixed">\u4FEE\u590D\u4E00\u4E9B\u5DF2\u77E5\u7684\u95EE\u9898\uFF0C\u4F18\u5316\u4EE3\u7801\uFF0C\u4F18\u5316\u6837\u5F0F\u3002</li>`:`<li class="${e.const.seed}.fixed">Optimized style insertion function as a lazy function.</li>
            <li class="${e.const.seed}.fixed">Fixed a hidden bug in viewport unit correction.</li>
            <li class="${e.const.seed}.fixed">Fixed some known issues, optimized code & style.</li>`,is=new Set([{ch:"\u5FAE\u8F6F\u96C5\u9ED1",en:"Microsoft YaHei UI",ps:"MicrosoftYaHeiUI"},{ch:"\u5FAE\u8EDF\u6B63\u9ED1\u9AD4",en:"Microsoft JhengHei",ps:"MicrosoftJhengHeiRegular"},{ch:"\u82F9\u65B9-\u7B80",en:"PingFang SC",ps:"PingFangSC-Regular"},{ch:"\u860B\u65B9-\u7E41",en:"PingFang TC",ps:"PingFangTC-Regular"},{ch:"\u860B\u65B9-\u6E2F",en:"PingFang HK",ps:"PingFangHK-Regular"},{ch:"\u66F4\u7EB1\u9ED1\u4F53 SC",en:"Sarasa Gothic SC",ps:"Sarasa-Gothic-SC-Regular"},{ch:"\u66F4\u7D17\u9ED1\u9AD4 TC",en:"Sarasa Gothic TC",ps:"Sarasa-Gothic-TC-Regular"},{ch:"\u51AC\u9752\u9ED1\u4F53\u7B80",en:"Hiragino Sans GB",ps:"HiraginoSansGB-Regular"},{ch:"\u5170\u4EAD\u9ED1-\u7B80",en:"Lantinghei SC",ps:"FZLTTHK--GBK1-0"},{ch:"OPPO Sans",en:"OPPO Sans",ps:"OPPOSans"},{ch:"\u971E\u9E5C\u6587\u6977",en:"LXGW WenKai",ps:"LXGWWenKai-Regular"},{ch:"\u9E3F\u8499\u9ED1\u4F53",en:"HarmonyOS Sans SC",ps:"HarmonyOS_Sans_SC"},{ch:"\u6D6A\u6F2B\u96C5\u5706",en:"LMYY",ps:"\u6D6A\u6F2B\u96C5\u5706"},{ch:"\u601D\u6E90\u9ED1\u4F53",en:"Source Han Sans SC",ps:"SourceHanSansSC-Regular"},{ch:"\u601D\u6E90\u5B8B\u4F53",en:"Source Han Serif SC",ps:"SourceHanSerifSC-Regular"},{ch:"\u6C49\u4EEA\u65D7\u9ED1",en:"HYQiHei",ps:"HYQiHei-EES"},{ch:"\u6587\u6CC9\u9A7F\u5FAE\u7C73\u9ED1",en:"WenQuanYi Micro Hei",ps:"WenQuanYiMicroHei"},{ch:"\u6587\u6CC9\u9A7F\u6B63\u9ED1",en:"WenQuanYi Zen Hei",ps:"WenQuanYiZenHei"},{ch:"\u65B9\u6B63\u8212\u4F53",en:"FZShuTi",ps:"FZSTK--GBK1-0"},{ch:"\u65B9\u6B63\u59DA\u4F53",en:"FZYaoti",ps:"FZYTK--GBK1-0"},{ch:"\u534E\u6587\u4EFF\u5B8B",en:"STFangsong",ps:"STFangsong"},{ch:"\u534E\u6587\u6977\u4F53",en:"STKaiti",ps:"STKaiti"},{ch:"\u534E\u6587\u7EC6\u9ED1",en:"STXihei",ps:"STXihei"},{ch:"\u534E\u6587\u5F69\u4E91",en:"STCaiyun",ps:"STCaiyun"},{ch:"\u534E\u6587\u7425\u73C0",en:"STHupo",ps:"STHupo"},{ch:"\u534E\u6587\u65B0\u9B4F",en:"STXinwei",ps:"STXinwei"},{ch:"\u534E\u6587\u96B6\u4E66",en:"STLiti",ps:"STLiti"},{ch:"\u534E\u6587\u884C\u6977",en:"STXingkai",ps:"STXingkai"},{ch:"\u96C5\u75DE-\u7B80",en:"Yuppy SC",ps:"YuppySC-Regular"},{ch:"\u5706\u4F53-\u7B80",en:"Yuanti SC",ps:"YuantiSC-Regular"},{ch:"\u624B\u4E66\u4F53",en:"ShouShuti",ps:"ShouShuti"},{ch:"\u5E7C\u5706",en:"YouYuan",ps:"YouYuan"}]),xe={fontSelect:bo||!zt&&xo?"'PingFang SC'":"'Microsoft YaHei UI'",fontFace:!0,fontSmooth:!0,fontSize:1,fixViewport:!0,fontStroke:pt?.08:Xt?.015:0,fixStroke:_t,lazyload:!1,fontShadow:pt?.36:.75,fixShadow:!1,renderCanvas:!1,shadowColor:pt?"#70707070":"#7C7C7CDD",fontCSS:":not(i,head *):not(mjx-container *,.katex *):not([class*='glyph']):not([class*='symbols' i]):not([class*='icon' i]):not([class*='fa-']):not([class*='vjs-'])",fontEx:"[class*='watermark' i],.textLayer *,pre,pre *,code,code *"},cs={isBackupFunction:!0,isPreview:!1,isFontsize:!1,isFixViewport:!1,isHotkey:!0,isCloseTip:!1,maxPersonalSites:100},ls={...cs,rebuild:void 0,curVersion:void 0,globalDisable:!1,isCustomMono:!1},It={fontBase:"system-ui,-apple-system,BlinkMacSystemFont,sans-serif",fontEmoji:"'Apple Color Emoji','Segoe UI Emoji','Noto Color Emoji','Android Emoji',EmojiSymbols,'EmojiOne Mozilla','Twemoji Mozilla','Segoe UI Symbol','Noto Color Emoji Compat','Font Awesome 6 Pro','Font Awesome 5 Pro',FontAwesome,emoji,codicon,iconfont,icomoon,IcoFont,bwi-font,fontello,themify,bootstrap-icons,'Segoe Fluent Icons','Material Icons','Material Icons Extended','Material Icons Outlined','Material Icons Round','Material Icons Sharp','Material Icons Two Tone','Google Material Icons','Google Material Icons Filled','Material Symbols Outlined','Material Symbols Round','Material Symbols Rounded','Material Symbols Sharp','Google Symbols'",monospacedFont:"'Operator Mono Lig','Fira Code','Source Code Pro','JetBrains Mono',Inconsolata,Monaco,'Roboto Mono','Ubuntu Mono','Anonymous Pro','Droid Sans Mono',Menlo,Consolas",monospacedFeature:'"liga" 0,"tnum","zero"',editorialSiteList:"image.baidu.com|feishu.cn|github.com|github.dev|github1s.com|docs.google.com|fonts.google.com|mail.google.com|support.google.com|newassets.hcaptcha.com|kdocs.cn|leetcode.cn|leetcode.com|notion.site|notion.so|notion.com|docs.qq.com|weread.qq.com|regex101.com|shimo.im|addon.tencentsuite.com|tool.lu|vscode.dev|wolai.com|wqxuetang.com|xiezuocat.com|note.youdao.com|youtube.com|yuque.com"};e.url.guideURI=`${e.url.feedback}/../wiki/${n?encodeURIComponent("\u5B57\u4F53\u6E32\u67D3\uFF08\u81EA\u7528\u811A\u672C\uFF09"):"Font-Rendering-(Customized)"}`,e.url.installURI=`${e.url.homepage}${n?"index.html#\u5B57\u4F53\u6E32\u67D3\u81EA\u7528\u811A\u672C":"index_en.html#font-rendering-customized"}-font-renderinguserjs`,e.var.style=q.Object.freeze({main:"display:inline-block;font-family:ui-monospace,monospace",firefox:"input:is([type='text'],[type='password'],[type='search'],[type='email'],[type='tel'],[type='url'],[type='number']),input:not([type]){font-family:serif!important}",frDialog:`:root>#${e.const.dialog}{display:block!important;width:auto!important;height:auto!important;background:0 0!important;opacity:1!important;border-width:0!important;outline:0!important;z-index:2147483647!important}:root>#${e.const.dialog}::backdrop{background:transparent!important}#${e.const.dialog}>fr-colorpicker div{all:revert}@font-face{font-family:Anton;font-style:normal;font-weight:400;font-display:swap;src:local("Impact"),url(${e.url.Anton}) format("woff2");unicode-range:U+00??,U+0131,U+0152-0153,U+02bb-02bc,U+02c6,U+02da,U+02dc,U+0304,U+0308,U+0329,U+2000-206f,U+2074,U+20ac,U+2122,U+2191,U+2193,U+2212,U+2215,U+feff,U+fffd}`,shared:`:host(fr-dialogbox),:host(fr-configure){position:fixed!important;top:0!important;left:0!important;width:100%!important;height:100%!important;background:0 0!important;pointer-events:none!important;--fr-shared-fontfamily:${xe.fontSelect},system-ui,-apple-system,BlinkMacSystemFont,sans-serif;--fr-shared-monospace:ui-monospace,'Operator Mono Lig','JetBrains Mono',monospace,${xe.fontSelect},sans-serif;--fr-shared-emoji:system-ui,-apple-system,BlinkMacSystemFont,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji,Android Emoji,mojiSymbol,EmojiOne Mozilla,Twemoji Mozilla,bwi-font;}.${e.const.seed}\\.disp\\:inline\\.block{display:inline-block!important}.${e.const.seed}\\.disp\\:block{display:block!important}.${e.const.seed}\\.disp\\:none{display:none!important}.${e.const.seed}\\.vis\\:visible{visibility:visible!important}.${e.const.seed}\\.vis\\:hidden{visibility:hidden!important}.${e.const.seed}\\.clr\\:8b0000{color:#8b0000!important}.${e.const.seed}\\.clr\\:cecece{color:#cecece!important}.${e.const.seed}\\.clr\\:crimson{color:#dc143c!important}.${e.const.seed}\\.fw\\:700{font-weight:700!important}.${e.const.seed}\\.opac\\:1{opacity:1!important}:is(#${e.id.container},.${e.class.db}) .${e.class.emoji}{text-shadow:1px 1px 2px #4b5b6b!important;vertical-align:2px;font:normal 400 16px/150% var(--fr-shared-emoji)!important}.${e.class.readonly}{background:linear-gradient(45deg,#ffe9e9,#ffe9e9 25%,transparent 0,transparent 50%,#ffe9e9 0,#ffe9e9 75%,transparent 0,transparent)!important;background-color:#fff7f7!important;background-size:50px 50px!important}`,frDialogBox:`:host(#${e.id.dialogbox}){z-index:2147483647}.${e.class.db}{position:absolute;top:calc(12% + 10px);right:20px;z-index:99999;display:block;overflow:hidden;box-sizing:content-box;width:100%;max-width:420px;border:2px solid #efefef;border-radius:6px;background:#fff;box-shadow:0 0 10px 0 rgba(0, 0, 0, 0.3);color:#444;transition:opacity .5s;pointer-events:auto;opacity:0}.${e.class.db} *{text-shadow:0 0 1px #777!important;font-family:var(--fr-shared-fontfamily),var(--fr-shared-emoji)!important;line-height:1.5!important;-webkit-text-stroke:0 transparent!important}.${e.class.db} textarea,.${e.class.db} input{background-color:#fefefe;color:#333}.${e.class.dbt}{display:flex;margin-top:0;padding:10px 15px;width:auto;background:#efefef;text-align:left;font-weight:700;font-size:18px!important;flex-wrap:wrap;justify-content:space-between;align-items:center;align-content:center}.${e.class.dbt},.${e.class.dbt} *{font-weight:700;font-size:20px!important;font-family:Candara,Times,var(--fr-shared-fontfamily)!important}.${e.class.dbm}{display:block;margin:5px;padding:10px;color:#444;text-align:left;font-weight:500;font-size:16px!important}.${e.class.dbb}{display:inline-block;box-sizing:content-box;margin:2px 1%;padding:8px 12px;min-width:12%;border-radius:4px;text-align:center;text-decoration:none!important;letter-spacing:0;font-weight:400;cursor:pointer}.${e.const.seed}\\.gradient\\.bg{background:#e7ffd9;animation:gradient 2s ease-in-out forwards}@keyframes gradient{0%{background:#e7ffd9}to{background:transparent}}.${e.class.db} .${e.class.dbt},.${e.class.db} .${e.class.dbb}{text-shadow:none!important;-webkit-text-stroke:0 transparent!important;-webkit-user-select:none;user-select:none}.${e.class.db} .${e.class.dbb}:hover{box-sizing:content-box;color:#fff;text-decoration:none!important;font-weight:700;opacity:.8}.${e.class.db} .${e.class.dbbf}:hover{box-shadow:0 0 3px #d93223!important}.${e.class.db} .${e.class.dbbf}{border:1px solid #d93223!important;border-radius:6px;background:#d93223!important;color:#fff!important;font-size:14px!important}.${e.class.db} .${e.class.dbbt}{border:1px solid #038c5a!important;border-radius:6px;background:#038c5a!important;color:#fff!important;font-size:14px!important}.${e.class.db} .${e.class.dbbt}:hover{box-shadow:0 0 3px #038c5a!important}.${e.class.db} .${e.class.dbbn}{border:1px solid #777!important;border-radius:6px;background:#777!important;color:#fff!important;font-size:14px!important}.${e.class.db} .${e.class.dbbn}:hover{box-shadow:0 0 3px #777!important}.${e.class.dbbc}{display:block;padding:2.5%;background:#efefef;color:#fff;text-align:right;font-size:initial}.${e.class.dbm} textarea{cursor:auto;overscroll-behavior:contain;scrollbar-color:auto}.${e.class.dbm} textarea::-webkit-scrollbar{width:8px;height:8px}.${e.class.dbm} textarea::-webkit-scrollbar-corner{border-radius:2px;background:#efefef;box-shadow:inset 0 0 3px #aaa}.${e.class.dbm} textarea::-webkit-scrollbar-thumb{border-radius:2px;background:#cfcfcf;box-shadow:inset 0 0 5px #999}.${e.class.dbm} textarea::-webkit-scrollbar-track{border-radius:2px;background:#efefef;box-shadow:inset 0 0 5px #aaa;}.${e.class.dbm} button:hover{background:#f6f6f6!important;box-shadow:0 0 3px #a7a7a7!important;cursor:pointer}.${e.class.dbm} p{margin:5px 0!important;text-align:left;text-indent:0;font-weight:400;font-size:16px;line-height:1.5!important;-webkit-user-select:none;user-select:none}.${e.class.dbm} ul{margin:0 0 0 10px!important;padding:2px;color:#808080;list-style:none;font:italic 400 14px/150% var(--fr-shared-fontfamily)!important;-webkit-user-select:none;user-select:none}.${e.class.dbm} ul::-webkit-scrollbar{width:10px;height:1px}.${e.class.dbm} ul::-webkit-scrollbar-thumb{border-radius:10px;background:#cfcfcf;box-shadow:inset 0 0 5px #999;}.${e.class.dbm} ul::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 5px #aaa}.${e.class.dbm} ul li{display:list-item;list-style-type:none;word-break:break-all}.${e.class.dbm} li:before{display:none}.${e.class.dbm} ul#${e.const.seed}\\.vlist li:hover{background-color:rgba(253, 246, 236, 0.8)!important}#${e.const.seed}\\.temp{padding:18px 8px;text-align:center;color:#555;font-size:14px!important}#${e.id.bk},#${e.id.pv},#${e.id.fs},#${e.id.fvp},#${e.id.hk},#${e.id.ct},#${e.id.mps},#${e.id.pdr},#${e.id.flc},#${e.id.gc},#${e.id.cm},#${e.id.fi}{display:flex;box-sizing:content-box;margin:0;padding:2px 4px!important;width:calc(98% - 10px);height:max-content;min-width:auto;min-height:40px;list-style:none;font-style:normal;justify-content:space-between;align-items:flex-start;word-break:break-word}.${e.class.checkbox}{display:none!important}.${e.class.checkbox}+label{position:relative;display:inline-block;box-sizing:content-box;margin:0 2px 0 0;padding:0;width:76px;height:32px;border-radius:7px;background:#f7836d;box-shadow:inset 0 0 20px rgba(0, 0, 0, 0.1),0 0 10px rgba(245, 146, 146, 0.4);white-space:nowrap;cursor:pointer}.${e.class.checkbox}+label::before{position:absolute;top:0;left:0;z-index:99;width:24px;height:32px;border-radius:7px;background:#fff;box-shadow:0 0 1px rgba(0, 0, 0, 0.6);color:#fff;content:' '}.${e.class.checkbox}+label::after{position:absolute;top:0;left:28px;padding:5px;border-radius:100px;color:#fff;content:'OFF';font-weight:700;font-style:normal;font-size:16px}.${e.class.checkbox}:checked+label{margin:0 2px 0 0;background:#67a5df!important;box-shadow:inset 0 0 20px rgba(0, 0, 0, 0.1),0 0 10px rgba(146, 196, 245, 0.4);cursor:pointer}.${e.class.checkbox}:checked+label::after{left:10px;content:'ON'}.${e.class.checkbox}:checked+label::before{position:absolute;left:52px;z-index:99;content:' '}#${e.const.seed}\\.monospaced\\.siterules::placeholder,#${e.const.seed}\\.monospaced\\.font::placeholder,#${e.const.seed}\\.monospaced\\.feature::placeholder,#${e.const.seed}\\.custom\\.feature::placeholder,#${e.const.seed}\\.custom\\.variant::placeholder{color:#aaa!important;white-space:pre-line!important;font:normal 400 14px/150% var(--fr-shared-fontfamily)!important}.${e.const.seed}\\.VIP{margin:2px 0 0 0;color:#b8860b!important;font:normal 400 16px/150% var(--fr-shared-fontfamily)}.${e.const.seed}\\.VIP>u{all:initial;margin:0 4px 0 0;font:normal 500 16px/150% var(--fr-shared-emoji)!important;color:#b8860b!important}:is(#${e.id.pdr},#${e.id.flc},#${e.id.gc}) button{box-sizing:border-box!important;margin:0 5px 0 0!important;padding:5px!important;border:1px solid #999!important;border-radius:4px!important;background-color:#eee;color:#444!important;letter-spacing:normal!important;font-weight:400!important;font-size:14px!important}.${e.class.dbm} a{color:#0969da;text-decoration:none!important;font-style:inherit}.${e.class.dbm} a:hover{color:#dc143c;text-decoration:underline}#${e.id.feedback}{box-sizing:content-box;margin:0;padding:2px 10px;width:max-content;height:22px;min-width:auto;font-style:normal;font-size:16px;cursor:pointer}.${e.class.dbm} #${e.id.files}{display:none}#${e.id.feedback}:hover{color:#dc143c!important}#${e.id.feedback}:after{width:0;height:0;background:url('${e.url.loadingImg}') no-repeat -400px -300px;content:""}#${e.id.pdrr},#${e.id.flcid}{width:max-content;height:max-content;min-width:70px;min-height:32px}#${e.id.maxps}{box-sizing:border-box;padding:4px 5px;width:70px;min-width:70px;border:2px solid #b8860b;border-radius:4px;background:#efefef;color:#333;text-align:center;font:normal 400 16px/150% 'Anton',Times,serif!important}.${e.class.dbm} ul.${e.class.main}{overflow-x:hidden;box-sizing:content-box;margin:0;padding:5px 0;max-height:255px;overscroll-behavior:contain;scrollbar-color:auto}#${e.id.globaldisable}{width:max-content;height:max-content;min-width:70px;min-height:32px}#${e.const.seed}\\.del\\.sitedata{box-sizing:border-box;margin-left:15px;padding:3px 5px;width:max-content;height:max-content;max-width:120px;min-height:30px;border:1px solid #777;border-radius:4px;background-color:#eee;color:#333!important;letter-spacing:normal;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.sitedatalist>span{margin:0;padding:0 2px;color:#3e3e3e;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.save\\.sitedata{color:#4b0082;cursor:help;word-break:break-all}p.${e.const.seed}\\.exclusion{font:italic 700 24px/150% Candara,Times!important;word-break:break-all}#${e.const.seed}\\.sdata{box-sizing:content-box;margin:4px 6px;padding:2px 6px;width:57%;height:22px;outline:none!important;border:2px solid #777;border-radius:4px;font:normal 400 16px/150% var(--fr-shared-monospace)!important}#${e.const.seed}\\.sdata\\:search{box-sizing:border-box;margin:0;padding:3px 10px;width:max-content;height:max-content;min-width:60px;min-height:30px;border:1px solid #777;border-radius:4px;background:#eee;color:#333!important;outline:none!important;vertical-align:initial;text-align:center;letter-spacing:normal;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.sdata\\:clear{box-sizing:border-box;margin:0 0 0 4px;padding:3px 10px;width:max-content;height:max-content;min-width:60px;min-height:30px;border:1px solid #777;border-radius:4px;background:#eee;color:#333!important;vertical-align:initial;text-align:center;letter-spacing:normal;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.vlist{overflow-x:hidden;margin:0!important;padding:0!important;max-height:190px;list-style:none!important;overscroll-behavior:contain;scrollbar-color:auto}#${e.const.seed}\\.sdata\\:add{box-sizing:border-box;margin:0 0 0 4px;padding:3px 10px;width:max-content;height:max-content;min-width:60px;min-height:30px;border:1px solid #777;border-radius:4px;background:#eee;color:#8b0000!important;vertical-align:initial;text-align:center;letter-spacing:normal;font-weight:400;font-size:12px!important;cursor:pointer}#${e.const.seed}\\.vlist li[id^='${e.const.seed}.vlist.item:']{display:flex;overflow:hidden;margin:0;padding:5px;max-width:364px;color:#555;list-style:none;white-space:nowrap;font:normal 400 14px/150% var(--fr-shared-fontfamily)!important;justify-content:space-between}#${e.const.seed}\\.vlist span.${e.const.seed}\\.domainlist{overflow:hidden;margin-right:auto;padding-left:5px;width:85%;text-overflow:ellipsis;font-weight:700;-webkit-user-select:all;user-select:all}#${e.const.seed}\\.vlist span.${e.const.seed}\\.customdomain{overflow:hidden;margin-left:5px;width:57%;text-overflow:ellipsis;font-weight:700;-webkit-user-select:all;user-select:all}#${e.const.seed}\\.vlist a[id^='${e.const.seed}.vlist.item.link:']{padding:2px;background:0 0;color:#8b0000;font-size:14px!important;cursor:pointer}#${e.const.seed}\\.exSite\\.add{font:italic 700 24px/150% Candara,Times!important;word-break:break-all}#${e.const.seed}\\.custom\\.fontlist,#${e.const.seed}\\.fontoverride\\.defarray,#${e.const.seed}\\.fontscale\\.defjson{box-sizing:content-box;margin:0 0 4px 0;padding:5px;max-width:372px;min-width:372px;min-height:160px;max-height:457px;outline:0;border:1px solid #999;border-radius:6px;white-space:pre;font:normal 400 14px/150% var(--fr-shared-monospace)!important;resize:vertical;overscroll-behavior:contain;scrollbar-color:auto}#${e.const.seed}\\.warning\\.chn{display:block;margin:-7px 0 0 -7px!important;height:max-content;color:#dc143c;font-size:14px!important}#${e.const.seed}\\.warning\\.en{display:block;margin:-5px 0 0 0!important;height:max-content;color:#dc143c;font-size:14px!important}#${e.const.seed}\\.monospaced\\.siterules{box-sizing:border-box;margin:0!important;padding:5px!important;max-width:388px!important;min-width:388px!important;min-height:140px!important;max-height:256px;outline:0!important;border:1px solid #999;border-radius:6px;white-space:pre;font:normal 400 14px/150% var(--fr-shared-monospace)!important;resize:vertical;overscroll-behavior:contain;scrollbar-color:auto;word-break:keep-all!important}#${e.const.seed}\\.monospaced\\.font,#${e.const.seed}\\.monospaced\\.feature,#${e.const.seed}\\.custom\\.feature,#${e.const.seed}\\.custom\\.variant{box-sizing:border-box;padding:5px;width:380px;outline:0!important;border:1px solid #999;border-radius:6px;font:normal 400 14px/150% var(--fr-shared-monospace)!important}.${e.class.dbm} p:is(.${e.const.seed}\\.mono\\.notify,.${e.const.seed}\\.fontfeature,.${e.const.seed}\\.fontvariant){display:block;margin-top:10px!important;color:#555;font-size:14px!important}#${e.id.cm},#${e.id.fi}{margin:0 0 8px;width:97%!important;border-bottom:1px groove #ccc}.${e.class.dbm} span.${e.const.seed}\\.cusmono{margin:2px 0 0 0;color:#555!important;font-weight:700!important;user-select:none;-webkit-user-select:none}#${e.const.seed}\\.kbd{display:inline-block;box-sizing:content-box;margin:4px 0 0;padding:3px 10px;width:94%;border:1px solid rgba(175, 184, 193, 0.4);border-radius:6px;background-color:#f6f8fa;color:#666;vertical-align:middle;text-align:center;font-size:14px!important}.${e.const.seed}\\.clr\\:808080{color:#808080!important}.${e.const.seed}\\.fst\\:nml{font-style:normal!important}.${e.const.seed}\\.fst\\:ita{font-style:italic!important}.${e.const.seed}\\.fs\\:20p{font-size:20px!important}.${e.const.seed}\\.save\\:p{display:flex;height:30px;align-items:center}.${e.const.seed}\\.mh\\:22p{min-height:22px}.${e.const.seed}\\.indent\\:6p{text-indent:6px!important}.${e.const.seed}\\.mgr\\:5p{margin:0 5px 0 0}.${e.const.seed}\\.pd\\:0{padding:0}.${e.const.seed}\\.fs\\:14p{font-size:14px!important}.${e.const.seed}\\.fs\\:11p{font-size:11px!important}.${e.const.seed}\\.cs\\:pointer{cursor:pointer}.${e.const.seed}\\.wrap\\.break{word-wrap:break-word;word-break:break-all!important}.${e.const.seed}\\.clr\\:indigo{color:#4b0082!important}.${e.const.seed}\\.clr\\:green{color:#006400!important}.${e.const.seed}\\.clr\\:555{color:#555!important}.${e.const.seed}\\.fs\\:12p{font-size:12px!important}.${e.const.seed}\\.clr\\:tan{color:#d2b48c!important}.${e.const.seed}\\.clr\\:708090{color:#708090!important}.${e.const.seed}\\.clr\\:ff7f50{color:#ff7f50!important}.${e.const.seed}\\.list\\:p{display:flex;justify-content:left;align-items:center}.${e.const.seed}\\.mg\\:05p{margin:0 5px}.${e.const.seed}\\.clr\\:ff6347{color:#ff6347!important}.${e.const.seed}\\.v\\.en{padding:0px 4px;font:italic 700 20px/130% Candara,Times New Roman!important}.${e.const.seed}\\.v\\.cn{padding:4px;font:italic 700 22px/150% Candara,Times!important}.${e.const.seed}\\.hi\\.cn{font:italic 700 22px/150% var(--fr-shared-fontfamily)!important}.${e.const.seed}\\.hi\\.en{font:normal 700 20px/150% var(--fr-shared-fontfamily)!important}.${e.const.seed}\\.pd\\:4p{padding:4px}.${e.const.seed}\\.lh\\:180{line-height:180%!important}.${e.const.seed}\\.clr\\:b8860b{color:#b8860b!important}.${e.const.seed}\\.tal\\:center{text-align:center!important}.${e.const.seed}\\.cps{padding-bottom:6px;font-size:18px!important}.${e.const.seed}\\.cpsa{display:inline-block;overflow:hidden;width:302px;height:237px;border:2px solid #b8860b;border-radius:8px;background:url('${e.url.loadingImg}') 50% 50% no-repeat}.${e.const.seed}\\.clr\\:ff0000{border-color:#ff0000!important}.${e.const.seed}\\.clr\\:ff8c00{border-color:#ff8c00!important}.${e.const.seed}\\.input\\.pdb\\:5px{padding-bottom:5px;width:98%;}.${e.const.seed}\\.bd\\:crimson{border:2px solid #dc143c!important}.${e.const.seed}\\.list\\.reset{text-decoration:line-through;font-style:italic}#${e.const.seed}\\.report\\:author{overflow-y:auto;margin:0!important;padding:0!important;max-height:300px;list-style-position:outside}#${e.const.seed}\\.report\\:author li{padding:2px}#${e.const.seed}\\.custom\\.fontlist::placeholder{color:#aaa!important;white-space:pre-line!important;font:normal 400 14px/150% var(--fr-shared-fontfamily)!important;word-break:break-all!important}#${e.const.seed}\\.update li{margin:0;padding:1px 4px;color:#808080;font:normal 400 14px/150% var(--fr-shared-fontfamily)!important}#${e.const.seed}\\.update .${e.const.seed}\\.added{list-style-type:'\uFF0B'}#${e.const.seed}\\.update .${e.const.seed}\\.removed{list-style-type:'\uFF0D'}#${e.const.seed}\\.update .${e.const.seed}\\.fixed{list-style-type:'\uFF20'}#${e.const.seed}\\.update .${e.const.seed}\\.info{color:#daa520;word-break:break-word;list-style-type:'\u266F'}#${e.const.seed}\\.update .${e.const.seed}\\.warn{color:#e90000;word-break:break-word;list-style-type:'\u2718'}#${e.const.seed}\\.update .${e.const.seed}\\.init{color:#65a16a;word-break:break-word;list-style-type:'\u2691'}.${e.class.dbm} input:focus,.${e.class.dbm} textarea:focus{box-shadow:inset 0 1px 3px rgba(0, 0, 0, 0.1),0 0 4px rgba(110, 111, 112, 0.6)!important}@-moz-document url-prefix() {.${e.class.dbm} textarea,.${e.class.dbm} ul,#${e.const.seed}\\.custom\\.fontlist,#${e.const.seed}\\.monospaced\\.siterules,#${e.const.seed}\\.fontoverride\\.defarray,#${e.const.seed}\\.fontscale\\.defjson{scrollbar-color:rgba(187, 187, 187, 0.73) rgba(238, 238, 238, 0.07);scrollbar-width:thin}}`,frConfigure:`:host(#${e.id.configure}){z-index:2147483645}#${e.id.container}{position:absolute;top:10px;right:24px;z-index:99999;overflow-x:hidden;overflow-y:auto;display:block;box-sizing:content-box;padding:4px;max-height:calc(100% - 40px);min-height:10%;border-radius:12px;background:#f0f6ff!important;box-shadow:0 0 4px 0 rgba(0, 0, 0, 0.3);color:#333;text-align:left;font-weight:700;font-size:16px!important;opacity:0;transition:opacity .5s;width:auto;overscroll-behavior:contain;pointer-events:auto;scrollbar-color:auto}#${e.id.container}::-webkit-scrollbar{width:10px;height:1px}#${e.id.container}::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 5px #67a5df}#${e.id.container}::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 5px #67a5df}#${e.id.container} *{text-shadow:none!important;font-weight:700;font-size:16px;font-family:var(--fr-shared-fontfamily),var(--fr-shared-emoji)!important;line-height:1.5!important;-webkit-text-stroke:0 transparent!important}#${e.id.container} fieldset{display:block;margin:2px;padding:4px 6px;width:auto;height:auto;min-height:475px;border:2px groove #67a5df!important;border-radius:10px;background:#f0f6ff!important}#${e.id.container} legend{position:relative!important;float:none!important;display:block!important;visibility:visible!important;box-sizing:content-box;margin:0;padding:0 32px 0 8px;width:auto!important;height:auto!important;border:none!important;background:#f0f6ff!important;font:normal 700 16px/150% var(--fr-shared-fontfamily)!important}#${e.id.container} fieldset ul{margin:0;padding:0;background:#f0f6ff!important}#${e.id.container} ul li{float:none;display:block;box-sizing:content-box;margin:3px 0;min-width:-webkit-fill-available;min-width:-moz-available;border:none;background:#f0f6ff!important;list-style:none;cursor:default;-webkit-user-select:none;user-select:none}#${e.id.container} ul li:before{display:none}#${e.id.container} .${e.class.rotation} svg{visibility:visible!important;overflow:hidden;width:24px;height:24px;vertical-align:initial!important;fill:#67a5df}#${e.id.container} .${e.class.rotation} svg:hover{cursor:help}#${e.const.seed}\\.scriptname{display:inline-block;margin:0 4px 0 0;vertical-align:bottom;overflow:hidden;min-width:130px;max-width:225px;text-overflow:ellipsis;white-space:nowrap;font-weight:700!important;-webkit-user-select:all;user-select:all}#${e.const.seed}\\.scriptname:hover{cursor:help}#${e.id.container} .${e.class.title} .${e.class.guide}{position:absolute;display:inline-block;cursor:pointer}@keyframes rotation{0%{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(1turn)}}.${e.class.title} .${e.class.rotation}{position:relative;display:inline-block;top:auto;right:auto;bottom:auto;left:auto;margin:0;padding:0;width:24px;height:24px;-webkit-transform:rotate(1turn);transform-origin:center 50% 0;animation:rotation 6s linear infinite}#${e.id.container} input:not([type='range'],[type='checkbox']):focus,#${e.id.container} textarea:focus{box-shadow:inset 0 1px 3px rgba(0, 0, 0, 0.1),0 0 6px rgba(82, 168, 236, 0.6)!important}#${e.id.fontList}{padding:2px 10px 0;min-height:73px}#${e.id.fontFace},#${e.id.fontSmooth}{display:flex!important;padding:2px 10px;width:calc(100% - 18px);height:40px;min-width:auto;align-items:center;justify-content:space-between}#${e.id.fontSize}{padding:2px 10px;height:60px}#${e.id.fontStroke}{padding:2px 10px;height:60px}#${e.id.fontShadow}{padding:2px 10px;height:60px}#${e.id.container} #${e.id.shadowColor}{display:flex;padding:2px 10px;width:auto;min-height:45px;align-items:center;justify-content:space-around;flex-wrap:nowrap;flex-direction:row}#${e.id.fontCss},#${e.id.fontEx}{padding:2px 10px;height:110px;min-height:110px;min-width:254px!important}#${e.id.submit}{padding:2px 10px;height:40px;display:flex!important}#${e.id.fontList} .${e.class.selector} a{text-decoration:none;font-weight:400}#${e.id.fontList} .${e.class.label}{display:inline-block;margin:-1px 4px 5px 0;padding:0;height:34px;line-height:100%!important}#${e.id.fontList} .${e.class.label} span{display:inline-block;overflow:hidden;box-sizing:border-box;padding:5px;width:max-content;height:max-content;max-width:200px;min-width:12px;background:#67a5df;color:#fff;text-overflow:ellipsis;white-space:nowrap;font-weight:400;font-size:16px!important}#${e.id.fontList} .${e.class.close}:hover{border-radius:2px;background-color:#2d7dca;color:#ff6347}#${e.id.fontList} .${e.class.close}{width:12px}#${e.id.fontList} .${e.class.selector}{overflow-x:hidden;box-sizing:border-box;margin:0 0 6px 0;padding:6px 0 0 6px;width:100%;max-width:254px;max-height:90px;min-width:100%;min-height:45px;border:2px solid #67a5df!important;border-radius:6px;overscroll-behavior:contain;scrollbar-color:auto}#${e.id.selector}{width:100%;max-width:100%;display:none}#${e.id.selector} label{display:block;margin:0 0 4px;color:#333;cursor:auto}#${e.id.cleaner}{margin-left:5px;cursor:pointer}#${e.id.cleaner}:hover{color:#dc143c}#${e.id.fontList} .${e.class.selector}::-webkit-scrollbar{width:6px;height:1px}#${e.id.fontList} .${e.class.selector}::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 2px #67a5df}#${e.id.fontList} .${e.class.selector}::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 2px #67a5df}#${e.id.fontList} .${e.class.selectFontID} span.${e.class.spanlabel},#${e.id.selector} span.${e.class.spanlabel}{display:block!important;margin:0!important;padding:0 0 4px;width:auto;border:0;background-color:transparent!important;color:#333;text-align:left!important}#${e.id.fontList} .${e.class.selectFontID}{width:auto}#${e.id.fontList} .${e.class.selectFontID} input{overflow:hidden;box-sizing:border-box;margin:0;padding:1px 4px 1px 0px;width:230px;height:42px;max-width:100%;min-width:100%;outline:none;border:2px solid #67a5df;border-radius:6px;background:#fafafa;text-indent:8px;text-overflow:ellipsis;color:#333;font:normal 700 16px/150% var(--fr-shared-fontfamily)!important}#${e.id.fontList} .${e.class.selectFontID} input[disabled]{pointer-events:none!important}#${e.id.fontList} input[disabled]::placeholder{color:#444a!important}#${e.id.fontList} .${e.class.selectFontID} input:focus:not(:placeholder-shown)~span{display:none}#${e.id.fontList} .${e.class.selectFontID} input::-webkit-search-cancel-button{margin:auto 4px;cursor:pointer}#${e.id.fontList} .${e.class.selectFontID} dl{display:none;position:absolute;z-index:1000;overflow-x:hidden;box-sizing:content-box;margin:4px 0 0;padding:4px 8px;width:auto;max-width:calc(100% - 68px);max-height:298px;min-width:60%;border:2px solid #67a5df!important;border-radius:6px;background-color:#fff;white-space:nowrap;font-size:18px!important;overscroll-behavior:contain;scrollbar-color:auto}#${e.const.seed}\\.fontoverride\\.def:hover,#${e.const.seed}\\.fontscale\\.def:hover{cursor:help;color:#8b0000}#${e.const.seed}\\.search::placeholder{color:#3699!important;font:normal 700 16px/150% var(--fr-shared-fontfamily)!important}#${e.id.fontList} .${e.class.selectFontID} dl::-webkit-scrollbar{width:10px;height:1px}#${e.id.fontList} .${e.class.selectFontID} dl::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 5px #67a5df}#${e.id.fontList} .${e.class.selectFontID} dl::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 5px #67a5df}#${e.id.fontList} .${e.class.selectFontID} dl dd{display:block;overflow-x:hidden;box-sizing:content-box;margin:1px 8px;padding:5px 0;width:-moz-available;width:-webkit-fill-available;max-width:100%;min-width:100%;text-overflow:ellipsis;font-weight:400;font-size:21px!important}#${e.id.fontList} .${e.class.selectFontID} dl dd:hover{overflow-x:hidden;box-sizing:content-box;min-width:-moz-available;min-width:-webkit-fill-available;background-color:#67a5df;color:#fff;text-overflow:ellipsis}.${e.class.checkbox}{display:none!important}.${e.class.checkbox}+label{position:relative;display:inline-block;box-sizing:content-box;margin:0 2px 0 0;padding:0;width:76px;height:32px;border-radius:7px;background:#f7836d;box-shadow:inset 0 0 20px rgba(0, 0, 0, 0.1),0 0 10px rgba(245, 146, 146, 0.4);white-space:nowrap;cursor:pointer}.${e.class.checkbox}+label::before{position:absolute;top:0;left:0;z-index:99;width:24px;height:32px;border-radius:7px;background:#fff;box-shadow:0 0 1px rgba(0, 0, 0, 0.6);color:#fff;content:" "}.${e.class.checkbox}+label::after{position:absolute;top:0;left:28px;padding:5px;border-radius:100px;color:#fff;content:"OFF";font-weight:700;font-style:normal;font-size:16px}.${e.class.checkbox}:checked+label{margin:0 2px 0 0;background:#67a5df!important;box-shadow:inset 0 0 20px rgba(0, 0, 0, 0.1),0 0 10px rgba(146, 196, 245, 0.4);cursor:pointer}.${e.class.checkbox}:checked+label::after{left:10px;content:"ON"}.${e.class.checkbox}:checked+label::before{position:absolute;left:52px;z-index:99;content:" "}#${e.id.fface} label,#${e.id.fface}+label::after,#${e.id.fface}+label::before,#${e.id.smooth} label,#${e.id.smooth}+label::after,#${e.id.smooth}+label::before{-webkit-transition:all .3s ease-in;transition:all .3s ease-in}#${e.id.fontShadow} div.${e.class.flex}:before,#${e.id.fontShadow} div.${e.class.flex}:after,#${e.id.fontStroke} div.${e.class.flex}:before,#${e.id.fontStroke} div.${e.class.flex}:after,#${e.id.fontSize} div.${e.class.flex}:before,#${e.id.fontSize} div.${e.class.flex}:after{display:none}#${e.id.shadowSize},#${e.id.strokeSize},#${e.id.fontScale}{box-sizing:content-box;margin:0 10px 0 0!important;padding:0;width:56px!important;height:32px!important;outline:none!important;border:2px solid #67a5df!important;border-radius:4px;background:#fafafa!important;color:#111!important;text-align:center;text-indent:0;font-weight:400!important;font-size:17px!important;font-family:'Anton',Times,serif!important}#${e.id.fontScale}[disabled]{background-color:rgba(228, 231, 237, 0.82)!important;color:#555!important;filter:grayscale(.9)}#${e.id.fviewport},#${e.id.fstroke},#${e.id.rdCanvas}{visibility:visible;width:auto;color:#666;font-size:12px!important}#${e.id.fviewport}>label,#${e.id.fstroke}>label,#${e.id.rdCanvas}>label{float:none!important;display:inline!important;margin:0!important;padding:0 4px 0 2px!important;color:#666!important;font-size:12px!important;cursor:help!important}#${e.id.fixViewport},#${e.id.fixStroke},#${e.id.renderCanvas}{display:inline-block;margin:0 2px 0 0!important;width:14px!important;height:14px!important;vertical-align:text-bottom;cursor:pointer;-webkit-appearance:none!important}#${e.id.fixViewport}:checked::after,#${e.id.fixStroke}:checked::after,#${e.id.renderCanvas}:checked::after{border:0!important;background-color:#65a0db;color:#fff;content:"\u2713";font-weight:700;font-size:12px;line-height:14px}.${e.class.flex}{display:flex;width:auto;min-width:100%;align-items:center;justify-content:space-between;flex-wrap:nowrap;flex-direction:row}.${e.class.slider} input{visibility:hidden}#${e.id.fixViewport}::after,#${e.id.fixStroke}::after,#${e.id.renderCanvas}::after{position:relative;top:0;display:inline-block;margin:0;padding:0;width:14px;height:14px;border-radius:3px;background-color:#aaa;color:#fff;content:"\u2717";vertical-align:top;text-align:center;font-weight:700;font-size:10px;line-height:14px}#${e.id.shadowColor} .${e.class.frColorPicker} #${e.id.color}{box-sizing:border-box;margin:0;padding:0 8px 0 0;min-width:160px;max-width:160px;height:35px!important;outline:none!important;border:2px solid #67a5df!important;border-radius:4px;background:rgba(253, 253, 255, 0.69);color:#333!important;text-align:center;text-indent:0;font-weight:400!important;font-size:18px!important;font-family:'Anton',Times,serif!important;cursor:pointer}#${e.id.fontCss} textarea,#${e.id.fontEx} textarea{display:block;box-sizing:border-box;margin:0;padding:5px;width:calc(100% - 2px)!important;height:78px;max-width:calc(100% - 2px);max-height:78px;min-width:calc(100% - 2px);min-height:78px;outline:none!important;border:2px solid #67a5df!important;border-radius:6px;scrollbar-color:auto;color:#0b5b9c!important;font:normal 600 14px/150% var(--fr-shared-monospace)!important;resize:none;cursor:auto;word-break:break-all;overscroll-behavior:contain;scrollbar-color:auto}#${e.id.fontCss} textarea::-webkit-scrollbar{width:6px;height:1px}#${e.id.fontCss} textarea::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 2px #67a5df}#${e.id.fontCss} textarea::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 2px rgba(0, 0, 0, 0.2)}#${e.id.fontEx} textarea{background:#fafafa!important}#${e.id.fontEx} textarea::-webkit-scrollbar{width:6px;height:1px}#${e.id.fontEx} textarea::-webkit-scrollbar-thumb{border-radius:10px;background:#487baf;box-shadow:inset 0 0 2px #67a5df}#${e.id.fontEx} textarea::-webkit-scrollbar-track{border-radius:10px;background:#efefef;box-shadow:inset 0 0 2px #67a5df}.${e.class.switcher}{float:right;box-sizing:border-box;margin:-2px 4px 0 0;padding:0 6px;border:2px double #67a5df;border-radius:4px;color:#0a68c1;}#${e.id.fontCss} textarea::placeholder,#${e.id.fontEx} textarea::placeholder{color:#555;font:italic 500 14px/150% var(--fr-shared-fontfamily)!important;opacity:.85}#${e.id.cSwitch}:hover,#${e.id.eSwitch}:hover{cursor:pointer;-webkit-user-select:none;user-select:none}.${e.class.notreadonly}{background:linear-gradient(45deg,#e9ffe9,#e9ffe9 25%,transparent 0,transparent 50%,#e9ffe9 0,#e9ffe9 75%,transparent 0,transparent)!important;background-color:#f7fff7!important;background-size:50px 50px}#${e.id.submit} button{box-sizing:border-box;margin:0;padding:5px 10px;width:auto;height:35px;min-width:min-content;min-height:35px;border:2px solid #6ba7e0;border-radius:6px;background-color:#67a5df;background-image:none;color:#fff!important;font:normal 600 14px/150% var(--fr-shared-fontfamily)!important;cursor:pointer}#${e.id.submit} button:hover{box-shadow:0 0 5px rgba(4, 47, 100, 0.35)!important}#${e.id.submit} .${e.class.cancel},#${e.id.submit} .${e.class.reset}{margin-right:6px}#${e.id.submit} .${e.class.submit}{margin-left:auto}#${e.id.backup}{display:none}.${e.class.anim}{border:2px solid #dc143c!important;background:#dc143c!important;animation:jiggle 1.8s ease-in infinite}@keyframes jiggle{48%,62%{transform:scale(1,1)}50%{transform:scale(1.1,.9)}56%{transform:scale(.9,1.1) translate(0,-5px)}59%{transform:scale(1,1) translate(0,-3px)}}.${e.class.tooltip}{position:relative;padding:0;cursor:help;-webkit-user-select:none;user-select:none}.${e.class.tooltip}:active .${e.class.tooltip}{display:block}.${e.const.seed}\\.mgl\\:-5p{margin:0 0 0 -5px}#${e.id.container} .${e.class.tooltip} .${e.class.tooltip} *{font-size:14px}.${e.class.tooltip} .${e.class.tooltip}{position:absolute;z-index:999999;display:none;box-sizing:content-box;padding:10px 10px 0 10px;width:234px;max-width:234px;border:2px solid #b8c4ce;border-radius:6px;background-color:#54a2ec;color:#fff;font-weight:400;opacity:.92;word-break:break-all}#${e.id.container} .${e.class.tooltip} .${e.class.tooltip} em{font-style:normal}#${e.id.container} .${e.class.tooltip} .${e.class.tooltip} strong{color:#ff8c00;font-size:18px}#${e.id.container} .${e.class.tooltip} .${e.class.tooltip} p{display:block;margin:0 0 10px;color:#fff;text-indent:0;line-height:150%}.${e.class.ps1}{position:relative;top:-33px;right:3px;float:right;margin:0;padding:0;width:24px;height:0}.${e.class.ps2}{top:35px;right:-7px}.${e.class.ps3},.${e.class.ps4},.${e.class.ps5}{bottom:30px;left:auto}#${e.id.fshadow}{visibility:hidden;margin-top:5px;position:absolute;z-index:999;box-sizing:content-box;padding:10px;width:234px;max-width:234px;border:2px solid #67a5df;border-radius:6px;background-color:#f0f6ff;color:#333;opacity:.92;left:21px}#${e.id.fshadow} .${e.const.seed}\\.fix\\.label{display:flex;align-items:center;justify-content:space-around}#${e.id.fshadow} .${e.const.seed}\\.fix\\.text{padding:5px;font-size:12px;font-weight:400;line-height:170%!important;color:#808287;word-break:break-all}.${e.const.seed}\\.mg\\:0\\.pd\\:0{margin:0;padding:0}.${e.const.seed}\\.checkbox{height:32px;align-self:center}.${e.const.seed}\\.ft\\:gs1{filter:grayscale(1)!important}.${e.const.seed}\\.mg\\:0-3p\\.pd\\:0{margin:0 -3px;padding:0}.${e.const.seed}\\.mgb\\:6p{margin:0 0 6px 0}.${e.const.seed}\\.bdlr\\:4px{border-top-left-radius:4px;border-bottom-left-radius:4px}.${e.const.seed}\\.bdrr\\:4px{border-top-right-radius:4px;border-bottom-right-radius:4px}.${e.const.seed}\\.usel\\:none{user-select:none!important}.${e.const.seed}\\.h\\:35p\\.mh\\:35p{height:35px!important;min-height:35px!important}.${e.const.seed}\\.prvw{background-color:#ff7f50!important;border-color:#ff7f50!important}.${e.const.seed}\\.input\\.color{background-position:left top,left top!important;background-size:var(--fr-input-gb-size,"auto,35px 16px")!important;background-repeat:repeat-y,repeat-y!important;background-origin:padding-box,padding-box!important;background-image:linear-gradient(90deg,var(--fr-input-color) 0,var(--fr-input-color) var(--fr-input-color-edge,35px),transparent var(--fr-input-color-edge2,36px),transparent),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAQCAYAAACcN8ZaAAAAAXNSR0IArs4c6QAAAFNJREFUSEtjnDlz5n8GPODs2bP4pBmMjY3xypOin3HUMUhhiRyyoyGDnMhGQwZXlhu8IZOWloa3nKFmOYItdJDLIcZRxyAF0WjI4MpNoyEz5EIGAMmNh+nDrPy/AAAAAElFTkSuQmCC")!important;padding-left:var(--fr-input-padding-left,43px)!important}#${e.id.fontList} .${e.class.selectFontID} dl>dt{all:initial;display:none;padding:8px;border-radius:4px;border:1px solid #e51111;background:#e51111;word-break:break-all;color:#efea11;font-size:15px;cursor:progress}@-moz-document url-prefix() {#${e.id.fontList} .${e.class.label}{margin:-1px 0 4px 0}#${e.id.fontList} .${e.class.selectFontID} input{padding:1px 24px 1px 0px!important}#${e.id.fontList} .${e.class.selectFontID} input:focus:not(:placeholder-shown){padding:1px 8px 1px 0px!important}#${e.id.container},#${e.id.fontList} .${e.class.selector},#${e.id.fontList} .${e.class.selectFontID} dl,#${e.id.fontCss} textarea,#${e.id.fontEx} textarea{scrollbar-color:#487baf #f1f0f0;scrollbar-width:thin}}`,frSlider:`:host(.${e.class.range}){--primary-color:#67a5df;--value-offset-y:var(--ticks-gap);--value-active-color:#fff;--value-background:transparent;--value-background-hover:var(--primary-color);--value-font:italic 700 14px/14px ui-monospace,Consolas,monospace;--fill-color:var(--primary-color);--progress-background:#dfdfdf;--progress-radius:20px;--show-min-max:none;--track-height:calc(var(--thumb-size) / 2);--min-max-font:12px serif;--min-max-opacity:0.5;--min-max-x-offset:10%;--thumb-size:22px;--thumb-color:#fff;--thumb-shadow:0 0 3px rgba(0, 0, 0, 0.4),0 0 1px rgba(0, 0, 0, 0.5) inset,0 0 0 99px var(--thumb-color) inset;--thumb-shadow-active:0 0 0 calc(var(--thumb-size) / 4) inset var(--thumb-color),0 0 0 99px var(--primary-color) inset,0 0 3px rgba(0, 0, 0, 0.4);--thumb-shadow-hover:0 0 0 calc(var(--thumb-size) / 4) inset var(--thumb-color),0 0 0 99px #ff8c00 inset,0 0 3px rgba(0, 0, 0, 0.4);--ticks-thickness:1px;--ticks-height:5px;--ticks-gap:var(--ticks-height, 0);--ticks-color:transparent;--ticks-count:(var(--max) - var(--min))/var(--step);--maxTicksAllowed:1000;--too-many-ticks:Min(1, Max(var(--ticks-count) - var(--maxTicksAllowed), 0));--x-step:Max(var(--step), var(--too-many-ticks) * (var(--max) - var(--min)));--tickIntervalPerc_1:Calc((var(--max) - var(--min)) / var(--x-step));--tickIntervalPerc:calc((100% - var(--thumb-size)) / var(--tickIntervalPerc_1) * var(--tickEvery, 1));--value-a:Clamp(var(--min), var(--value, 0), var(--max));--value-b:var(--value, 0);--text-value-a:var(--text-value, "");--completed-a:calc((var(--value-a) - var(--min)) / (var(--max) - var(--min)) * 100);--completed-b:calc((var(--value-b) - var(--min)) / (var(--max) - var(--min)) * 100);width:auto;min-width:105%!important;margin:-3px 0 0 -7px;box-sizing:content-box;display:inline-block;height:Max(var(--track-height),var(--thumb-size));background:linear-gradient(to right,var(--ticks-color) var(--ticks-thickness),transparent 1px) repeat-x;background-color:transparent;background-size:var(--tickIntervalPerc) var(--ticks-height);background-position-x:calc(var(--thumb-size)/ 2 - var(--ticks-thickness)/ 2);background-position-y:var(--flip-y,bottom);padding-bottom:var(--flip-y,var(--ticks-gap));padding-top:calc(var(--flip-y) * var(--ticks-gap));position:relative;z-index:1;--ca:Min(var(--completed-a), var(--completed-b));--cb:Max(var(--completed-a), var(--completed-b));--thumbs-too-close:Clamp(-1, 1000 * (Min(1, Max(var(--cb) - var(--ca) - 5, -1)) + 0.001), 1);--thumb-close-to-min:Min(1, Max(var(--ca) - 5, 0));--thumb-close-to-max:Min(1, Max(95 - var(--cb), 0))}:host(.${e.class.range}[disabled]){filter:grayscale(0.9);}:host(.${e.class.range}[data-ticks-position=top]){--flip-y:1}:host(.${e.class.range}::after),:host(.${e.class.range}::before){--offset:calc(var(--thumb-size) / 2);content:counter(x);display:var(--show-min-max,block);font:var(--min-max-font);position:absolute;bottom:var(--flip-y,-2.5ch);top:calc(-2.5ch * var(--flip-y));opacity:Clamp(0,var(--at-edge),var(--min-max-opacity));transform:translateX(calc(var(--min-max-x-offset) * var(--before,-1) * -1)) scale(var(--at-edge));pointer-events:none}:host(.${e.class.range}::before){--before:1;--at-edge:var(--thumb-close-to-min);counter-reset:x var(--min);left:var(--offset)}:host(.${e.class.range}::after){--at-edge:var(--thumb-close-to-max);counter-reset:x var(--max);right:var(--offset)}.${e.class.rangeProgress}{--start-end:calc(var(--thumb-size) / 2);--clip-end:calc(100% - (var(--cb)) * 1%);--clip-start:calc(var(--ca) * 1%);--clip:inset(-20px var(--clip-end) -20px var(--clip-start));position:absolute;left:var(--start-end);right:var(--start-end);top:calc(var(--ticks-gap) * var(--flip-y,0) + var(--thumb-size)/ 2 - var(--track-height)/ 2);height:calc(var(--track-height));background:var(--progress-background,#eee);pointer-events:none;z-index:-1;border-radius:var(--progress-radius)}.${e.class.rangeProgress}::before{content:"";position:absolute;left:0;right:0;clip-path:var(--clip);top:0;bottom:0;background:var(--fill-color,#000);box-shadow:var(--progress-flll-shadow);z-index:1;border-radius:inherit}.${e.class.rangeProgress}::after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:var(--progress-shadow);pointer-events:none;border-radius:inherit}:host(.${e.class.range})>input:only-of-type~.${e.class.rangeProgress}{--clip-start:0}:host(.${e.class.range})>input::-webkit-slider-runnable-track{background:transparent!important;box-shadow:none!important;border:none!important}:host(.${e.class.range})>input{-webkit-appearance:none;box-shadow:none!important;width:100%;height:var(--thumb-size)!important;margin:0!important;padding:0!important;position:absolute!important;left:0;top:calc(50% - Max(var(--track-height),var(--thumb-size))/ 2 + calc(var(--ticks-gap)/ 2 * var(--flip-y,-1)))!important;border:0!important;cursor:grab;outline:0!important;background:0 0!important;--thumb-shadow:var(--thumb-shadow-active)}:host(.${e.class.range})>input:not(:only-of-type){pointer-events:none}:host(.${e.class.range})>input::-webkit-slider-thumb{appearance:none;border:none;height:var(--thumb-size);width:var(--thumb-size);transform:var(--thumb-transform);border-radius:var(--thumb-radius,50%);background:var(--thumb-color);box-shadow:var(--thumb-shadow);pointer-events:auto;transition:.1s}:host(.${e.class.range})>input::-moz-range-thumb{appearance:none;border:none;height:var(--thumb-size);width:var(--thumb-size);transform:var(--thumb-transform);border-radius:var(--thumb-radius,50%);background:var(--thumb-color);box-shadow:var(--thumb-shadow);pointer-events:auto;transition:.1s}:host(.${e.class.range})>input::-ms-thumb{appearance:none;border:none;height:var(--thumb-size);width:var(--thumb-size);transform:var(--thumb-transform);border-radius:var(--thumb-radius,50%);background:var(--thumb-color);box-shadow:var(--thumb-shadow);pointer-events:auto;transition:.1s}:host(.${e.class.range})>input:hover{--thumb-shadow:var(--thumb-shadow-active)}:host(.${e.class.range})>input:hover+output{--value-background:var(--value-background-hover);--y-offset:-1px;color:var(--value-active-color);box-shadow:0 0 0 3px var(--value-background)}:host(.${e.class.range})>input:active{--thumb-shadow:var(--thumb-shadow-hover);cursor:grabbing;z-index:2}:host(.${e.class.range})>input:active+output{transition:0s;opacity:0.9;display:-webkit-box;-webkit-box-orient:horizontal;-webkit-box-pack:center;-webkit-box-align:center;-moz-box-orient:horizontal;-moz-box-pack:center;-moz-box-align:center}:host(.${e.class.range})>input:nth-of-type(1){--is-left-most:Clamp(0, (var(--value-a) - var(--value-b)) * 99999, 1)}:host(.${e.class.range})>input:nth-of-type(1)+output{--value:var(--value-a);--x-offset:calc(var(--completed-a) * -1%)})}:host(.${e.class.range})>input:nth-of-type(1)+output:not(:only-of-type){--flip:calc(var(--thumbs-too-close) * -1)}:host(.${e.class.range})>input:nth-of-type(1)+output::after{content:var(--prefix, "") var(--text-value-a) var(--suffix, "")}:host(.${e.class.range})>input:nth-of-type(2){--is-left-most:Clamp(0, (var(--value-b) - var(--value-a)) * 99999, 1)}:host(.${e.class.range})>input:nth-of-type(2)+output{--value:var(--value-b)}:host(.${e.class.range})>input+output::after{content:var(--prefix, "") var(--text-value-b) var(--suffix, "");font:var(--value-font)}:host(.${e.class.range})>input+output{--flip:-1;--x-offset:calc(var(--completed-b) * -1%);--pos:calc(((var(--value) - var(--min)) / (var(--max) - var(--min))) * 100%);pointer-events:none;width:auto;min-width:40px;height:24px;min-height:24px;text-align:center;position:absolute;z-index:5;background:var(--value-background);border-radius:4px;padding:0 6px;left:var(--pos);transform:translate(var(--x-offset),calc(150% * var(--flip) - (var(--y-offset,0) + var(--value-offset-y)) * var(--flip)));transition:all .12s ease-out,left 0s;opacity:0;box-sizing:content-box}`});const ds=c=>`:host(${c}){display:block!important;visibility:visible!important;opacity:1!important}`,on=(c,s)=>`${e.var.style.main};background-color:${c};color:${s};border-radius:4px;padding:4px 8px`,Sn=c=>`${e.var.style.main};background-color:${c};color:#fffafa;border-radius:4px 0 0 4px;padding:4px 2px 4px 8px`,Tn=c=>`${e.var.style.main};background-color:${c};color:#fffafa;border-radius:0 4px 4px 0;padding:4px 8px 4px 4px;margin:0 0 0 -2px`,ps=c=>`${e.var.style.main};color:${c};padding:4px 0;line-height:120%`,ga=String(ds("fr-dialogbox")+e.var.style.shared+e.var.style.frDialogBox);class No{constructor(){if(No.instance)return No.instance;q.Object.assign(this,{functionsToRun:[],finalFunctionsToRun:[],isRegistered:!1}),this._registerEventListeners(),document.addEventListener("readystatechange",()=>void this._checkDocumentReadyState()),No.instance=this}_runFunctions(s,l,f="[DOM.STATE]"){let[N,J]=[0,0];for(const{fn:Me,args:Ae}of s)try{Me.apply(null,Ae),N++}catch{J++}this._logReadyState(l,f,N,J,document.readyState)}_registerEventListeners(){if(this.isRegistered)return;const s=()=>this._runFunctions(this.finalFunctionsToRun,"#008080","[WIN.ONLOAD]"),l=(...f)=>this._runFunctions(this.functionsToRun,...f);if(at){const f=C.onload;C.onload=typeof f=="function"?()=>(s(),f()):s}else document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>l("#6a5acd")):C.addEventListener("load",()=>l("#4682b4","[WIN.LOADED]"));this.isRegistered=!0}_checkDocumentReadyState(){!this.isRegistered||document.readyState!=="complete"||this._runFunctions(at?this.functionsToRun:this.finalFunctionsToRun,"#008000")}_logReadyState(s,l,...f){const N=[Sn(s),Tn(s),"display:block;height:0",ps("0"),ps("#a9a9a9")];Jo(`%c${l}:%c${f}!%c\r
%c \u3000\u27A6${ht} ${to} %c${xn}`,...N)}addFn(s,...l){typeof s=="function"&&this.functionsToRun.push({fn:s,args:l})}addFinalFn(s,...l){typeof s=="function"&&this.finalFunctionsToRun.push({fn:s,args:l})}}class me{constructor({titleText:s="Test",messageText:l="Test message.",trueButtonText:f="OK",falseButtonText:N=null,neutralButtonText:J=null}={}){q.Object.assign(this,{cssText:ga,titleText:s,messageText:l,trueButtonText:f,falseButtonText:N,neutralButtonText:J}),q.Object.assign(this,{hasFalse:N!==null,hasNeutral:J!==null,parent:document.documentElement}),this._create(this),this._append()}static closure(){return St(`#${e.id.dialogbox}`)}_create(s){this.container=Je("fr-dialogbox",{id:e.id.dialogbox});const l=e.var.dialogIf=vn(this.container);qt(l,this.cssText,`${e.const.seed}-dialogbox`,!1),this.frDialog=Je("fr-box",{class:e.class.db}),Nt(l,this.frDialog);const f=Je("fr-title",{class:e.class.dbt,innerHTML:d.createHTML(this.titleText)}),N=Je("fr-message",{class:e.class.dbm,innerHTML:d.createHTML(this.messageText)}),J=Je("fr-buttons",{class:e.class.dbbc});Nt(this.frDialog,f,N,J),this.trueButton=Je("button",{class:[e.class.dbb,e.class.dbbt],textContent:this.trueButtonText}),this.trueButton.addEventListener("click",()=>void s._destroy()),Nt(J,this.trueButton),this.hasFalse&&(this.falseButton=Je("button",{class:[e.class.dbb,e.class.dbbf],textContent:this.falseButtonText}),this.falseButton.addEventListener("click",()=>void s._destroy()),Nt(J,this.falseButton)),this.hasNeutral&&(this.neutralButton=Je("button",{class:[e.class.dbb,e.class.dbbn],textContent:this.neutralButtonText}),this.neutralButton.addEventListener("click",()=>void s._destroy()),Nt(J,this.neutralButton))}_append(){Ye&&this.container&&me.closure()&&(this.root=us(this.container,this.parent),gt(200).then(()=>this.frDialog.classList.add(`${e.const.seed}.opac:1`)))}_destroy(){this.container&&(this.frDialog.classList.remove(`${e.const.seed}.opac:1`),St(this.container)&&!y("fr-configure")&&fs(this.root))}async respond(){return new Promise((s,l)=>{(!this.frDialog||!this.trueButton)&&l(new Error("FrDialogBox Error!")),this.trueButton.addEventListener("click",()=>void s(!0)),this.hasFalse&&this.falseButton.addEventListener("click",()=>void s(!1))}).catch(s=>void K("FrDialogBox:",s.message))}}function us(c,s){const l=Io({primary:!0})?{}:{style:"width:100%;height:100%;background:none;outline:0;border-width:0"},f=y(`dialog#${e.const.dialog}`)??ho(s,"dialog",{...l,id:e.const.dialog});return f instanceof Node&&(Nt(f,c),f.hasAttribute("open")&&f.close?.(),f.inert=!0,f.showModal?.(),f.removeAttribute("inert"),f.focus()),f}function fs(c){return c?.close?.(),document.removeEventListener("blur",nt,!0),St(c||`dialog#${e.const.dialog}`)}function qt(c,s,l,f=!0){return(qt=ha&&c.adoptedStyleSheets?(Me,Ae,Tt,Bt=!0)=>xa(Me,ba(Tt,Ae),Bt):(Me,Ae,Tt,Bt=!0)=>$a(Me,Ae,Tt,Bt))(c,s,l,f)}function et({WEBKIT:c=NaN,BLINK:s=NaN,GECKO:l=NaN,ignore:f=!0,more:N=!0}={}){if(zt)return!1;const J=Me=>N?Yt>=Me:Yt<Me;return bo&&J(c)||Xt&&J(s)||pt&&J(l)&&(f||!at&&!os)}function ba(c,s){const l=new CSSStyleSheet;return l.id=c,l.replaceSync(s),l}function xa(c,s,l){try{const f=$e(c.adoptedStyleSheets).FindIndex(N=>N.id===s.id);~f?l&&!va(c.adoptedStyleSheets[f],s)&&(c.adoptedStyleSheets[f]=s):c.adoptedStyleSheets.push(s)}catch(f){K("updateAdoptedStyleSheets:",f.message)}}function $a(c,s,l,f){try{const N=y(`style#${l}`,c);s?N?f&&N.textContent!==s&&(N.textContent=s):ho(c,"style",{id:l,media:"screen",type:"text/css",textContent:s}):St(N)}catch(N){K("updateInlineStyle:",N.message)}}function va(c,s){if(!c||!s)return!1;const[l,f]=[$e(c.cssRules),$e(s.cssRules)];return l.length===f.length&&l.every((N,J)=>N.cssText===f[J].cssText)}function wa(c){return Xt?C.isSecureContext&&!c||c&&kt(c)!=="[object NavigatorUAData]":!1}function ya(c){const[s,l]=e.array.scaleMatrix=c.slice(-2);return{prev:s||1,cur:l||1}}function Oo({target:c,id:s,cssText:l,overwrite:f=!1}){if(!c||!s||!l)return!1;const N=Io({target:c});if(f)N.forEach(J=>(J.dataset.frRemoved=!0)&&St(J));else if(N.length)return!0;return!!ho(c,"style",{id:s,media:"screen",type:"text/css",textContent:l,[e.const.cssAttrName]:f})}class ka{constructor(s){this.d=$e(s).reduce((l,f)=>l+f.charCodeAt(0),""),[this.s,this.c,this.u]=[Math.floor(this.d.length/5),Math.ceil(s.length/2),Math.pow(2,31)-1],this.m=parseInt(this.d[this.s]+this.d[this.s*2]+this.d[this.s*3]+this.d[this.s*4]+this.d[this.s*5])}encrypt(s){if(this.m<2||!s)return"";let l=Qo({range:1e9})[0]%1e8,[f,N]=[this.d+l,""];for(;f.length>10;)f=(parseInt(f.slice(0,10))+parseInt(f.slice(10))).toString();f=(this.m*f+this.c)%this.u;for(let J=0,Me=s.length;J<Me;J++){let Ae=parseInt(s.charCodeAt(J)^Math.floor(f/this.u*255));(N+=Ae.toString(16).padStart(2,"0"))&&(f=(this.m*f+this.c)%this.u)}return N+l.toString(16).padStart(8,"0")}decrypt(s){if(this.m<2||!s)return"";const l=parseInt(s.slice(-8),16);s=s.slice(0,-8);let[f,N]=[this.d+l,""];for(;f.length>10;)f=(parseInt(f.slice(0,10))+parseInt(f.slice(10))).toString();f=(this.m*f+this.c)%this.u;for(let J=0,Me=s.length;J<Me;J+=2){let Ae=parseInt(parseInt(s.slice(J,J+2),16)^Math.floor(f/this.u*255));(N+=String.fromCharCode(Ae))&&(f=(this.m*f+this.c)%this.u)}return decodeURIComponent(N)}}function Sa(c,s){const l=Kt(kt(s)),f=URL.createObjectURL(new Blob([l],{type:"text/plain;charset=utf-8"}));Je("a",{href:f,download:c}).click(),URL.revokeObjectURL(f)}function ms({cur:c,prev:s=1,props:l}){if(!Ye&&(et({BLINK:128})||et({GECKO:126,more:null})))return;const f=[{objs:[MouseEvent.prototype],props:["clientX","clientY","pageX","pageY","layerX","layerY","offsetX","offsetY","screenX","screenY","x","y"]},{objs:[C,ts],props:["pageXOffset","pageYOffset","scrollX","scrollY",...l.window]},{objs:[Element.prototype],props:["scrollLeft","scrollTop",...l.element]},{objs:[HTMLElement.prototype],props:[...l.html]}],[N,J]=[c/s,Eo&&new Set],Me=({objs:Ie,props:Ue})=>{const[Be,De]=[Ve(Ie),Ve(Ue)];Be.forEach(so=>void De.forEach(ao=>void Ae(so,ao,Reflect.getOwnPropertyDescriptor(so,ao))))};q.Object.assign(C,{frDOMRects:{toggle:et({BLINK:128})||pt,cur:c,prev:s}});try{f.forEach(Me),Xt&&Tt(SVGGraphicsElement.prototype),C.frDOMRects.toggle&&Bt(Element.prototype),ee(`[FONTSCALE]${ht} %O Done!`,J||"Adjust")}catch(Ie){K("AdjustCoordinateOffset:",Ie)}function Ae(Ie,Ue,Be){try{if(typeof Be?.get!="function")return;const De=["scrollLeft","scrollTop"].includes(Ue),so=De?HTMLHtmlElement.prototype:Ie,ao=De?c:N,Cn={configurable:!0,enumerable:!0,get(){const $t=Be.get.call(this);return/^(fd|ct)[a-zA-Z]{8}$/.test(this.type)?$t:$t/ao},...De&&{set($t){typeof $t!="number"||isNaN($t)||(Ue==="scrollLeft"&&this.scrollTo($t*c,0),Ue==="scrollTop"&&this.scrollTo(0,$t*c))}}};Reflect.defineProperty(so,Ue,Cn),Eo&&J.add({obj:mo.call(so),prop:Ue})}catch(De){K(`Error defining property "${Ue}":`,De.message)}}function Tt(Ie){Reflect.defineProperty(Ie,"getScreenCTM",{value:function(){const Ue=e.var.getScreenCTM.call(this),Be=this.ownerSVGElement?.createSVGMatrix()??document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGMatrix();return q.Object.assign(Be,...["a","b","c","d","e","f"].map(De=>({[De]:Ue[De]/c}))),Be}}),Eo&&J.add({obj:mo.call(Ie),prop:"getScreenCTM()"})}function Bt(Ie){Reflect.defineProperty(Ie,"getClientRects",{value:Pt}),Reflect.defineProperty(Ie,"getBoundingClientRect",{value:zo}),Eo&&J.add({obj:mo.call(Ie),prop:"getDOMRects"})}function Ce(Ie){return new Proxy(Ie,{get:(Ue,Be)=>{const De=Reflect.get(Ue,Be);return typeof De=="number"?De/c:De}})}function Pt(){const Ie=e.var.getClientRects.call(this),Ue=$e(Ie,Be=>DOMRect.fromRect(Ce(Be)));return Ue.item=Be=>Ue[Be]??null,Ue[Symbol.iterator]=function*(){for(let De=0;De<this.length;De++)yield this[De]},q.Object.freeze(Ue)}function zo(){const Ie=e.var.getBoundingClientRect.call(this);return DOMRect.fromRect(Ce(Ie))}}const xt={value:(c,s=6048e5)=>({data:c,expired:Date.now()+s}),set:(c,...s)=>void Jn(c,Kt(r.stringify(xt.value(...s)))),get:async c=>{try{const s=await tt(c);if(!s)return;const l=Date.now(),{data:f,expired:N}=r.parse(ye(s));return ee("cache Remaining: %c%s hrs","color:#dc143c;font-weight:700",((N-l)/36e5).toFixed(2)),f&&N>l?f:xt.remove(c)}catch{return xt.remove(c)}},remove:c=>void Vt(c)};class hs{constructor(){q.Object.assign(this,{canvasWidth:200,canvasHeight:100,fontSize:80,fontText:"Aa\u554A",originFont:"'Courier New',Courier,monospace",detectFontData:null}),this.canvasContext=this._createCanvasContext(),this.originFontData=this._checkFont(this.originFont)}static chechCanvasFingerprintProtection(){const s=Je("canvas").getContext("2d"),{data:l}=(s.fillStyle="#000",s.fillRect(0,0,50,50),s.getImageData(0,0,50,50));for(let f=0;f<l.length;f+=4)if(l[f]!==0||l[f+1]!==0||l[f+2]!==0||l[f+3]!==255)return!0;return!1}_createCanvasContext(){const s=Je("canvas");q.Object.assign(s,{width:this.canvasWidth,height:this.canvasHeight});const l=s.getContext("2d",{willReadFrequently:!0});return q.Object.assign(l,{frFontFace:!0,fillStyle:"#000",textAlign:"center",textBaseline:"middle"}),l}_checkFont(s){try{this.canvasContext.clearRect(0,0,this.canvasWidth,this.canvasHeight);const l=this.originFont.toUpperCase()===s.toUpperCase()?this.originFont:`'${s}',${this.originFont}`;this.canvasContext.font=`${this.fontSize}px ${l}`,this.canvasContext.fillText(this.fontText,this.canvasWidth/2,this.canvasHeight/2);const{data:f}=this.canvasContext.getImageData(0,0,this.canvasWidth,this.canvasHeight),{actualBoundingBoxLeft:N,actualBoundingBoxRight:J}=this.canvasContext.measureText(this.fontText);return{fontData:$e(f).filter(Boolean).join(),fontWidth:N+J}}catch(l){K("FontFaceSetObserver.checkFont:",l.message)}}_unescape(s){return s.replace(/\\[\dA-F]{4}/g,l=>String.fromCharCode(parseInt(l.substr(1),16)))}destroy(){this.canvasContext=this.detectFontData=this.originFontData=null}detect(s){if(typeof s!="string"||!s)return!1;if(this.originFont.toUpperCase().includes(s.toUpperCase()))return!0;if(this.detectFontData=this._checkFont(s),!this.detectFontData)return!1;const l=this.originFontData.fontData!==this.detectFontData.fontData&&this.originFontData.fontWidth!==this.detectFontData.fontWidth;return l&&ee("detect Fonts: <Detected>",{data:this.detectFontData,font:this._unescape(s)}),l}}function $o(c){if(!Array.isArray(c))return[];const s=new Map;return c.reduce((l,f)=>{if(!f)return l;if(s.has(f.ch)||s.has(f.en)){const N=s.get(f.ch)||s.get(f.en);f.ps&&l[N]&&!l[N].ps&&(l[N]=f)}else l.push(f)&&[f.ch,f.en].forEach(N=>N&&s.set(N,l.length-1));return l},[])}async function Fn(c=is){try{const s=await tt(Qe),l=s?r.parse(ye(s)):[];return $o([...c,...l])}catch(s){return K("GetMergedFontCheckList:",s.message)??[...c]}}function Ta(c,s){const l=new Set;return $e(s).forEach(f=>(l.add(f.en),l.add(f.ch))),$e(c).filter(f=>!l.has(f.en)&&!l.has(f.ch))}function nn(c,s=jt){return $e(c).FindIndex(l=>l.domain===s)}function Fa(c){const s=l=>typeof l!="string"?[]:l.startsWith("*")?new RegExp(`^[a-z0-9][-a-z0-9]{0,62}${l.slice(1).replace(/\./g,"\\.")}(\\:\\d{2,5})?$`):l;return $e(c.flatMap(s)).FindIndex(l=>l instanceof RegExp&&l.test(jt)||l===jt)}function fe(c,s){try{hn?.removeItem(e.const.flagName),Jn(c,Kt(r.stringify(s)))}catch(l){K("SaveData:",l.message)}}function Ke(c){return typeof c!="string"?"":(c=c.replace(/expression\([^)]*\)|url\(.*?\)|\\u[0-9a-fA-F]{4}|\\x[0-9a-fA-F]{2}|`|{|}/gi,""),Je("fr-safeInner",{innerHTML:d.createHTML(c)}).textContent.trim().replace(/(\s*,\s*)+$/,""))}function Ca(c){return $e(c.split("|")).Some(s=>to.endsWith(s))}function gs(c,s){return e.array.scaleMatrix.push(e.var.curScale=c&&s>=.8&&s<=2.5?s:xe.fontSize),Number(e.var.curScale).toFixed(3)}function Ea(c){return Array.isArray(c)?c.reduce((s,l)=>{if(typeof l!="string")return s;const f=l.match(/^{([^{}]+)}$/);return s.concat([f?kn(f[1]):l])},[]):[]}async function La(){const c=await Ge.getNodeAndObserve().then(s=>s.get().id);return!Ye&&(et({BLINK:130,more:null})||at)||!c?":root ":`:root#${c} `}async function bs(){try{const c=await fetch(`${e.url.predefined}?${m(32,"hex")}`);if(!c.ok)throw new Error(`Network response was not ok. Status: ${c.status}`);const s=await c.text();return ee(`Pull predefined data: %c${s?"Succeeded":"Failed"} (${s?.length??0})`,`color:${s?"#008000":"#dc143c"}`),s}catch(c){K("Pull predefined data: %c%s","color:#dc143c",c.message)}}function Ma(c,s){if(!c)return s;try{const l=([N])=>N.includes(to)||String(N)==="ALL"||$e(N).Some(J=>J.startsWith("*")&&to.endsWith(J.slice(1))),f=$e(r.parse(r.parse(ye(c)))).Find(l);if(!(e.var.apply=!!f))return s;for(const[N,J]of Object.entries(f[1])){if(!J||!(N in s))continue;const[Me,Ae]=J.split("\u222F",2);Me==="+"?!s[N].includes(Ae)&&(s[N]+=`${Ae}`):Me==="-"?s[N]=s[N].replace(new RegExp(Ae.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),""):Me==="@"?s[N]=!!Number(Ae):Me==="#"&&(s[N]=Ae)}}catch(l){K("ApplyPredefinedRenderConfig:",l.message)}return s}(async function(c,s,l,f,N,J,Me,Ae){const{code:Tt,callback:Bt}=c(),Ce=new ka(Tt);if(!Zn||!Un()?.inspect?.())return Ye&&Bt(e.url.installURI);const Pt=new No,zo=await Promise.all([La(),Me(),s(),f(),l(),Ae()]),[Ie,Ue,Be,{exSitesIndex:De},{monoSiteRules:so,monoFontList:ao,monoFeature:Cn},{fontFeature:$t,fontVariant:sn}]=zo,{maxPersonalSites:_o,isBackupFunction:xs,isPreview:Bo,isFontsize:vt,isHotkey:ro,isFixViewport:Zt,isCloseTip:Ia,isCustomMono:an,rebuild:En,curVersion:rn,globalDisable:Ln}=Be,k=await N(vt,Zt),vo=n?"\u7F51\u7AD9\u9ED8\u8BA4\u5B57\u4F53":"Website Font",$s=`${$t?`--fr-font-feature:${$t};`:""}${sn?`--fr-font-variant:${sn};`:""}`,Mn=k.o.fontSelect?.replace(/["']/g,"").split(",")??[],io=Mn[1]??Mn[0]??"",[co,vs]=[!!k.o.fontFace,!!k.o.fontSmooth],Ra=co?"font-family:var(--fr-font-family),var(--fr-font-basefont),var(--fr-font-emoji);":"",Da=co&&io?await Xs(Mn,io,Ue):"",cn=gs(!~De&&vt,parseFloat(k.o.fontSize)),Aa=Number(cn)!==1?qs(cn):"",ws=`font-feature-settings:var(--fr-font-feature,unset);font-variant:var(--fr-font-variant,unset);text-rendering:var(--fr-render-text,unset);shape-rendering:var(--fr-render-shape,unset);image-rendering:var(--fr-render-image,unset);font-optical-sizing:auto;font-kerning:auto;${pt&&xo?"-moz-osx-font-smoothing:grayscale;":""}${!zt&&xo?"-webkit-font-smoothing:antialiased;":""}`,Na=vs?ws:"",[In,wo]=[parseFloat(k.o.fontStroke),parseFloat(k.o.fontShadow)],yo=In>0&&In<=1?"-webkit-text-stroke:var(--fr-font-stroke);":"",Oa=`${yo?In:0}px currentcolor`,Rn=String(k.o.shadowColor)||xe.shadowColor,ln=o=>/^#F{8}|currentcolor$/i.test(o)?"currentcolor":o.toUpperCase(),ys=o=>/^currentcolor$/i.test(o)?"#FFFFFFFF":o,dn=wo>0&&wo<=4?"text-shadow:var(--fr-font-shadow);":"",za=Zs(wo,Rn),Dn=`${dn?"text-shadow:none!important;":""}${yo?"-webkit-text-stroke:var(--fr-no-stroke, 0px transparent)!important;":""}`,[ks,Po]=[String(k.o.fontCSS),String(k.o.fontEx)],_a=`:is(:not(${Po}))::-moz-selection{color:currentcolor!important;background:rgba(30, 190, 227, 0.29)!important;-webkit-text-fill-color:currentcolor!important;${Dn}}`,Ba=`:is(:not(${Po}))::selection{color:#fff!important;background:#3367d1!important;-webkit-text-fill-color:#fff!important;${Dn}}`,Ss=yo?pt?_a:Ba:"",Pa=Po&&(dn||yo)?`${Ie}:is(${Po}){${Dn}}`:"",[Ha,Ua]=[!1,!0].map(o=>Js(Po,co,an,o)),Va=Mt&&k.o.fixShadow?"text-shadow:var(--fr-fix-shadow)!important;":"",An=`[${e.const.boldAttrName}],.${e.const.boldAttrName}`,Ts=o=>`${An}{-webkit-text-stroke:var(--fr-fix-stroke)!important;${o??""}}`,Fs=_t&&k.o.fixStroke?Ts(Va):"",Cs=!co&&!vs&&!dn&&!yo&&Number(cn)===1,lo=!~De&&!Cs,Ga=`${Da}${Aa}${Ie}::placeholder,${Ie}:is(${ks}){${Ra}}${Ie}:is(${ks}){${dn}${yo}${Na}}${Ss}${Pa}${Ha}${Fs}`,Es=`0 0 ${wo}px ${Rn.toLowerCase().slice(0,7).concat("2b")}`,ja=o=>o==="true"||!o&&/;?\s*\w+_last(?:visi|ac)t=\d{10}(?:;|%)/.test(document.cookie)&&!ft?.setItem(_e,!0),Ka=pt&co&&ja(ft?.getItem(_e))?e.var.style.firefox:"",[Ho,Nn,Wa]=[!!an,!!k.o.isEditorBlock,CSS.supports("(color:color-mix(in srgb, tan, red))")],Ls=Ho&&Wa?"--fr-mono-shadowcolor:color-mix(in srgb, rgba(69, 69, 70, 0.05) 75%, currentcolor 25%);":"",Ms=Ho?`--fr-mono-font:${ao||It.monospacedFont};`:"",Is=Ho?"--fr-mono-shadow:0 0 0 var(--fr-mono-shadowcolor, currentcolor);":"",Rs=Ho?`--fr-mono-feature:${Cn||It.monospacedFeature};`:"",Ds=Ho?"--fr-mono-fallback:ui-monospace,'Courier New','Liberation Mono',Courier;":"",Ya=k.o.renderCanvas?"--fr-render-shape:geometricPrecision;":"",Xa=`:root{--fr-font-basefont:${It.fontBase};--fr-font-emoji:${It.fontEmoji};${$s}--fr-font-fontscale:${cn};--fr-font-family:${k.o.fontSelect};--fr-font-shadow:${za};--fr-font-stroke:${Oa};--fr-no-stroke:0px transparent;--fr-fix-stroke:var(--fr-no-stroke);--fr-fix-shadow:${Es};--fr-render-text:optimizeLegibility;${Ya}--fr-render-image:auto;${Ms}${Ds}${Ls}${Is}${Rs}}`,po=`@charset "UTF-8";${Ye?e.var.style.frDialog:""}${lo?`${Xa}${Ka}${Ga}`:""}`,On=Nn?`disabled title="${n?"\u5DF2\u5728\u7279\u5B9A/\u56FE\u6587/\u7F16\u8F91\u7C7B\u7F51\u7AD9\u7981\u7528\uFF08\u8BF7\u4F7F\u7528\u6D4F\u89C8\u5668\u7F29\u653E\u66FF\u4EE3\uFF09":"Disabled in specific/graphic/editorial website (Please use browser zoom instead)"}" `:"",qa=n?'<label title="\u5F00\u542F Canvas \u753B\u5E03\u6587\u672C\u7684\u5B57\u4F53\u6E32\u67D3\u3002\u5982\u5F00\u542F\u540E Canvas \u6587\u672C\u6E32\u67D3\u5F02\u5E38\u8BF7\u5173\u95ED\u5B83\u3002">\u6E32\u67D3\u753B\u5E03</label>':'<label title="Enable Canvas font rendering. Please turn it off if occurs canvas render error.">Canvas</label>',[Za,Ja]=[co?"":`class="${e.const.seed}.vis:hidden"`,k.renderCanvas?"checked":""],Qa=`<span id="${e.id.rdCanvas}" ${Za}>(${qa}<input type="checkbox" id="${e.id.renderCanvas}" ${Ja}/>)</span>`,er=n?'<label title="\u4FEE\u6B63\u5B57\u4F53\u6BD4\u4F8B\u7F29\u653E\u540E\u89C6\u53E3\u5355\u4F4D\u51FA\u73B0\u6570\u636E\u504F\u79FB\u7684\u95EE\u9898\u3002\u5982\u5F00\u542F\u540E\u9875\u9762\u6392\u7248\u51FA\u73B0\u5F02\u5E38\u8BF7\u5173\u95ED\u5B83\u3002">\u89C6\u53E3\u4FEE\u6B63</label>':'<label title="Fixed viewport unit offset after font scaling. Please turn it off if occurs layout error.">Fix vpu</label>',tr=`<span id="${e.id.fviewport}">(${er}<input type="checkbox" id="${e.id.fixViewport}" ${k.fixViewport?"checked":""}/>)</span>`,or=n?`<span class="${e.const.seed}.mg:0.pd:0" title="\u53CC\u51FB\u7F16\u8F91\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u8BBE\u7F6E\u6570\u636E" id="${e.const.seed}.fontscale.def">\u5B57\u4F53\u6BD4\u4F8B\u7F29\u653E</span>`:`<span class="${e.const.seed}.mg:0.pd:0" title="Double-click to edit the site scaling correction setting" id="${e.const.seed}.fontscale.def">Font Scaling</span>`,nr=`<li id="${e.id.fontSize}">
            <div class="${e.class.flex}">
              ${or}${Zt?tr:""}
              <input id="${e.id.fontScale}" type="text" data-fr-type="number" maxlength="5" ${On}/>
            </div>
            <div class="${e.class.range}" data-ticks-position="top" ${On}></div>
          </li>`,sr=n?'<label title="\u4FEE\u6B63 Chromium 96.0 \u4EE5\u4E0A\u7248\u672C\u5BF9\u7C97\u4F53\u6837\u5F0F\u9644\u52A0\u63CF\u8FB9\u7684\u6E32\u67D3\u9519\u8BEF\u3002\u9ED8\u8BA4\u5F00\u542F\uFF0C\u5982\u51FA\u73B0\u4E25\u91CD\u5361\u987F\u8BF7\u5173\u95ED\u4E4B\u3002">\u7C97\u4F53\u4FEE\u6B63</label>':'<label title="Fixed rendering issues of Chromium above 96.0 on bold with text-stroke. Default by ON, please turn it off if lagging.">Fix bold</label>',ar=n?"\u4FEE\u6B63 Chromium 123.0 \u4EE5\u4E0A\u7248\u672C\u5BF9\u7C97\u4F53\u6837\u5F0F\u9644\u52A0\u9634\u5F71\u6548\u679C\u7684\u6E32\u67D3\u9519\u8BEF\uFF0C\u9ED8\u8BA4\u5173\u95ED\u3002":"Fixed rendering issues of Chromium above 123.0 on bold with text-shadow.",rr=n?"\u5EF6\u8FDF\u52A0\u8F7D\u4FEE\u6B63\u7A0B\u5E8F\uFF0C\u9ED8\u8BA4\u5173\u95ED\uFF0C\u8BF7\u6CE8\u610F\uFF1A\u4EC5\u5728\u51FA\u73B0\u6837\u5F0F\u5F02\u5E38\u6216\u4FEE\u6B63\u51B2\u7A81\u65F6\u5F00\u542F\u3002":"Lazy loading the fixer, Only turn it on when style loading error or conflict.",ir=`<div id="${e.id.fshadow}.shadow.label" class="${e.const.seed}.fix.label">
            <span>${n?"\u9644\u52A0\u9634\u5F71\u6837\u5F0F\u4FEE\u6B63\uFF1A":"Add Shadow Fix: "}</span>
            <input type="checkbox" class="${e.class.checkbox}" id="${e.id.fixShadow}" ${k.fixShadow?"checked":""} ${k.fixStroke?"":"disabled"} />
            <label for="${e.id.fixShadow}" ${k.fixStroke?"":`class="${e.const.seed}.ft:gs1"`}></label>
          </div>
          <div id="${e.id.fshadow}.shadow.text" class="${e.const.seed}.fix.text">${ar}</div>`,cr=`<div class="${e.const.seed}.fix.label">
            <span>${n?"\u542F\u7528\u4FEE\u6B63\u5EF6\u8FDF\u52A0\u8F7D\uFF1A":"Use lazy loading: "}</span>
            <input type="checkbox" class="${e.class.checkbox}" id="${e.id.lazyload}" ${k.lazyload?"checked":""} ${k.fixStroke?"":"disabled"} />
            <label for="${e.id.lazyload}" ${k.fixStroke?"":`class="${e.const.seed}.ft:gs1"`}></label>
          </div>
          <div class="${e.const.seed}.fix.text">${rr}</div>`,lr=`<span id="${e.id.fstroke}">
            (${sr}<input type="checkbox" id="${e.id.fixStroke}" ${k.fixStroke?"checked":""} />)
            <div id="${e.id.fshadow}">${Mt?ir:""}${cr}</div>
          </span>`,dr=n?`<span title="\u53CC\u51FB\u7F16\u8F91\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E" id="${e.const.seed}.fontoverride.def">\u5B57\u4F53\u91CD\u5199</span>\uFF08\u9ED8\u8BA4\uFF1A\u5F00\uFF09`:`<span title="Double-click to edit custom font rewrite data"  id="${e.const.seed}.fontoverride.def">Font Rewrite (ON*)</span>`,As=C.FRColorPicker?"RGB, RGBA, HEX, HEXA":"HEXA (#AABBCCDD)",pr=n?`<p>\u9634\u5F71\u989C\u8272\u53EF\u901A\u8FC7\u70B9\u51FB\u6FC0\u6D3B\u62FE\u8272\u5668\u9009\u62E9\uFF0C\u4E5F\u53EF\u81EA\u884C\u586B\u5199\uFF0C\u683C\u5F0F\u652F\u6301: <em class="${e.const.seed}.clr:cecece">${As}.</em> \u7EAF\u767D\u8272\u7684\u6240\u6709\u683C\u5F0F\u8868\u793A\u81EA\u8EAB\u989C\u8272 <em class="${e.const.seed}.clr:cecece">currentcolor.</em></p><p><em class="${e.const.seed}.clr:8b0000">\u6CE8\u610F\uFF1A\u8F93\u5165\u6570\u503C\u4F1A\u81EA\u52A8\u8F6C\u5316\u4E3AHEXA\u683C\u5F0F\uFF0C\u4F46\u6570\u503C\u4FDD\u6301\u4E00\u81F4\u6027\u3002\u9519\u8BEF\u683C\u5F0F\u4F1A\u88AB\u66FF\u6362\u4E3A\u521A\u521A\u6B63\u786E\u663E\u793A\u7684\u6570\u503C\u3002</em></p>`:`<p>Shadow colors can be selected by clicking color-block to activate the colorpicker, or custom filled in format that supports: <em class="${e.const.seed}.clr:cecece">${As}.</em> "Pure white" in all formats resolves to its own color <em class="${e.const.seed}.clr:cecece">currentcolor</em></p><p><em class="${e.const.seed}.clr:8b0000">Note: The value is converted to HEXA. The incorrect value is replaced with the final correct value.</em></p>`,ur=n?`<p>\u9ED8\u8BA4\u4E3A\u6392\u9664\u5927\u591A\u6570\u7F51\u7AD9\u5E38\u7528\u7684\u7279\u6B8ACSS\u6837\u5F0F\u540E\u9700\u8981\u6E32\u67D3\u7684\u9875\u9762\u5143\u7D20\u3002\u586B\u5199\u683C\u5F0F\uFF1A<em class="${e.const.seed}.clr:cecece">:not(.fa)</em> \u6216 <em class="${e.const.seed}.clr:cecece">:not([class*="fa"])</em> \u6216 <em class="${e.const.seed}.clr:cecece">,div.className</em></p><p><em class="${e.const.seed}.clr:8b0000">\u8BE5\u9009\u9879\u4E3A\u91CD\u8981\u53C2\u6570\uFF0C\u9ED8\u8BA4\u53EA\u8BFB\uFF0C\u53CC\u51FB\u89E3\u9501\u3002\u8BF7\u5C3D\u91CF\u4E0D\u8981\u4FEE\u6539\uFF0C\u907F\u514D\u9020\u6210\u6837\u5F0F\u5931\u6548\u3002\u82E5\u5931\u6548\u8BF7\u91CD\u7F6E\u3002</em></p><p>\u5982\u679C\u6587\u5B57\u6216\u56FE\u6807\u53D8\u4E3A\u4E71\u7801\u6216\u65B9\u5757\uFF0C\u8BF7\u53CC\u51FB <span class="${e.class.emoji}">\u{1F514}</span> \u6253\u5F00\u6837\u5F0F\u4FEE\u590D\u5E2E\u52A9\u9875\u9762\u3002</p>`:`<p>Defaults to page elements that need to be rendered after excluding special CSS styles used on websites. Fill format: <em class="${e.const.seed}.clr:cecece">:not(.fa)</em> or <em class="${e.const.seed}.clr:cecece">:not([class*="fa"])</em></p><p><em class="${e.const.seed}.clr:8b0000">This option is an important parameter, read-only by default, double-click to unlock.</em></p><p>If part of text becomes garbled, Please double-click <span class="${e.class.emoji}">\u{1F514}</span> to open the style-fix help page.</p>`,fr=n?`<p>\u8BE5\u9009\u9879\u6392\u9664\u6E32\u67D3\u5B57\u4F53\u63CF\u8FB9\u3001\u5B57\u4F53\u9634\u5F71\u6548\u679C\uFF0C\u8BF7\u5C06\u6392\u9664\u6E32\u67D3\u7684HTML\u6807\u7B7E\u7528\u9017\u53F7\u5206\u9694\u3002\u5177\u4F53\u89C4\u5219\u8BF7\u70B9\u51FB\u9876\u90E8\u65CB\u8F6C\u7684\u5E2E\u52A9\u6587\u4EF6\u56FE\u6807\u3002</p><p><em class="${e.const.seed}.clr:8b0000">\u7F16\u8F91\u8BE5\u9009\u9879\u9700\u8981CSS\u77E5\u8BC6\uFF0C\u5982\u9700\u8981\u6392\u9664\u590D\u6742\u7684\u6837\u5F0F\u6216\u6807\u7B7E\u53EF\u901A\u8FC7\u8FD9\u91CC\u8FDB\u884C\u6DFB\u52A0\uFF0C\u6837\u5F0F\u82E5\u6DF7\u4E71\u8BF7\u91CD\u7F6E\u3002</em></p><p>\u53CC\u51FB <span class="${e.class.emoji}">\u{1F514}</span> \u53EF\u6253\u5F00\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6DFB\u52A0\u5DE5\u5177\uFF0C\u8BBE\u7F6E\u60A8\u9700\u8981\u7684\u7B49\u5BBD\u5B57\u4F53\u3002</p><p><em class="${e.const.seed}.clr:8b0000">\u8BF7\u6CE8\u610F\uFF1A\u4F7F\u7528\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u65F6\uFF0C\u8BF7\u8C28\u614E\u5220\u9664\u8BE5\u6587\u672C\u57DF\u4E2D\u7684\u91CD\u8981\u4EE3\u7801\uFF1A<br/>\u300E <em class="${e.const.seed}.clr:cecece">pre,pre *,code,code *</em> \u300F</em></p>`:`<p>This option excludes the rendering of font stroke, font shadow effects, please separate the excluded HTML tags with commas.</p><p><em class="${e.const.seed}.clr:8b0000">Knowledge of CSS is required to edit, If you need to exclude complex styles or tags you can add them here.</em></p><p>Double-click <span class="${e.class.emoji}">\u{1F514}</span> to open the Custom monospace Font Tool and set the isometric font you need.</p><p><em class="${e.const.seed}.clr:8b0000">Note: if using custom monospace fonts, Please be careful to delete important codes in this textarea:\u300E <em class="${e.const.seed}.clr:cecece">pre,pre *,code,code *</em> \u300F</em></p>`,mr=n?"\u53CC\u51FB\u67E5\u770B\u66F4\u65B0\u5386\u53F2":"Double-click to view the update history of",hr=`<fr-container id="${e.id.container}">
            <fieldset id="${e.id.field}">
              <legend class="${e.class.title}">
                <span id="${e.const.seed}.scriptname" title='${mr} v${rn}' class="${e.const.seed}.clr:8b0000">${e.var.scriptName}</span>
                <span class="${e.class.guide}">
                  <span class="${e.class.rotation}" title="${n?"\u5355\u51FB\u67E5\u770B\u811A\u672C\u4F7F\u7528\u5E2E\u52A9\u6587\u6863":"Click to Open Usage Document"}" height="24" width="24">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="48px" height="48px" viewBox="0,0,255.99431,255.99431"><g transform="scale(0.5,0.5)"><path d="M504.1,256c0,-137 -111.1,-248.1 -248.1,-248.1c-137,0 -248.1,111.1 -248.1,248.1c0,137 111.1,248.1 248.1,248.1c137,0 248.1,-111.1 248.1,-248.1z" fill="#67a5df"/><path d="M146.1,181.5c0,-13.9 4.5,-28 13.4,-42.3c8.9,-14.3 22,-26.1 39.1,-35.5c17.1,-9.4 37.1,-14.1 60,-14.1c21.2,0 40,3.9 56.2,11.8c16.3,7.8 28.8,18.5 37.7,32c8.9,13.5 13.3,28.1 13.3,43.9c0,12.5 -2.5,23.4 -7.6,32.7c-5.1,9.4 -11.1,17.5 -18,24.3c-7,6.8 -19.4,18.3 -37.5,34.4c-5,4.5 -9,8.5 -12,12c-3,3.4 -5.2,6.6 -6.7,9.4c-1.5,2.9 -2.6,5.7 -3.4,8.6c-0.8,2.9 -2,7.9 -3.6,15.1c-2.8,15.2 -11.5,22.9 -26.1,22.9c-7.6,0 -14,-2.5 -19.2,-7.5c-5.2,-5 -7.8,-12.4 -7.8,-22.2c0,-12.3 1.9,-23 5.7,-32c3.8,-9 8.9,-16.9 15.2,-23.7c6.3,-6.8 14.8,-14.9 25.5,-24.3c9.4,-8.2 16.1,-14.4 20.3,-18.6c4.2,-4.2 7.7,-8.8 10.5,-14c2.9,-5.1 4.3,-10.7 4.3,-16.7c0,-11.7 -4.4,-21.6 -13.1,-29.7c-8.7,-8.1 -20,-12.1 -33.7,-12.1c-16.1,0 -28,4.1 -35.6,12.2c-7.6,8.1 -14.1,20.1 -19.3,35.9c-5,16.6 -14.4,24.8 -28.3,24.8c-8.2,0 -15.1,-2.9 -20.8,-8.7c-5.6,-5.6 -8.5,-11.8 -8.5,-18.6zM253.4,422.3c-8.9,0 -16.7,-2.9 -23.4,-8.7c-6.7,-5.8 -10,-13.9 -10,-24.3c0,-9.2 3.2,-17 9.7,-23.3c6.4,-6.3 14.4,-9.4 23.7,-9.4c9.2,0 17,3.2 23.3,9.4c6.3,6.3 9.4,14.1 9.4,23.3c0,10.3 -3.3,18.3 -9.9,24.2c-6.6,5.9 -14.2,8.8 -22.8,8.8z" fill="#fff"/></g></svg>
                  </span>
                </span>
              </legend>
              <ul class="${e.class.main}">
                <li id="${e.id.fontList}">
                  <div class="${e.class.fontList}"></div>
                </li>
                <li id="${e.id.fontFace}">
                  <div class="${e.const.seed}.mg:0.pd:0">
                    ${dr}
                  </div>
                  <div class="${e.const.seed}.mg:0.pd:0 ${e.const.seed}.checkbox">
                    <input type="checkbox" id="${e.id.fface}" class="${e.class.checkbox}" ${k.fontFace?"checked":""} />
                    <label for="${e.id.fface}"></label>
                  </div>
                </li>
                <li id="${e.id.fontSmooth}">
                  <div class="${e.const.seed}.mg:0.pd:0">${n?"\u5B57\u4F53\u5E73\u6ED1\uFF08\u9ED8\u8BA4\uFF1A\u5F00\uFF09":"Font Smooth (ON*)"}</div>
                  <div class="${e.const.seed}.mg:0.pd:0 ${e.const.seed}.checkbox">
                    <input type="checkbox" id="${e.id.smooth}" class="${e.class.checkbox}" ${k.fontSmooth?"checked":""} />
                    <label for="${e.id.smooth}"></label>
                  </div>
                </li>
                ${vt?nr:""}
                <li id="${e.id.fontStroke}">
                  <div class="${e.class.flex}">
                    <span class="${e.const.seed}.mg:0.pd:0">${n?"\u5B57\u4F53\u63CF\u8FB9\u5C3A\u5BF8":"Font Stroke"}</span>
                    ${_t?lr:""}
                    <input id="${e.id.strokeSize}" type="text" data-fr-type="number" maxlength="5" />
                  </div>
                  <div class="${e.class.range}" data-ticks-position="top"></div>
                </li>
                <li id="${e.id.fontShadow}">
                  <div class="${e.class.flex}">
                    <span class="${e.const.seed}.mg:0.pd:0">${n?"\u5B57\u4F53\u9634\u5F71\u5C3A\u5BF8":"Font Shadow"}</span>
                    ${at?"":Qa}
                    <input id="${e.id.shadowSize}" type="text" data-fr-type="number" maxlength="4" />
                  </div>
                  <div class="${e.class.range}" data-ticks-position="top"></div>
                </li>
                <li id="${e.id.shadowColor}">
                  <div class="${e.const.seed}.mg:0.pd:0">
                    <span class="${e.const.seed}.mg:0-3p.pd:0">${n?"\u9634\u5F71\u989C\u8272":"SDColor"}</span>
                    <span class="${e.class.tooltip}">
                      <span class="${e.class.emoji}" title="${n?"\u6309\u4F4F\u67E5\u770B\u5E2E\u52A9":"Hold down for help"}">\u{1F514}</span>
                      <span class="${e.class.tooltip} ${e.class.ps3} ${e.const.seed}.mgl:-5p">
                        ${pr}
                      </span>
                    </span>
                  </div>
                  <div class="${e.class.frColorPicker}">
                    <input title="${n?"\u8F93\u5165\u989C\u8272\u4EE3\u7801":"Input color code"}" type="text" id="${e.id.color}" class="${e.const.seed}.input.color" />
                  </div>
                </li>
                <li id="${e.id.fontCss}">
                  <div class="${e.const.seed}.mgb:6p">${n?"\u9700\u8981\u6E32\u67D3\u7684\u7F51\u9875\u5143\u7D20":"Rendered Elements"}
                    <span id="${e.id.render}" class="${e.class.tooltip}">
                      <span class="${e.class.emoji}" title="${n?"\u6309\u4F4F\u67E5\u770B\u5E2E\u52A9":"Hold down for help"}">\u{1F514}</span>
                      <span class="${e.class.tooltip} ${e.class.ps4}">
                      ${ur}
                      </span>
                    </span>
                    <div id="${e.id.cSwitch}" class="${e.class.switcher}" fr-button-switch="ON">\u2227</div>
                  </div>
                  <textarea placeholder="${n?"\u8BF7\u8C28\u614E\u4FEE\u6539\u9ED8\u8BA4\u503C\uFF0C\u907F\u514D\u6E32\u67D3\u5931\u6548\u3002":"Modify defaults carefully to avoid font rendering failures."}"
                    class="${e.class.readonly}" title="${n?"\u91CD\u8981\u53C2\u6570\uFF0C\u9ED8\u8BA4\u53EA\u8BFB\uFF0C\u53CC\u51FB\u89E3\u9501\u3002":"Read-only by default, Double-click to unlock."}"
                    id="${e.id.cssinclued}" readonly="readonly">${k.fontCSS}</textarea>
                </li>
                <li id="${e.id.fontEx}">
                  <div class="${e.const.seed}.mgb:6p">${n?"\u6392\u9664\u6E32\u67D3\u7684HTML\u6807\u7B7E":"Excluded HTML Labels"}
                    <span id="${e.id.mono}" class="${e.class.tooltip}">
                      <span class="${e.class.emoji}" title="${n?"\u6309\u4F4F\u67E5\u770B\u5E2E\u52A9":"Hold down for help"}">\u{1F514}</span>
                      <span class="${e.class.tooltip} ${e.class.ps5}">
                        ${fr}
                      </span>
                    </span>
                    <div id="${e.id.eSwitch}" class="${e.class.switcher}" fr-button-switch="ON">\u2227</div>
                  </div>
                  <textarea placeholder="${n?"\u6392\u9664\u6E32\u67D3\u63CF\u8FB9\u4E0E\u9634\u5F71\u7684HTML\u6807\u7B7E\uFF0C\u5982:":"Exclude HTML tags for render strokes and shadows, such as:"} input, em, div[id$='test']"
                    id="${e.id.cssexclude}">${k.fontEx}</textarea>
                </li>
                <li id="${e.id.submit}">
                  <button class="${e.class.reset}">${n?"\u91CD\u7F6E":"Reset"}</button>
                  <button class="${e.class.cancel}">${n?"\u53D6\u6D88":"Close"}</button>
                  <button id="${e.id.backup}" title="${n?"\u5907\u4EFD\u4E0E\u6062\u590D":"Backup & Restore"}">${n?"\u5907\u4EFD":"\u212C"}</button>
                  <button class="${e.class.submit}">${n?"\u4FDD\u5B58":"Save"}</button>
                </li>
              </ul>
            </fieldset>
          </fr-container>`,Ns={system:()=>{const o=n?"\u5168\u5C40\u5B57\u4F53\u6E32\u67D3\u5DF2\u7981\u7528\uFF01\u5982\u9700\u5F00\u542F\u8BF7\u91CD\u65B0\u914D\u7F6E\u5168\u5C40\u6570\u636E\u3002":"Global font rendering is disabled! To enable it please reconfigure the global data.",t=n?`%c%s\r
%cINTRO.URL: %s\r
%c\u259E \u811A\u672C\u7248\u672C\uFF1A%cV%s%c%s%c\r
\u259E \u4E2A\u6027\u5316\u8BBE\u7F6E\uFF1A%c%s%c/%s\uFF08\u5F53\u524D\u8BBE\u7F6E\uFF1A%s\uFF09\r
%c\u259E \u672C\u5730\u5907\u4EFD\uFF1A%s\u3000\u259A \u5B57\u4F53\u7F29\u653E\uFF1A%s\r
\u259E \u6E32\u67D3\u9884\u89C8\uFF1A%s\u3000\u259A \u7B49\u5BBD\u5B57\u4F53\uFF1A%s\r
\u259E \u5E94\u7528\u8FDC\u7A0B\u6E32\u67D3\u89C4\u5219\uFF1A%c%s\r
%c\u259E \u6E32\u67D3\u5B57\u4F53\uFF1A%s\r
\u259E \u5B57\u4F53\u5E73\u6ED1\uFF1A%s\u3000\u259A \u5B57\u4F53\u91CD\u5199\uFF1A%s\r
\u259E \u5B57\u4F53\u63CF\u8FB9\uFF1A%s\u3000\u259A \u5B57\u4F53\u9634\u5F71\uFF1A%s`:`%c%s\r
%cINTRO.URL: %s\r
%c\u259E Script Version: %cV%s%c%s%c\r
\u259E Customize Total: %c%s%c/%s (current: %s)\r
%c\u259E Backups: %s\u3000\u259A Font Scaling: %s\r
\u259E Preview: %s\u3000\u259A Monospaced Font: %s\r
\u259E Apply Remote Rendering Rules\uFF1A%c%s\r
%c\u259E Rendering Font: %s\r
\u259E Font Smooth: %s\u3000\u259A Font Rewrite: %s\r
\u259E Font Stroke: %s\u3000\u259A Font Shadow: %s`,[a,i,p]=n?["\u5F00","\u5173","\u7AD9\u70B9\u7981\u7528"]:["ON","OFF","SITE BLOCKED"],S=["color:#dc143c;font:normal 700 16px/150% ui-monospace,monospace",e.var.scriptName,"color:#777;font:italic 400 10px/180% ui-monospace,monospace",e.url.introURL,"color:#708090;font-size:12px;line-height:180%","color:#708090;font:italic 600 14px/150% Candara,Times",e.var.curVersion,"color:#be0d1c;font:italic 400 11px/150% Candara,Times",zt?"\u3000(CHEAT-UA)":"","color:#4682b4;font-size:12px;line-height:180%",e.var.domainCount>_o?"color:#dc143c":"color:#4682b4",e.var.domainCount,"color:#4682b4;font-size:12px;line-height:180%",_o,~e.var.domainIndex?n?"\u81EA\u5B9A\u4E49":"Custom":n?"\u5168\u5C40":"Global","color:#4682b4;font-size:12px;line-height:180%",xs?a:i,vt?Nn?`${i} (${p})`:`${a} (R \u2248 ${k.fontSize.toFixed(3)})`:i,Bo?a:i,an?a:i,`color:${e.var.apply?"#4682b4":"#708090"};font-size:12px;line-height:180%`,n?e.var.apply?"\u5DF2\u5339\u914D\u5230\u7AD9\u70B9\u89C4\u5219":"\u672A\u5339\u914D\u5230\u7AD9\u70B9\u89C4\u5219":e.var.apply?"MATCHED":"NOT MATCHED","color:#008080;font-size:12px;line-height:180%",co?e.var.reFontFace:n?`\u5DF2\u5173\u95ED\uFF08\u91C7\u7528${e.var.reFontFace}\uFF09`:`OFF (using ${e.var.reFontFace})`,k.fontSmooth?a:i,k.fontFace?a:i,k.fontStroke?a:i,k.fontShadow?a:i],x=ro&&!zt?`(${xo?"Option":"Alt"}+X)`:"",Q=n?"\u5DF2\u5728\u6392\u9664\u6E32\u67D3\u5217\u8868\u5185\uFF0C\u82E5\u8981\u91CD\u65B0\u6E32\u67D3\uFF0C\u8BF7\u5728\u811A\u672C\u83DC\u5355\u4E2D\u5F00\u542F\u91CD\u65B0\u6E32\u67D3\u3002":"is already in the excluded rendering list. To re-render, Please enable in the script menu.";Ln&&Cs?Os("shown-system-disabled",o,"#be0d1c"):~De?Os("shown-system-disabled",`${yt.toUpperCase()} ${Q} ${x}`,"#aa56e7"):ot("shown-system-info",t,...S)},compat:o=>{const t=et({BLINK:90})||et({GECKO:84})||et({WEBKIT:15.4}),a=`%c${st} Browser Compatible: ${t}%c\r
Only desktop browsers support full functionality for this script. (Version: Chrome>=90, Edge>=90, Firefox>=84, Opera>=78, Safari>=15.4)`,i=n?"\u60A8\u7684\u6D4F\u89C8\u5668\u7248\u672C\u8FC7\u4F4E\uFF0C\u811A\u672C\u53EF\u80FD\u65E0\u6CD5\u6B63\u5E38\u8FD0\u884C\uFF01":"Your browser version is too low, the script may not work properly!",p=[`${on("#dc143c","#fffafa")};text-transform:uppercase`,"color:0;font-family:ui-monospace,monospace;line-height:150%"],S=n?`%c\u6D4F\u89C8\u5668 UA \u5F02\u5E38\u8B66\u544A%c\r
\u4F2A\u9020 UserAgent \u4FE1\u606F\u4F1A\u9020\u6210\u90E8\u5206\u811A\u672C\u529F\u80FD\u5931\u6548\u3002\u5982\u9700\u4F7F\u7528\u5168\u529F\u80FD\u811A\u672C\uFF0C\u8BF7\u6062\u590D\u6D4F\u89C8\u5668\u9ED8\u8BA4\u7684 UserAgent \u4FE1\u606F\u3002`:`%cBrowser UA Exception%c\r
Modifying UserAgent information will cause some script functions to become invalid. To use the full-featured script, please restore the browser's default UserAgent information.`,x=[`${on("#715100","#fffafa")};text-transform:uppercase`,"color:0;font-family:ui-monospace,monospace;line-height:150%"];(g["cheat-ua"]=o)&&ot("warn",S,...x),!t&&!o&&ot("error",`%c${i}`,"color:#be0d1c;font:italic 700 18px ui-monospace,monospace"),Jo(`${a}%c\r
${r.stringify(g)}`,...p,"color:#a9a9a9;font:italic 400 12px/150% ui-monospace,monospace")}};function Os(o,t,a){ot(o,`%c${e.var.scriptName}\r
%cINTRO.URL: ${e.url.introURL}\r
%c${t}`,"color:#dc143c;font:normal 700 16px/150% ui-monospace,monospace","color:#777;font:italic 400 10px/180% ui-monospace,monospace",`color:${a};font:normal 500 12px/180% ui-monospace,monospace`)}function zs(o,t){const a=Io({target:t})[0],i=a?.id||e.id.rndStyle,p=t?.ownerDocument?.documentElement?.id,S=et({BLINK:130,more:null})||at||!p?"":`#${p}`;return o=et({BLINK:128,more:null})||et({GECKO:126})?o:o.replace("var(--fr-font-fontscale)","initial"),{css:o.replace(e.const.regexp,S),id:i,style:a?.textContent}}function zn({condition:o,nodeArray:t,cssText:a}){if(!Ye||!lo)return;const i=(a??po).replace(e.var.style.frDialog,"");o==="Preview"&&e.array.iframe.size&&_s(e.array.iframe,o,i),Array.isArray(t)||(t=Ze("html>:not(head) *").flatMap(p=>p.shadowRoot?Ze("iframe",p.shadowRoot):At(p)==="iframe"?[p]:[])),_s(t,o,i)}function _s(o,t,a){if(o.size)return o.forEach(i=>i?.postMessage({fontRenderX:{command:"\u{1D42C}\u{1D41E}\u{1D427}\u{1D41D}",data:a,condition:t}},"*"));o.forEach(i=>{const[{display:p,visibility:S},{width:x,height:Q}]=[wn(i),i.getBoundingClientRect(),i.removeAttribute("sandbox")];if(!(p==="none"||S==="hidden"||x<4||Q<4||yn(i.src))){if(at&&Dt!=="Userscripts"&&t!=="Preview"&&i.addEventListener("load",()=>Bs(i,"Passive",a)),e.var.frameDone&&t!=="Preview")return delete e.var.frameDone;Bs(i,t,a)}})}function Bs(o,t,a){e.var.frameDone=at&&Dt!=="Userscripts"||null;const i=o.contentWindow;try{const{css:p,id:S,style:x}=zs(a,i.document.head);if(x===p||!Oo({target:i.document.head,id:S,cssText:p,overwrite:t!=="DOMLoaded"}))return;o.setAttribute(e.const.iframeAttrName,t)??bn(`[ASYNCFRAMES][ACT:${t}]`),Uo({Scenes:"iframe",Permit:k.o.fixStroke})(null,i.document)}catch(p){if(at&&Dt!=="Userscripts"||!i||t==="DOMLoaded")return K("InsertFrameStyle:",{node:o,condition:t,error:p.name});i.postMessage({fontRenderX:{command:"\u{1D42C}\u{1D41E}\u{1D427}\u{1D41D}",data:a,condition:t}},"*")}}function gr(){if(Ye)return C.top.addEventListener("message",t=>{if(t.data?.fontRenderX?.command!=="\u{1D42B}\u{1D41E}\u{1D42A}\u{1D42E}\u{1D41E}\u{1D42C}\u{1D42D}")return;const{condition:a,data:i=(e.var.topStyle??po).replace(e.var.style.frDialog,"")}=t.data.fontRenderX;a==="Loaded"&&e.array.iframe.add(t.source),t.source.postMessage({fontRenderX:{command:"\u{1D42C}\u{1D41E}\u{1D427}\u{1D41D}",data:i,condition:a}},"*")});if(yn(location.href))return;const o=()=>void C.top.postMessage({fontRenderX:{command:"\u{1D42B}\u{1D41E}\u{1D42A}\u{1D42E}\u{1D41E}\u{1D42C}\u{1D42D}",condition:"Loaded"}},"*");document.readyState!=="complete"?C.addEventListener("DOMContentLoaded",o):o(),C.addEventListener("message",t=>{if(~e.var.domainIndex||t.data?.fontRenderX?.command!=="\u{1D42C}\u{1D41E}\u{1D427}\u{1D41D}")return;const a=document.documentElement.getBoundingClientRect();if(a.width<4&&a.height<4)return;const{data:i,condition:p}=t.data.fontRenderX,{css:S,id:x,style:Q}=zs(i,document.head);Q!==S&&Oo({target:document.head,id:x,cssText:S,overwrite:!0})&&bn(`[ASYNCFRAMES][ACT:Message|${p}]`)})}function _n(o,t=po,a=!0){try{if(!o||!Ye)return;const[i,p]=[`#${document.documentElement.id}`,t.match(e.const.regexp)?.[0]];if(p&&p!==i&&(t=t.replace(e.const.regexp,i)),Oo({target:document.head,id:e.id.rndStyle,cssText:t,overwrite:!0})&&vt){const{prev:S,cur:x}=ya(e.array.scaleMatrix);x!==S&&ms({cur:x,prev:S,props:e.array.props}),ee("scale<Matrix>: %o",e.array.scaleMatrix)}zn({condition:"Preview",cssText:t}),e.var.preview=!a}catch(i){K("LoadPreview:",i.message)}}function br(o){try{const t=Je("fr-configure",{id:e.id.configure}),a=e.var.configIf=vn(t),i=String(ds("fr-configure")+e.var.style.shared+e.var.style.frConfigure);return a.innerHTML=d.createHTML(o),qt(a,i,`${e.const.seed}-configure`,!1),us(t,document.documentElement)}catch(t){K("InsertHTML:",t.message)}}function Jt(o,t,a){if(!o)return;const[i,p]=[`:host(div.${o.parentNode.host.className})`,Number(t).toFixed(a)],S=`${i}{--step:${o.step};--min:${o.min};--max:${o.max};--value:${p};--text-value:'${kt(p)}'}`;qt(o.parentNode,S,`${e.const.seed}-${o.name}`,!0),o.setAttribute("value",p),o.value=p}function Bn(o,t,a,i,p=!1){if(!o||!t)return;const S=()=>{const x=o.value==="OFF"?Number(p):Number(o.value),[Q,ae,ve]=["value","min","max"].map(A=>Number(t.getAttribute(A))),F=a.test(x)&&x>=ae&&x<=ve?x:Q;Jt(t,F,i),o.value=F===Number(p)?"OFF":F.toFixed(i)};o.addEventListener("input",()=>o.value=o.value.replace(/[^0-9.]/g,"")),o.addEventListener("change",S)}function Pn({name:o,pid:t,sid:a,min:i,max:p,step:S,value:x,bits:Q}){const ae=e.var[o]=vn(y(`#${t}>.${e.class.range}`,e.var.configIf));if(!ae)return;const[ve,V,F]=[`:host(.${ae.host.className})`,Number(x).toFixed(Q),o==="fr-scale"?On:""],A=`${ve}{--step:${S};--min:${i};--max:${p};--value:${V};--text-value:'${kt(V)}'}`,G=`<input id="${a}" type="range" name="${o}" min="${i}" max="${p}" step="${S}" value="${V}" ${F} /><output></output><div class="${e.class.rangeProgress}"></div>`;ae.innerHTML=d.createHTML(G),qt(ae,A,`${e.const.seed}-${o}`,!1),qt(ae,e.var.style.frSlider,`${e.const.seed}-range`,!1)}function xr(){try{Pn({name:"fr-scale",pid:e.id.fontSize,sid:e.id.scale,min:.8,max:2.5,step:.001,value:k.fontSize,bits:3}),Pn({name:"fr-stroke",pid:e.id.fontStroke,sid:e.id.stroke,min:0,max:1,step:.001,value:k.fontStroke,bits:3}),Pn({name:"fr-shadow",pid:e.id.fontShadow,sid:e.id.shadow,min:0,max:4,step:.01,value:k.fontShadow,bits:2})}catch(o){K("InsertSliders:",o.message,e.array.exps.push(`[insertSliders]: ${o}`))}}function Ht(...o){document.addEventListener("blur",nt,!0),$e(o).forEach(t=>["keydown","keyup","keypress"].forEach(a=>t?.addEventListener(a,nt)))}function Ps(o){const[t,a,i,p]=o?.match(/[0-9a-f]{2}/gi)?.map(x=>parseInt(x,16))??[0,0,0,0],S=.2126*t+.7152*a+.0722*i;return p&&S?S/(p/255):255-p}function Hs(o=1e3){if(typeof e.var.fontReady<"u")return delete e.var.fontReady;const t=performance.now(),a=gt(o,{useCachedSetTimeout:!0}).then(()=>({status:"timeout",time:o})),i=document.fonts.ready.then(()=>({status:"fontReady",time:performance.now()-t}));return e.var.fontReady=Promise.race([a,i])}async function $r(o){const t=await Fn();for(const a of t.values())if(a.en===o&&a.ps)return a.ps;return o}function Hn(o,t){const a={y:()=>String(t.getFullYear()),M:()=>String(t.getMonth()+1).padStart(2,"0"),d:()=>String(t.getDate()).padStart(2,"0"),H:()=>String(t.getHours()).padStart(2,"0"),m:()=>String(t.getMinutes()).padStart(2,"0"),s:()=>String(t.getSeconds()).padStart(2,"0"),S:()=>String(t.getMilliseconds()).padStart(3,"0")};return o.replace(/y+|M+|d+|H+|m+|s+|S+/g,i=>a[i[0]]())}function vr(o,t){if(!o||o.date!==Ce.decrypt(o.flag))return e.var.structureError=!0;if(!t||t!==o.flag)return!0;if(o.date!==Ce.decrypt(t))return e.var.structureError=!0}function Un(){try{const o=decodeURI("%C3%99%C3%97%C3%9D%7F%7D%C2%9A%7D%C3%9D%C2%9A%7F%C3%9EZ%C3%B7%C3%87%1B%C3%99%C3%B6%C2%BB%C3%93n%C3%BC%C3%AB%C2%A7x"),t=Ce.decrypt(Kt(o,null)),a=new RegExp(e.var.scriptAuthor).exec(ye(t))?.[0];return{keycode:()=>t,inspect:(i=ye(t))=>i.includes(a)}}catch(o){K(o.message)}}async function wr(o){const t=await Qn();if(e.var.structureError===!0||typeof En<"u"&&vr(o,En)){t.forEach(S=>(S!==_||e.var.structureError===!0)&&Vt(S));const a=n?`%c\u6570\u636E\u5DF2\u91CD\u5EFA\r
%c\u811A\u672C\u5DF2\u5F00\u542F\u66F4\u65B0\u540E\u6570\u636E\u91CD\u5EFA\u9009\u9879\uFF0C\u6240\u6709\u6570\u636E\u5DF2\u521D\u59CB\u5316\uFF0C\u60A8\u53EF\u624B\u52A8\u8FD8\u539F\u672C\u5730\u5907\u4EFD\u6570\u636E\u3002\u5982\u60A8\u7684\u5907\u4EFD\u8F83\u4E3A\u4E45\u8FDC\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u91CD\u65B0\u8BBE\u7F6E\u53C2\u6570\uFF0C\u8BB0\u5F97\u53CA\u65F6\u91CD\u65B0\u5907\u4EFD\u54DF\uFF01`:`%cData Reconstruct\r
%cThe script turns on the option to rebuild data after upgrade, all data is initialized and you can restore the local backup manually. If your backups are older, it is recommended that you reconfigure the parameters, and remember to re-backup in time!`,i=n?`%c\u6570\u636E\u91CD\u7F6E\u8B66\u544A\r
%c\u56E0\u68C0\u6D4B\u5230\u6570\u636E\u89E3\u6790\u5F02\u5E38\u3001\u6216\u4EE3\u7801/\u5B58\u50A8\u6570\u636E\u88AB\u975E\u6CD5\u7BE1\u6539\uFF0C\u6570\u636E\u5DF2\u5168\u90E8\u521D\u59CB\u5316\uFF0C\u8BF7\u624B\u52A8\u8FD8\u539F\u60A8\u672C\u5730\u5907\u4EFD\u6570\u636E\uFF01\u82E5\u53CD\u590D\u63D0\u793A\u6B64\u95EE\u9898\uFF0C\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u5B89\u88C5\u811A\u672C\uFF01`:`%cData Reset Warning\r
%cData has been initialized due to detect data parsing anomaly, or illegally tamper with code/data, please restore your local backup manually! If this appears repeatedly, please reinstall the script!`,p=e.var.structureError!==!0?["warn",`${a} (%s)`]:["error",`${i} (%s)`];ot(...p,"font-weight:700","font-weight:400",as()&&Ce.encrypt(o.date)),fe(_,q.Object.assign(Be,{...cs,rebuild:o.flag,curVersion:void 0,isCustomMono:!1,globalDisable:!1})),e.var.versionStatus=null,ee("%c Reconstruct configuration data: true ",`background-color:${e.var.structureError?"#ff0000":"#4b0082"};color:#fffafa;font-style:italic`)}else if(typeof En>"u")Be.rebuild=o.flag,fe(_,Be),ee(`%c${rn?"configuration data has been restored!":"configuration data is null, building now!"}`,`color:${rn?"#1e90ff":"#d8aa01"};font-style:italic;font-family:ui-monospace,monospace`);else{const a=rn===e.var.curVersion;ee(`%cConfigure Data Status: ${a?"OK":"Updated"}`,`color:${a?"#008080":"#dc143c"};font-style:italic;font-family:ui-monospace,monospace`)}return t.length}async function Us(o,t){const a={newInstall:n?"\u65B0\u5B89\u88C5\u9996\u6B21\u8FD0\u884C":"new-install execute",dataReset:n?"\u6570\u636E\u91CD\u7F6E\u540E\u8FD0\u884C":"data-rebuilt execute",historicalQuery:n?"\u60A8\u901A\u8FC7\u5386\u53F2\u67E5\u8BE2":"historical query for",updateFirstRun:n?"\u66F4\u65B0\u540E\u9996\u6B21\u8FD0\u884C":"update first execute"},i={undefined:a.newInstall,null:a.dataReset,[e.var.curVersion]:a.historicalQuery},p={firstInstall:n?`<li class="${e.const.seed}.init"><strong>\u6E29\u99A8\u63D0\u793A</strong> \u9996\u6B21\u52A0\u8F7D\u6B64\u811A\u672C\u65F6\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u5185\u7F6E\u53C2\u6570\u8FDB\u884C\u6E32\u67D3\uFF0C\u82E5\u663E\u793A\u6548\u679C\u4E0D\u4F73\uFF0C<b>\u5C5E\u4E8E\u6B63\u5E38\u60C5\u51B5</b>\u3002\u8BF7\u6839\u636E\u60A8\u672C\u5730\u7684\u663E\u793A\u5668\u53CA\u6D4F\u89C8\u5668\u914D\u7F6E\uFF0C<b>\u91CD\u65B0\u8BBE\u5B9A</b>\u6E32\u67D3\u53C2\u6570\u4EE5\u8FBE\u5230\u6700\u4F73\u6548\u679C\uFF01</li>`:`<li class="${e.const.seed}.init ${e.const.seed}.wrap.break"><strong>Tip:</strong> When first loaded, the default rendering will use the built-in parameters, which <b>Normally</b> do not display well. Please <b>reconfigure</b> the rendering parameters according to your monitor and browser to achieve the best display effect!</li>`,structureError:n?`<li class="${e.const.seed}.warn"><strong>\u6570\u636E\u91CD\u7F6E\u8B66\u544A</strong> \u56E0\u68C0\u6D4B\u5230\u6570\u636E\u89E3\u6790\u5F02\u5E38\u3001\u6216\u4EE3\u7801/\u5B58\u50A8\u6570\u636E\u88AB\u975E\u6CD5\u7BE1\u6539\uFF0C\u6570\u636E\u5DF2\u5168\u90E8\u521D\u59CB\u5316\uFF0C\u8BF7\u624B\u52A8\u8FD8\u539F\u60A8\u672C\u5730\u5907\u4EFD\u6570\u636E\uFF01\u82E5\u53CD\u590D\u63D0\u793A\u6B64\u95EE\u9898\uFF0C\u8BF7\u5C1D\u8BD5\u91CD\u65B0\u5B89\u88C5\u811A\u672C\uFF01</li>`:`<li class="${e.const.seed}.warn ${e.const.seed}.wrap.break"><strong>Data Reset Warning</strong> Data has been initialized due to detect data parsing anomaly, or illegally tamper with code/data, please restore your local backup manually! If this appears repeatedly, please reinstall the script!</li>`,dataRebuilt:n?`<li class="${e.const.seed}.warn ${e.const.seed}.clr:indigo"><strong>\u6570\u636E\u5DF2\u91CD\u5EFA</strong> \u811A\u672C\u5DF2\u5F00\u542F\u66F4\u65B0\u540E\u6570\u636E\u91CD\u5EFA\u9009\u9879\uFF0C\u6240\u6709\u6570\u636E\u5DF2\u521D\u59CB\u5316\uFF0C\u60A8\u53EF\u624B\u52A8\u8FD8\u539F\u672C\u5730\u5907\u4EFD\u6570\u636E\u3002\u5982\u60A8\u7684\u5907\u4EFD\u8F83\u4E3A\u4E45\u8FDC\uFF0C\u5F3A\u70C8\u5EFA\u8BAE\u60A8\u91CD\u65B0\u8BBE\u7F6E\u53C2\u6570\uFF0C\u8BB0\u5F97\u53CA\u65F6\u91CD\u65B0\u5907\u4EFD\u54DF\uFF01</li>`:`<li class="${e.const.seed}.warn ${e.const.seed}.clr:indigo ${e.const.seed}.wrap.break"><strong>Data Reconstructed</strong> The script turns on the option to rebuild data after upgrade, all data is initialized and you can restore the local backup manually. If your backups are older, it is recommended that you reconfigure the parameters, and remember to re-backup in time!</b></li>`},S=i[t]??a.updateFirstRun,x=typeof t>"u"?p.firstInstall:"",Q=e.var.structureError?p.structureError:t===null?p.dataRebuilt:"",[ae,ve]=n?["\u597D\uFF0C\u53BB\u770B\u770B","\u4E0D\uFF0C\u7B97\u4E86\u5427"]:["Yes, Let's go","No, Thanks"],V=n?"\u811A\u672C\u66F4\u65B0 - \u6E29\u99A8\u63D0\u793A":"Script Updates - Update Tips",F=n?`<p class="${e.const.seed}.wrap.break"><span class="${e.const.seed}.clr:ff6347 ${e.const.seed}.hi.cn">\u60A8\u597D\uFF01</span>\u8FD9\u662F${S}<span class="${e.const.seed}.pd:4p ${e.const.seed}.fw:700">${e.var.scriptName}</span>\u7684\u65B0\u7248\u672C<span class="${e.const.seed}.clr:ff6347 ${e.const.seed}.v.cn">v${e.var.curVersion}</span>\uFF0C\u4EE5\u4E0B\u4E3A\u66F4\u65B0\u8BE6\u60C5\uFF1A</p><p><ul id="${e.const.seed}.update">${x}${Q}${rs}</ul></p><p>\u5EFA\u8BAE\u60A8\u5148\u53BB\u67E5\u9605 <strong class="${e.const.seed}.clr:ff6347 ${e.const.seed}.fw:700 ${e.const.seed}.fst:ita">\u65B0\u7248\u4F7F\u7528\u6587\u6863</strong> \uFF0C\u8981\u53BB\u770B\u4E00\u4E0B\u5417\uFF1F</p>`:`<p class="${e.const.seed}.wrap.break" class="${e.const.seed}.lh:180"><span class="${e.const.seed}.clr:ff6347 ${e.const.seed}.hi.en">Hi! </span>This is ${S} "<span class="${e.const.seed}.pd:4p ${e.const.seed}.fw:700">${e.var.scriptName}</span>" in Version<span class="${e.const.seed}.clr:ff6347 ${e.const.seed}.v.en">v${e.var.curVersion}</span>, and the update details are as follows:</p><p><ul id="${e.const.seed}.update">${x}${Q}${rs}</ul></p><p>Suggest you to view <strong class="${e.const.seed}.clr:ff6347 ${e.const.seed}.fw:700 ${e.const.seed}.fst:ita">Usage Document,</strong> okay?</p></p>`;let A=new me({trueButtonText:ae,falseButtonText:ve,messageText:F,titleText:V});await A.respond()&&ct(o,!1),gt(500)(A=null).then(G=>void(t===G&&Ro()))}function yr(o){o!==e.var.curVersion&&(Be.curVersion=e.var.curVersion,fe(_,Be),xt.remove(ze),bs().then(t=>t&&fe(P,t)),ee(`Update.Version: %c${e.var.curVersion}`,"color:#dc143c;font-weight:600"),(!Ia||o===null)&&Us(e.url.guideURI,o))}function Vs(){if(y(`#${e.id.configure}`))return je({isReload:!1});try{if(!br(hr))return;xr(),Lr(),gt(100,{useCachedSetTimeout:!0}).then(kr).then(o=>(o.node?.classList.add(`${e.const.seed}.opac:1`),ee("configure<errorCount>:",o.error.length)??Dr(o.error)))}catch(o){K("OpenSettings:",o)}}function kr(){return C.innerHeight<=(vt?786:719)&&Ze(`#${e.id.cSwitch},#${e.id.eSwitch}`,e.var.configIf).forEach(o=>void o.click()),y(`.${e.class.title} span.${e.class.guide}`,e.var.configIf)?.addEventListener("click",()=>void ct(e.url.guideURI,!1)),y(`#${e.id.render}`,e.var.configIf)?.addEventListener("dblclick",o=>nt(o,{preventDefault:!0})||ct(`${e.url.feedback}/42`,!1)),y(`#${e.id.field} #${e.const.seed}\\.scriptname`,e.var.configIf)?.addEventListener("dblclick",function(o){nt(o,{preventDefault:!0}),this.classList.add(`${e.const.seed}.usel:none`),Us(e.url.guideURI,e.var.curVersion)}),{error:e.array.exps,node:y(`#${e.id.container}`,e.var.configIf)}}async function Gs(){const o=n?`<p id="${e.const.seed}.exSite.add">${yt}</p><p class="${e.const.seed}.clr:8b0000">\u8BE5\u57DF\u540D\u4E0B\u6240\u6709\u9875\u9762\u5C06\u88AB\u7981\u6B62\u5B57\u4F53\u6E32\u67D3\uFF01</p><p>\u786E\u5B9A\u540E\u5F53\u524D\u9875\u9762\u5C06\u81EA\u52A8\u5237\u65B0\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u6392\u9664\uFF1F</p>`:`<p id="${e.const.seed}.exSite.add">${yt}</p><p class="${e.const.seed}.clr:8b0000">The fonts of all web pages under this domain name will be prohibited from rendering!</p><p>Please confirm to exclude?</p>`,[t,a]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u6392\u9664"]:["OK","Exclusion"],[i,p]=n?["\u53D6 \u6D88","\u6392\u9664\u5B57\u4F53\u6E32\u67D3"]:["Cancel","Exclude Font Rendering"];let S=new me({trueButtonText:t,falseButtonText:a,neutralButtonText:i,messageText:o,titleText:p});if(await S.respond()){const{exSite:x}=await f();x.push(yt)&&fe(W,Ve(x,Q=>Q&&typeof Q=="string").sort()),je({isReload:!0})}else Vn();S=null}async function js(){const o=await s(),{isBackupFunction:t=!0,isPreview:a,isFontsize:i,isHotkey:p=!0,isFixViewport:S=!0,isCloseTip:x,globalDisable:Q,maxPersonalSites:ae=100}=o,ve=n?"\u9AD8\u7EA7\u6838\u5FC3\u529F\u80FD\u8BBE\u7F6E":"Advanced Core Settings",V=n?`<div class="${e.const.seed}.VIP" title="\u5F53\u60A8\u4EC5\u9700\u8981\u5728\u7279\u5B9A\u57DF\u540D\u6E32\u67D3\u65F6\uFF0C\u53EF\u4F7F\u7528\u6B64\u5FEB\u6377\u529F\u80FD\u5173\u95ED\u5168\u5C40\u8BBE\u7F6E\uFF01"><u>\u2469</u>\u4EC5\u5728\u7279\u5B9A\u57DF\u540D\u751F\u6548\uFF08\u5168\u5C40\u7981\u7528\uFF09</div><button id="${e.id.globaldisable}">\u5173\u95ED\u5168\u5C40</button>`:`<div class="${e.const.seed}.VIP" title="To turn off global render when only need to render at specific domain name."><u>\u2469</u>Disabled Global Rendering</div><button id="${e.id.globaldisable}">Disable</button>`,F=Q?"":`<li id="${e.id.gc}">${V}</li>`,A=n?`<div class="${e.const.seed}.VIP" title="\u517B\u6210\u5B9A\u671F\u5907\u4EFD\u7684\u597D\u4E60\u60EF\uFF0C\u4FDD\u62A4\u81EA\u5DF1\u7684\u6570\u636E\u5B89\u5168\uFF01"><u>\u2460</u>\u672C\u5730\u5907\u4EFD\u529F\u80FD\uFF08\u9ED8\u8BA4\uFF1A\u5F00\u542F\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Keep your data safe with regular backups!"><u>\u2460</u>Local Backup (Default: ON)</div>`,G=n?`<div class="${e.const.seed}.VIP" title="\u65E0\u9700\u4FDD\u5B58\u5237\u65B0\u9875\u9762\uFF0C\u76F4\u63A5\u9884\u89C8\u6E32\u67D3\u6548\u679C\uFF01"><u>\u2461</u>\u6E32\u67D3\u9884\u89C8\u529F\u80FD\uFF08\u9ED8\u8BA4\uFF1A\u5173\u95ED\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Preview the rendering directly without saving and refreshing the page."><u>\u2461</u>Render Preview (Default: OFF)</div>`,oe=n?`<div class="${e.const.seed}.VIP" title="\u5B9E\u9A8C\u6027\u529F\u80FD\uFF1A\u517C\u5BB9\u5927\u90E8\u5206\u6D4F\u89C8\u5668\uFF0C\u4F46\u4ECD\u5728Beta\u6D4B\u8BD5\u9636\u6BB5\uFF01"><u>\u2462</u>\u5B57\u4F53\u7F29\u653E\u529F\u80FD\uFF08\u9ED8\u8BA4\uFF1A\u5173\u95ED\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Experimental: Compatible with most browsers, but still in Beta."><u>\u2462</u>Font Scaling (Default: OFF)</div>`,D=n?`<div class="${e.const.seed}.VIP" title="\u5B9E\u9A8C\u6027\u529F\u80FD\uFF1A\u8DDF\u968F\u5B57\u4F53\u7F29\u653E\u5F00\u5173\uFF0C\u53EF\u5355\u72EC\u5173\u95ED\uFF0C\u4F7F\u7528\u65B9\u6CD5\u67E5\u9605\u5E2E\u52A9\u6587\u4EF6\uFF01"><u>\u2463</u>\u89C6\u53E3\u5355\u4F4D\u4FEE\u6B63\uFF08\u9ED8\u8BA4\uFF1A\u5173\u95ED\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Experimental: Follow the font scaling switch, can be turned off individually."><u>\u2463</u>Fix Viewport (Default: OFF)</div>`,L=n?`<div class="${e.const.seed}.VIP" title="\u5982\u5FEB\u6377\u952E\u6709\u51B2\u7A81\uFF0C\u8BF7\u5728\u6B64\u5173\u95ED\u5B83\uFF01"><u>\u2464</u>\u952E\u76D8\u5FEB\u6377\u952E\u529F\u80FD\uFF08\u9ED8\u8BA4\uFF1A\u5F00\u542F\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="If there is a conflict in the shortcut, please close it."><u>\u2464</u>Shortcut Tool (Default: ON)</div>`,O=n?`<div class="${e.const.seed}.VIP" title="\u60A8\u5C06\u65E0\u6CD5\u7B2C\u4E00\u65F6\u95F4\u83B7\u5F97\u66F4\u65B0\u5185\u5BB9\uFF0C\u9519\u8FC7\u91CD\u8981\u63D0\u793A\uFF01"><u>\u2465</u>\u5173\u95ED\u66F4\u65B0\u63D0\u793A\u529F\u80FD\uFF08\u4E0D\u63A8\u8350\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="You won't get update or important tips, which we don't recommend."><u>\u2465</u>Turn Off Update Prompts</div>`,re=n?`<div class="${e.const.seed}.VIP" title="\u9632\u6B62\u9875\u9762\u52A0\u8F7D\u7F13\u6162\uFF0C\u4E0D\u5EFA\u8BAE\u8BBE\u7F6E\u8FC7\u9AD8\u7684\u6570\u503C\uFF01"><u>\u2466</u>\u4E2A\u6027\u5316\u8BBE\u7F6E\u603B\u6570\uFF08\u9ED8\u8BA4: 100\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Prevents slow loading, not recommended to set a higher value."><u>\u2466</u>Customize Total (Defalut: 100)</div>`,j=n?`<div class="${e.const.seed}.VIP" title="\u624B\u52A8\u62C9\u53D6\u9884\u5B9A\u4E49\u7684\u7AD9\u70B9\u6E32\u67D3\u6570\u636E\uFF0C\u51CF\u5C11\u4E00\u822C\u60C5\u51B5\u4E0B\u7684\u6E32\u67D3\u9519\u8BEF\uFF01"><u>\u2467</u>\u9884\u5B9A\u4E49\u7684\u6E32\u67D3\u6570\u636E\uFF08\u5B9E\u9A8C\u529F\u80FD\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="Pull predefined special rendering data to reduce rendering errors!"><u>\u2467</u>Pull Predefined Render Data</div>`,le=n?`<div class="${e.const.seed}.VIP" title="\u5B89\u88C5\u65B0\u5B57\u4F53\u540E\uFF0C\u8BF7\u5148\u91CD\u542F\u6D4F\u89C8\u5668\u518D\u91CD\u5EFA\u5168\u5C40\u7F13\u5B58\uFF01"><u>\u2468</u>\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\uFF08\u65F6\u6548: 30\u5929\uFF09</div>`:`<div class="${e.const.seed}.VIP" title="After installing new fonts, restart browser before rebuilding the global cache."><u>\u2468</u>FontList Cache (Expired: 30d)</div>`,u=n?"\u5982\u679C\u60A8\u9047\u5230\u9519\u8BEF\u6216\u63D0\u5EFA\u8BAE\uFF0C\u8BF7\u53CA\u65F6\u5411\u6211\u53CD\u9988":"Feedback for any errors or suggestions",w=`<span>${ve}</span><span class="${e.const.seed}.fs:14p">- Version ${e.var.curVersion} -</span>`,T=`<span class="${e.class.emoji}">\u{1F9E1}</span>`,$=`<ul class="${e.class.main}">
              <li id="${e.id.bk}">
                ${A}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.isbackup}" class="${e.class.checkbox}" ${t?"checked":""} />
                  <label for="${e.id.isbackup}"></label>
                </div>
              </li>
              <li id="${e.id.pv}">
                ${G}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.ispreview}" class="${e.class.checkbox}" ${a?"checked":""} />
                  <label for="${e.id.ispreview}"></label>
                </div>
              </li>
              <li id="${e.id.fs}">
                ${oe}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.isfontsize}" class="${e.class.checkbox}" ${i?"checked":""} />
                  <label for="${e.id.isfontsize}"></label>
                </div>
              </li>
              <li id="${e.id.fvp}">
                ${D}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.isfixviewport}" class="${e.class.checkbox}" ${S?"checked":""} />
                  <label for="${e.id.isfixviewport}"></label>
                </div>
              </li>
              <li id="${e.id.hk}">
                ${L}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.ishotkey}" class="${e.class.checkbox}" ${p?"checked":""} />
                  <label for="${e.id.ishotkey}"></label>
                </div>
              </li>
              <li id="${e.id.ct}">
                ${O}
                <div class="${e.const.seed}.mg:0.pd:0">
                  <input type="checkbox" id="${e.id.isclosetip}" class="${e.class.checkbox}" ${x?"checked":""} />
                  <label for="${e.id.isclosetip}"></label>
                </div>
              </li>
              <li id="${e.id.mps}">
                ${re}
                <div class="${e.const.seed}.mgr:5p ${e.const.seed}.pd:0">
                  <input maxlength="4" id="${e.id.maxps}" placeholder="100" value="${ae}" readonly />
                </div>
              </li>
              <li id="${e.id.pdr}">
                ${j}
                <button id="${e.id.pdrr}">${n?"\u91CD\u65B0\u62C9\u53D6":"Repull"}</button>
              </li>
              <li id="${e.id.flc}">
                ${le}
                <button id="${e.id.flcid}">${n?"\u91CD\u5EFA\u7F13\u5B58":"Rebuild"}</button>
              </li>
              ${F}
            </ul>
            <div id="${e.id.feedback}">${T}<span><b> ${u} </b></span>${T}</div>`,[I,R,H]=n?["\u4FDD\u5B58\u6570\u636E","\u811A\u672C\u4E3B\u9875","\u53D6 \u6D88"]:["Save","Homepage","Cancel"];let B=new me({trueButtonText:I,falseButtonText:R,neutralButtonText:H,messageText:$,titleText:w});const U=`#${e.id.isbackup},#${e.id.ispreview},#${e.id.isfontsize},#${e.id.isfixviewport},#${e.id.ishotkey},#${e.id.isclosetip},#${e.id.maxps}`,te=X=>X.split(",").map((be,he)=>(he=y(be,e.var.dialogIf))&&(he.type==="checkbox"?he.checked:he.value||100));let[z,ne,de,Y,M,se,ue]=te(U);const ke=y(`#${e.id.maxps}`,e.var.dialogIf);Ht(ke),ke?.addEventListener("input",()=>ke.value=ke.value.replace(/[^0-9]/g,"")),y(`#${e.id.isclosetip}`,e.var.dialogIf)?.addEventListener("click",function(){const X=n?`\u6211\u4EEC\u5F3A\u70C8\u5730\u4E0D\u5EFA\u8BAE\u60A8\u5173\u95ED\u66F4\u65B0\u63D0\u793A\u529F\u80FD\uFF0C\u90A3\u6837\u60A8\u5C06\u4E0D\u80FD\u53CA\u65F6\u83B7\u5F97\u66F4\u65B0\u5185\u5BB9\u548C\u91CD\u8981\u7684\u529F\u80FD\u63D0\u793A\uFF0C\u7279\u6B8A\u60C5\u51B5\u4E0B\u751A\u81F3\u4F1A\u5F71\u54CD\u60A8\u7684\u6B63\u5E38\u4F7F\u7528\u3002\u53CC\u51FB\u5B57\u4F53\u6E32\u67D3\u8BBE\u7F6E\u754C\u9762\u9876\u90E8\u7684\u811A\u672C\u540D\u79F0\uFF08\u6216\u8BBF\u95EEGithub\u4E3B\u9875\uFF09\uFF0C\u53EF\u67E5\u770B\u5386\u53F2\u66F4\u65B0\u5185\u5BB9\u3002\r
\r
\u8BF7\u786E\u8BA4\u662F\u5426\u201C\u5173\u95ED\u66F4\u65B0\u63D0\u793A\u529F\u80FD\u201D\uFF1F`:`We strongly do not recommend that you turn off the update prompt, as you will not be able to get updates and important prompts in time, and in special cases may even affect your normal use. Double-click the script-name at font rendering settings interface (or visit Github) to see the update history.\r
\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41C}\u{1D428}\u{1D427}\u{1D41F}\u{1D422}\u{1D42B}\u{1D426} \u{1D42D}\u{1D428} \u{1D41C}\u{1D425}\u{1D428}\u{1D42C}\u{1D41E} \u{1D42D}\u{1D421}\u{1D41E} \u{1D42E}\u{1D429}\u{1D41D}\u{1D41A}\u{1D42D}\u{1D41E} \u{1D429}\u{1D42B}\u{1D428}\u{1D426}\u{1D429}\u{1D42D}?`;this.checked&&(this.checked=!!qo(X))});const ie=y(`#${e.id.isfontsize}`,e.var.dialogIf),ge=y(`#${e.id.isfixviewport}`,e.var.dialogIf);ie?.addEventListener("click",function(){const X=n?`\u5B57\u4F53\u6BD4\u4F8B\u7F29\u653E\uFF08\u5B9E\u9A8C\u6027\u529F\u80FD\uFF09\r
\r
\u6CE8\u610F\uFF1A`:`\u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D412}\u{1D41C}\u{1D41A}\u{1D425}\u{1D422}\u{1D427}\u{1D420} (\u{1D41E}\u{1D431}\u{1D429}\u{1D41E}\u{1D42B}\u{1D422}\u{1D426}\u{1D41E}\u{1D427}\u{1D42D}\u{1D41A}\u{1D425})\r
\u{1D40D}\u{1D428}\u{1D42D}\u{1D41E}: `,be=n?`\u7531\u4E8E Firefox (Gecko\u5185\u6838\u7248\u672C < 126) \u6216 Greasemonkey/Userscripts/FireMonkey \u6269\u5C55\u7684\u517C\u5BB9\u6027\u539F\u56E0\uFF0C\u4F1A\u5BF9\u90E8\u5206\u7F51\u7AD9\u9020\u6210\u4E0D\u53EF\u4FEE\u590D\u7684\u6837\u5F0F\u9519\u8BEF\u3001\u9875\u9762\u52A8\u4F5C\u7F3A\u5931\u7B49\u95EE\u9898\u3002\r
\r
\u5F3A\u70C8\u5EFA\u8BAE\u60A8\uFF1A\u4F7F\u7528\u201C\u6D4F\u89C8\u5668\u7F29\u653E\u201D\u66FF\u4EE3 (\u5FEB\u6377\u952E\uFF1Actrl+-/ctrl++)`:`Due to the compatible of Firefox (Gecko Engine < 126) or Greasemonkey/Userscripts/FireMonkey extensions, may cause irreparable styling errors or missing animations on some websites. \r
\u{1D411}\u{1D41E}\u{1D41C}\u{1D428}\u{1D426}\u{1D426}\u{1D41E}\u{1D427}\u{1D41D}\u{1D41E}\u{1D41D}: use 'Browser Zoom' instead. \r
\u{1D401}\u{1D42B}\u{1D428}\u{1D430}\u{1D42C}\u{1D41E}\u{1D42B} \u{1D412}\u{1D421}\u{1D428}\u{1D42B}\u{1D42D}\u{1D41C}\u{1D42E}\u{1D42D}: ( Ctrl+- / Ctrl++ )`,he=n?"\u5B57\u4F53\u7F29\u653E\u529F\u80FD\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u5F00\u542F\uFF0C\u5B57\u4F53\u7F29\u653E\u540E\u9020\u6210\u7684\u89C6\u53E3\u5355\u4F4D\u504F\u79FB\u53EF\u901A\u8FC7\u201C\u89C6\u53E3\u5355\u4F4D\u4FEE\u6B63\u201D\u529F\u80FD\u89E3\u51B3\uFF0C\u5982\u4ECB\u610F\u7981\u7528 CSP \u6743\u9650\uFF0C\u8BE5\u529F\u80FD\u53EF\u5728\u6B64\u5168\u5C40\u5173\u95ED\uFF0C\u4E5F\u53EF\u5728\u5B57\u4F53\u6E32\u67D3\u8BBE\u7F6E\u4E2D\u5355\u72EC\u5173\u95ED\u3002":"'\u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D412}\u{1D41C}\u{1D41A}\u{1D425}\u{1D422}\u{1D427}\u{1D420}' feature will be turned on after you confirm, viewport unit offset caused by font scaling could be solved by the '\u{1D405}\u{1D422}\u{1D431} \u{1D415}\u{1D422}\u{1D41E}\u{1D430}\u{1D429}\u{1D428}\u{1D42B}\u{1D42D}' feature, which can be turned off globally here or individually in font rendering settings, If you mind disabling CSP.",Ee=n?`\r
\r
\u8BF7\u786E\u8BA4\u662F\u5426\u5F00\u542F\u5B57\u4F53\u7F29\u653E\u529F\u80FD\uFF1F`:`\r
\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41C}\u{1D428}\u{1D427}\u{1D41F}\u{1D422}\u{1D42B}\u{1D426} \u{1D42D}\u{1D428} \u{1D41E}\u{1D427}\u{1D41A}\u{1D41B}\u{1D425}\u{1D41E} \u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D412}\u{1D41C}\u{1D41A}\u{1D425}\u{1D422}\u{1D427}\u{1D420}?`,Le=X.concat(et({GECKO:126,more:null})||at?be:he,Ee);this.checked&&(this.checked=!!qo(Le)),ge&&(ge.checked=this.checked)}),ge?.addEventListener("click",()=>ge.checked&&!ie?.checked&&ie?.click()),y(`#${e.id.globaldisable}`,e.var.dialogIf)?.addEventListener("click",async()=>{const X=n?`<p class="${e.const.seed}.clr:8b0000">\u4E0B\u4E00\u6B65\u64CD\u4F5C\u5C06\u5173\u95ED\u9ED8\u8BA4\u7684\u5168\u5C40\u8BBE\u7F6E\u6570\u636E\uFF0C\u60A8\u53EF\u4EE5\u4EC5\u5728\u6307\u5B9A\u7684\u57DF\u540D\u4FDD\u5B58\u9700\u8981\u6E32\u67D3\u7684\u7AD9\u70B9\u72EC\u4EAB\u6570\u636E\u3002\u8BF7\u6CE8\u610F\uFF0C\u5168\u5C40\u6570\u636E\u7981\u7528\u540E\uFF0C\u60A8\u9700\u8981\u91CD\u65B0\u914D\u7F6E\u5E76\u4FDD\u5B58\u4E3A\u5168\u5C40\u6570\u636E\u624D\u80FD\u542F\u7528\u9ED8\u8BA4\u5168\u5C40\u6E32\u67D3\u89C4\u5219\u3002</p><p>\u8BF7\u786E\u8BA4\u60A8\u662F\u5426\u8981\u7981\u7528\u5168\u5C40\u8BBE\u7F6E\uFF1F</p>`:`<p class="${e.const.seed}.clr:8b0000">The next step will turn off the global setting data, and you can save only the site-specific data that needs to be rendered in specified domain name. Please note that after global data disabled, you need to reconfigure and save as global data to enable the global rendering rules.</p><p>Please confirm to disable global settings?</p>`,[be,he,Ee]=n?["\u786E \u5B9A","\u53D6 \u6D88","\u7981\u7528\u5168\u5C40\u8BBE\u7F6E\u6570\u636E"]:["OK","Cancel","Disable Global Settings"];let Le=new me({trueButtonText:be,neutralButtonText:he,messageText:X,titleText:Ee});if(await Le.respond()){const Re={...xe,fontFace:!1,fontSmooth:!1,fontStroke:0,fixStroke:!1,fontShadow:0,renderCanvas:!1};fe(we,Re),o.globalDisable=!0,fe(_,o),je({isReload:!0})}Le=null});const pe=Ao({fn:Ks,delay:500,once:!0});if(y(`#${e.id.pdrr}`,e.var.dialogIf)?.addEventListener("click",async()=>{const X=n?"\u6B63\u5728\u52AA\u529B\u62C9\u53D6\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E\u4E2D\uFF0C\u8BF7\u7A0D\u540E...":"Pulling predefined render data, please wait...",be=`<p id="${e.const.seed}.pull.result" class="${e.const.seed}.clr:708090">${X}</p>`,[he,Ee]=n?["\u786E \u5B9A","\u62C9\u53D6\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E"]:["OK","Pull Predefined Render Data"];let Le=new me({trueButtonText:he,messageText:be,titleText:Ee});Le.trueButton.className=Le.trueButton.setAttribute("disabled","")??`${e.class.dbb} ${e.class.dbbn}`;const Re=y(`#${e.const.seed}\\.pull\\.result`,e.var.dialogIf);Re&&pe(Re,Le),Le=null}),y(`#${e.id.flcid}`,e.var.dialogIf)?.addEventListener("click",async()=>{const X=n?"\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\u5DF2\u91CD\u5EFA\uFF0C\u5F53\u524D\u9875\u9762\u5373\u5C06\u5237\u65B0\uFF01":"Rebuilt Fontlist cache and refresh soon!",be=`<p class="${e.const.seed}.clr:b8860b ${e.const.seed}.tal:center ${e.const.seed}.cps">${X}</p><p class="${e.const.seed}.tal:center"><a class="${e.const.seed}.cpsa"><img src='${e.url.fontlistImg}' /></a></p>`,[he,Ee]=n?["\u786E \u5B9A","\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\u5DF2\u91CD\u5EFA"]:["OK","Rebuilt Fontlist Cache"];let Le=new me({trueButtonText:he,messageText:be,titleText:Ee});xt.remove(ze),await Le.respond()&&je({isReload:!0}),Le=null}),y(`#${e.id.feedback}`,e.var.dialogIf)?.addEventListener("click",()=>void ct(e.url.feedback,!1)),Ze(U,e.var.dialogIf).forEach(X=>X.addEventListener("change",()=>[z,ne,de,Y,M,se,ue]=te(U))),await B.respond()){const X={isBackupFunction:z,isPreview:ne,isFontsize:de,isFixViewport:Y,isHotkey:M,isCloseTip:se,maxPersonalSites:ue};fe(_,q.Object.assign(o,X));const be=`<p class="${e.const.seed}.clr:b8860b">${n?"\u9AD8\u7EA7\u6838\u5FC3\u529F\u80FD\u53C2\u6570\u5DF2\u6210\u529F\u4FDD\u5B58\uFF0C\u5F53\u524D\u9875\u9762\u5373\u5C06\u5237\u65B0\uFF01":"Advanced Core Data was saved and refresh soon!"}</p>`,[he,Ee]=n?["\u786E \u5B9A","\u9AD8\u7EA7\u6838\u5FC3\u529F\u80FD\u8BBE\u7F6E\u4FDD\u5B58"]:["OK","Advanced Core Data Save"];let Le=new me({trueButtonText:he,messageText:be,titleText:Ee});await Le.respond()&&je({isReload:!0}),Le=null}else ct(e.url.installURI,!1);B=null}async function pn(){const o=n?`<p class="${e.const.seed}.exclusion">${yt}</p><p class="${e.const.seed}.clr:green">\u8BE5\u57DF\u540D\u4E0B\u6240\u6709\u9875\u9762\u5C06\u91CD\u65B0\u8FDB\u884C\u5B57\u4F53\u6E32\u67D3\uFF01</p><p>\u786E\u5B9A\u540E\u5F53\u524D\u9875\u9762\u5C06\u81EA\u52A8\u5237\u65B0\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u6062\u590D\uFF1F</p>`:`<p class="${e.const.seed}.exclusion">${yt}</p><p class="${e.const.seed}.clr:green">The fonts of all web pages under this domain name will be allowed from rendering!</p><p>Please confirm to re-rendering?</p>`,[t,a]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u6392\u9664"]:["OK","Exclusion"],[i,p]=n?["\u53D6 \u6D88","\u6062\u590D\u5B57\u4F53\u6E32\u67D3"]:["Cancel","Allow Font Rendering"];let S=new me({trueButtonText:t,falseButtonText:a,neutralButtonText:i,messageText:o,titleText:p});if(await S.respond()){const{exSite:x,exSitesIndex:Q}=await f(),ae=V=>typeof V=="string"&&V.startsWith("*")&&new RegExp(`^[a-z0-9][-a-z0-9]{0,62}${V.slice(1).replace(/\./g,"\\.")}(\\:\\d{2,5})?$`),ve=x.Find(V=>(V=ae(V))&&V.test(jt));if(!ve)~Q&&x.splice(Q,1)&&fe(W,Ve(x,V=>V&&typeof V=="string").sort()),je({isReload:!0});else{const V=n?`<p class="${e.const.seed}.exclusion">${ve}</p><p class="${e.const.seed}.clr:8b0000">\u8BE5\u7F51\u7AD9\u662F\u88AB\u4EE5\u4E0A\u5305\u542B\u901A\u914D\u7B26\u7684\u6CDB\u57DF\u540D\u6240\u6392\u9664\u6E32\u67D3\u7684\u3002</p><p>\u300E\u786E\u5B9A\u300F\u5C06\u81EA\u52A8\u53D6\u6D88\u8BE5\u6CDB\u57DF\u540D\u4E0B\u6240\u6709\u7684\u6392\u9664\u9879\u3002</p><p>\u300E\u7BA1\u7406\u300F\u60A8\u5C06\u8FDB\u5165\u81EA\u5B9A\u4E49\u6392\u9664\u7AD9\u70B9\u5217\u8868\u624B\u52A8\u5904\u7406\u3002</p>`:`<p class="${e.const.seed}.exclusion">${ve}</p><p class="${e.const.seed}.clr:8b0000">The site is excluded by Pan-domain name above.</p><p>\u300EOK\u300FAllow all under this Pan-domain name.</p><p>\u300EManage\u300FEdit customized exclude-sites list.`,[F,A]=n?["\u786E \u5B9A","\u7BA1 \u7406"]:["OK","Manage"],[G,oe]=n?["\u53D6 \u6D88","\u6062\u590D\u6CDB\u57DF\u540D\u4E0B\u7684\u5B57\u4F53\u6E32\u67D3"]:["Cancel","Allow Pan-domain name re-Rendering"];let D=new me({trueButtonText:F,falseButtonText:A,neutralButtonText:G,messageText:V,titleText:oe});if(await D.respond()){const{exSite:L}=await f(),O=Ve(L,re=>re&&typeof re=="string"&&!re.endsWith(ve.slice(1))).sort();fe(W,O),je({isReload:!0})}else Vn();D=null}}else Vn();S=null}async function Vn(){const{exSite:o}=await f(),[t,[a,i]]=[o,n?["\u5220\u9664","\u6062\u590D"]:["Del","Reset"]];let[p,S]=[t.length-1,""];for(let j=0;j<=p;j++){const le=Ke(t[j]),u=String(j+1).padStart(2,"0");S+=`<li id="${e.const.seed}.vlist.item:${j}"><span>${u}. </span><span class="${e.const.seed}.domainlist" title="${le}">${le}</span>`,S+=`<span>[<a id="${e.const.seed}.vlist.item.link:${j}" class="${e.const.seed}.clr:8b0000" data-fr-domain="${le}">${a}</a>]</span></li>`}S=S||`<li id="${e.const.seed}.temp">---- ${n?"\u6682\u65F6\u6CA1\u6709\u81EA\u5B9A\u4E49\u6392\u9664\u7AD9\u70B9":"No customized exclusion"} ----</li>`;const[x,Q]=n?["\u67E5 \u8BE2","\u6DFB \u52A0"]:["Search","Add"],ve=`${n?`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p"><b class="${e.const.seed}.clr:8b0000">\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6392\u9664\u7AD9\u70B9</b>\uFF1A\u5728\u6587\u672C\u6846\u4E2D\u8F93\u5165\u6B63\u786E\u7684\u57DF\u540D\uFF0C\u70B9\u51FB\u6DFB\u52A0\u6309\u94AE\uFF0C\u652F\u6301\u9996\u4F4D\u901A\u914D\u7B26\u7684\u6CDB\u57DF\u540D\uFF0C\u5982\uFF1A*.example.com</p><p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p"><b class="${e.const.seed}.clr:8b0000">\u6570\u636E\u4FDD\u5B58</b>\uFF1A\u5B8C\u6210\u6240\u6709\u6DFB\u52A0\u3001\u5220\u9664\u64CD\u4F5C\u540E\u9700\u70B9\u51FB\u4FDD\u5B58\u6309\u94AE\u624D\u4F1A\u4F7F\u6570\u636E\u4FDD\u5B58\u751F\u6548\uFF0C\u4FDD\u5B58\u6570\u636E\u540E\u4E0D\u80FD\u64A4\u56DE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002</p>`:`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p"><b class="${e.const.seed}.clr:8b0000">Add</b>: Enter domain-name, click Add button. Support for Pan-domain name with wildcard, e.g. *.example.com</p><p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p"><b class="${e.const.seed}.clr:8b0000">Save</b>: After adding or deleting, must click Save button to make the data effective. After saving, unable to retract!</p>`}<p class="${e.const.seed}.list:p"><input id="${e.const.seed}.sdata" type="search"><button id="${e.const.seed}.sdata:search">${x}</button><button id="${e.const.seed}.sdata:add">${Q}</button></p><ul id="${e.const.seed}.vlist">${S}</ul>`,[V,F,A]=n?["\u4FDD\u5B58\u6570\u636E","\u53D6 \u6D88","\u81EA\u5B9A\u4E49\u6392\u9664\u7AD9\u70B9\u7BA1\u7406"]:["Save","Cancel","Manage Customized Exclusions"];let G=new me({trueButtonText:V,neutralButtonText:F,messageText:ve,titleText:A});const[oe,D,L,O,re]=["sdata","sdata\\:search","sdata\\:add","vlist","temp"].map(j=>y(`#${e.const.seed}\\.${j}`,e.var.dialogIf));if(O&&oe&&D&&L&&(oe.addEventListener("keydown",j=>{j.key==="Enter"&&(nt(j,{immediate:!1,preventDefault:!0}),D.focus(),D.click())}),Ht(oe),oe.addEventListener("input",()=>void(oe.value=oe.value.replace(/[^-a-z0-9.*:\][]|^https?:\/\//gi,"").toLowerCase())),oe.addEventListener("focus",()=>void oe.removeAttribute("class")),L.addEventListener("click",()=>{const j=oe.value.trim().toLowerCase(),le="^(?=^.{3,255}$)(\\*\\.)?[a-z0-9][-a-z0-9]{0,62}(\\.[a-z0-9][-a-z0-9]{0,62})+(:[0-9]{1,5})?$|^(?![0-9])(?!-)(?!.*--)[A-Za-z0-9-]{2,62}[a-zA-Z0-9](:[0-9]{1,5})?$|^\\[(([0-9a-fA-F]{1,4}:){7}([0-9a-fA-F]{1,4}|:)|(([0-9a-fA-F]{1,4}:){0,5}([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:){0,5}([0-9a-fA-F]{1,4})?)|::([0-9a-fA-F]{1,4}:){0,6}([0-9a-fA-F]{1,4})?)\\](:[0-9]{1,5})?$",u=new RegExp(le),w=j.replace(/:(80|443)$/,"");if(!u.test(w)||o.includes(w))return oe.className=`${e.const.seed}.clr:ff0000`;St(re),p++;const T=Je("li",{id:`${e.const.seed}.vlist.item:${p}`,class:`${e.const.seed}.gradient.bg`}),$=Ke(w);T.innerHTML=d.createHTML(`<span>${String(p+1).padStart(2,"0")}. </span><span class="${e.const.seed}.domainlist" title="${$}">${$}</span>`)+d.createHTML(`<span>[<a id="${e.const.seed}.vlist.item.link:${p}" class="${e.const.seed}.clr:8b0000" data-fr-domain="${$}">${a}</a>]</span>`),Nt(O,T),t.push(w),oe.value="",O.scrollTop=O.scrollHeight}),D.addEventListener("click",()=>void Ws(oe,O,"exsite","li>:nth-child(2)"))),O?.addEventListener("click",j=>{const le=j.target;if(At(le)!=="a"||!le.id.startsWith(`${e.const.seed}.vlist.item.link:`))return;const u=Number(le.id.match(/\d+$/)?.[0]??-1),w=le.dataset.frDomain,T=le.parentNode.previousElementSibling.classList,$=typeof le.dataset.del<"u";$?delete le.dataset.del&&!t.includes(w)&&t.push(w):t.Remove(w)&&(le.dataset.del=u),le.textContent=$?a:i,le.className=$?`${e.const.seed}.clr:8b0000`:`${e.const.seed}.clr:green`,T.toggle(`${e.const.seed}.list.reset`,!$)}),await G.respond()){fe(W,Ve(t,T=>T&&typeof T=="string").sort());const j=n?`<p class="${e.const.seed}.clr:green">\u81EA\u5B9A\u4E49\u6392\u9664\u7F51\u7AD9\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01</p><p>\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:green">Exclusion site data was successfully saved!</p><p>The page will refresh after confirmation.</p>`,[le,u]=n?["\u611F\u8C22\u4F7F\u7528","\u81EA\u5B9A\u4E49\u6392\u9664\u7F51\u7AD9\u6570\u636E\u4FDD\u5B58"]:["Thanks","Customized Exclusions Data Save"];let w=new me({trueButtonText:le,messageText:j,titleText:u});await w.respond()&&je({isReload:!0}),w=null}G=null}function Sr(){return ct(e.url.feedback,!1)}async function Ks(o,t){const a=n?"\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E\u6210\u529F\u66F4\u65B0\uFF0C\u9875\u9762\u5C06\u81EA\u52A8\u5237\u65B0\u3002":"The data update succeed, page will be refresh!",i=n?"\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E\u62C9\u53D6\u5931\u8D25\uFF0C\u8BF7\u5728\u5237\u65B0\u540E\u91CD\u65B0\u62C9\u53D6\u3002":"The data pull failed, please try to pull again!";await bs().then(async p=>{p&&fe(P,p),o.textContent=p?a:i,o.className=p?`${e.const.seed}.clr:green`:`${e.const.seed}.clr:8b0000`,t.trueButton.className=t.trueButton.removeAttribute("disabled")??`${e.class.dbb} ${p?e.class.dbbt:e.class.dbbf}`,await t.respond()&&je({isReload:!0})})}function Ws(o,t,a,i){const p=o?.value?.trim().replace(/([.*+?^${}()|[\]\\])/g,"\\$&");if(!p||!t)return;const[S,x]=[`${a}Keyword`,`${a}Search`];let[Q,ae,ve,V]=[new RegExp(p,"i"),Ze(i,t),null];for(e.var[S]!==p&&(e.var[S]=p)&&(e.count[x]=0);!ve;)if(V=ae[e.count[x]].firstChild,ve=Q.exec(V.data),e.count[x]>=ae.length-1){e.count[x]=0;break}else e.count[x]++;if(ve){const F=document.createRange();F.selectNodeContents(V);const A=C.getSelection?.();A?.removeAllRanges(),A?.addRange(F);const G=A?.anchorNode?.parentNode?.parentNode,oe=Number(G?.id?.replace(`${e.const.seed}.vlist.item:`,""))||0,D=Number(G?.clientHeight)||0;t.scrollTop=oe*D,o.removeAttribute("class")}else o.className=`${e.const.seed}.clr:ff8c00`}function Tr(o){gt(1e3,{useCachedSetTimeout:!0})(2e3).then(async t=>{const{status:a,time:i}=await Hs(t);ee("isFontReady:",{status:a,delay:`${parseInt(i)}ms`})||o?es(o):ee("%cNo Loading_Menu","color:#a9a9a9")}).then(()=>{if(~De){const t=`\uFFF4\u{1F340} ${n?"\u91CD\u65B0\u6E32\u67D3":"Re-rendering "} ${yt} ${ro?"(X)":""}`;Gt(t,pn)&&ee("%cInstalling Include_Site_Menu","color:#808080"),Gt(`\uFFF5\u{1F9E1} ${n?"\u5411\u4F5C\u8005\u53CD\u9988\u9519\u8BEF\u6216\u5EFA\u8BAE":"Feedback to Author "}${ro?"(T)":""}`,()=>void ct(e.url.feedback,!1))&&ee("%cInstalling Feed_Back_Menu","color:#808080")}else{Gt(`\uFFF1\u{1F313} ${n?"\u5B57\u4F53\u6E32\u67D3\u8BBE\u7F6E":"Font Rendering Settings "}${ro?"(P)":""}`,Vs)&&ee("%cInstalling Font_Set_Menu","color:#808080");const a=`\uFFF2\u26D4 ${n?"\u6392\u9664\u6E32\u67D3":"Exclude "} ${yt} ${ro?"(X)":""}`;Gt(a,Gs)&&ee("%cInstalling Exclude_Site_Menu","color:#808080"),Gt(`\uFFF3\u{1F48E} ${n?"\u9AD8\u7EA7\u6838\u5FC3\u529F\u80FD\u8BBE\u7F6E":"Advanced Core Settings "}${ro?"(G)":""}`,js)&&ee("%cInstalling Parameter_Set_Menu","color:#808080")}}).then(()=>void(ro?Fr():ee("%cNo Hotkey_Setting","color:#a9a9a9")))}function Fr(){document.addEventListener("keydown",t=>{const a=(t.altKey||t.code==="AltRight")&&!t.ctrlKey&&!t.shiftKey&&!t.metaKey;t.code==="KeyP"&&a?o(~De?pn:Vs,1e3,t):t.code==="KeyX"&&a?o(~De?pn:Gs,1e3,t):t.code==="KeyG"&&a?o(~De?pn:js,1e3,t):t.code==="KeyT"&&a&&o(Sr,1e4,t)})||ee("%cInstalling Hotkey_Setting","color:#808080");function o(t,a,i){nt(i,{preventDefault:!0});const p=performance.now();p-e.count.clickTimer>a&&(e.count.clickTimer=p)&&t()}}async function Ys(){let[o,t,a,i,p]=[$e([]),""];try{a=await tt(Ne);try{i=a?[...r.parse(ye(a))]:[]}catch{i=[]}const[S,x,Q,ae]=n?["\u67E5 \u8BE2","\u6E05 \u9664","\u5220\u9664","\u6062\u590D"]:["Search","Clear","Del","Reset"],ve=`<p class="${e.const.seed}.list:p"><input id="${e.const.seed}.sdata" type="search"><button id="${e.const.seed}.sdata:search">${S}</button><button id="${e.const.seed}.sdata:clear">${x}</button></p>`,V=i.length>6?ve:"";for(let u=0,w=i.length;u<w;u++){const T=Ke(i[u].domain),$=String(u+1).padStart(2,"0"),I=new Date(i[u].fontDate),R=Hn("yyyy-MM-dd",I);t+=`<li id="${e.const.seed}.vlist.item:${u}"><span>[<a id="${e.const.seed}.vlist.item.link:${u}" class="${e.const.seed}.clr:8b0000">${Q}</a>]<span> ${$}.</span></span><span class="${e.const.seed}.customdomain" title="${T}">${T}</span><span class="${e.const.seed}.mg:05p" title="${I}">${R}</span></li>`}const F=n?"\u7F51\u7AD9\u4E2A\u6027\u5316\u8BBE\u7F6E\u6570\u636E\u5217\u8868":"Customized Sites Data",A=n?"\u8BF7\u8C28\u614E\u64CD\u4F5C\uFF0C\u4FDD\u5B58\u540E\u751F\u6548\uFF0C\u5DF2\u5220\u9664\u7684\u6570\u636E\u5C06\u4E0D\u53EF\u6062\u590D\uFF01":"After saving, the deleted data will not be recoverable!",G=`<p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fs:14p ${e.const.seed}.indent:6p">${A}</p>${V}<ul id="${e.const.seed}.vlist">${t}</ul>`,[oe,D]=n?["\u786E\u8BA4\u64CD\u4F5C\uFF0C\u4FDD\u5B58\u6570\u636E","\u53D6 \u6D88"]:["Save","Cancel"];let L=new me({trueButtonText:oe,neutralButtonText:D,messageText:G,titleText:F});const[O,re,j,le]=["sdata","sdata\\:clear","sdata\\:search","vlist"].map(u=>y(`#${e.const.seed}\\.${u}`,e.var.dialogIf));if(le&&O&&re&&j&&(O.addEventListener("keydown",u=>{u.key==="Enter"&&(nt(u,{immediate:!1,preventDefault:!0}),j.focus(),j.click())}),Ht(O),O.addEventListener("focus",()=>void O.removeAttribute("class")),O.addEventListener("input",()=>void(O.value=O.value.replace(/[^-a-z0-9.]/gi,"").toLowerCase())),re.addEventListener("click",()=>{O.value="",O.removeAttribute("class"),le.scrollTop=0,O.focus()}),j.addEventListener("click",()=>void Ws(O,le,"domain","li>:nth-child(2)"))),le?.addEventListener("click",u=>{const w=u.target;if(At(w)!=="a"||!w.id.startsWith(`${e.const.seed}.vlist.item.link:`))return;const{classList:T}=w.parentNode.nextElementSibling,{classList:$}=w.parentNode.nextElementSibling.nextElementSibling,I=Number(w.id.match(/\d+$/)?.[0]??-1),R=typeof w.dataset.del<"u";R?o.Remove(w.dataset.del)&&delete w.dataset.del:o.push(w.dataset.del=i[I].domain),w.textContent=R?Q:ae,w.className=R?`${e.const.seed}.clr:8b0000`:`${e.const.seed}.clr:green`,[T,$].forEach(H=>H.toggle(`${e.const.seed}.list.reset`,!R))}),await L.respond()){let u=!1;a=await tt(Ne);try{i=a?[...r.parse(ye(a))]:[]}catch{i=[]}for(let U=o.length-1;U>=0;U--)p=nn(i,o[U]),~p&&i.splice(p,1),o[U]===jt&&(u=!0);fe(Ne,i);const $=u?n?"\u5F53\u524D\u7F51\u7AD9\u6570\u636E\u6709\u53D8\u52A8\uFF0C\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002":"Current site data is changed, then refresh soon!":n?"\u63D0\u793A\uFF1A\u60A8\u53EF\u7EE7\u7EED\u7559\u5728\u5F53\u524D\u9875\u9762\u8FDB\u884C\u5176\u4ED6\u64CD\u4F5C\u3002":"Tip: You can continue with other operations.",I=`<p class="${e.const.seed}.clr:green">${n?"\u7F51\u7AD9\u4E2A\u6027\u5316\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01":"Customize data saved successfully!"}</p><p>${$}</p>`,[R,H]=n?["\u611F\u8C22\u4F7F\u7528","\u4E2A\u6027\u5316\u6570\u636E\u4FDD\u5B58"]:["Thanks","Customize Data Save"];let B=new me({trueButtonText:R,messageText:I,titleText:H});await B.respond()&&u&&je({isReload:!0}),B=null}L=null}catch(S){K("ManageDomainsList:",S.message)}}function Cr({container:o,fontData:t}){if(!o||typeof o!="string"||!Array.isArray(t))return;const a=hs.chechCanvasFingerprintProtection(),i=F=>({title:F.ch,sort:F.sort,value:F.en,style:`font-family:'${F.en}'!important`,textContent:F.ch});return{fdeleteList:x,fresetList:Q,fsearchList:ae,fsearch:ve};function p(F,A=!0){Ze(F,e.var.configIf).forEach(G=>void G.classList.toggle(`${e.const.seed}.disp:block`,A))}function S(F){const A=F.parentNode,G=A.children[1].value,oe=Number(A.children[1].attributes.sort.value)||-1,D=A.children[0].textContent;if(!St(A))return;t.push({ch:D,en:G,sort:oe}),t=$o(t).sort((re,j)=>re.sort-j.sort);const L=y(`#${e.const.seed}\\.fontsetlist`,e.var.configIf),O=ae(e.id.fontName);O.length===0?(L.value=k.fontSelect,L.dispatchEvent(new Event("input")),y(`#${e.id.selector}`,e.var.configIf).classList.remove(`${e.const.seed}.disp:block`),(async j=>await uo(j?.checked,io,vo))(y(`#${e.id.fface}`,e.var.configIf))):(L.value=Kn(O),L.dispatchEvent(new Event("input")))}function x(){Ze(`#${e.id.fontList} .${e.class.close}`,e.var.configIf).forEach(A=>void S(A,t))}function Q(){x(t);const F=y(`#${e.id.fontList} .${e.class.selector}`,e.var.configIf),A=xe.fontSelect.replace(/['"]/g,""),G=bo||!zt&&xo?"\u82F9\u65B9-\u7B80":"\u5FAE\u8F6F\u96C5\u9ED1",oe=`<a class="${e.class.label}"><span class="${e.const.seed}.bdlr:4px" style="font-family:${xe.fontSelect}!important">${G}</span><input type="hidden" name="${e.id.fontName}" sort="0" value="${A}"/><span class="${e.class.close} ${e.const.seed}.cs:pointer ${e.const.seed}.bdrr:4px" style="font-family:sans-serif!important">&#215;</span></a>`;F.insertAdjacentHTML("beforeend",d.createHTML(oe)),F.parentNode.classList.add(`${e.const.seed}.disp:block`),t=t.filter(O=>O.en!==A);const D=y(`#${e.id.selector} #${e.id.cleaner}`,e.var.configIf);D&&(D.onclick=()=>void x(t));const L=y(`#${e.id.fontList} input[name="${e.id.fontName}"][sort="0"]~.${e.class.close}`,e.var.configIf);L&&(L.onclick=()=>void S(L,t))}function ae(F){const A=Ze(`#${e.id.selector} .${e.class.selector} input[name="${F}"]`,e.var.configIf);return Ve(A,null,G=>G.value)}function ve(){const[F,A]=n?[`<span class="${e.class.spanlabel}">\u5DF2\u9009\u62E9\u5B57\u4F53\uFF1A<span id="${e.id.cleaner}">[\u6E05\u7A7A]</span></span>`,"\u8F93\u5165\u5173\u952E\u5B57\u53EF\u68C0\u7D22\u5B57\u4F53"]:[`<span class="${e.class.spanlabel}">Selected Fonts: <span id="${e.id.cleaner}">[Clear]</span></span>`,"Enter some keywords"],G=n?`<p><strong>\u6E29\u99A8\u63D0\u793A </strong>\u811A\u672C\u9884\u8F7D\u4E86\u5E38\u7528\u7684\u4E2D\u6587\u5B57\u4F53\uFF0C\u4E0B\u62C9\u83DC\u5355\u4E2D\u6240\u7F57\u5217\u7684\u5B57\u4F53\u662F\u5728\u4EE3\u7801\u5B57\u4F53\u8868\u4E2D\u60A8\u5DF2\u5B89\u88C5\u8FC7\u7684\u5B57\u4F53\uFF0C\u6CA1\u6709\u5B89\u88C5\u8FC7\u5219\u4E0D\u4F1A\u663E\u793A\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u4E00\uFF09</em>\u5982\u679C\u6CA1\u6709\u91CD\u65B0\u9009\u62E9\u5B57\u4F53\uFF0C\u5219\u4F7F\u7528\u4E0A\u4E00\u6B21\u4FDD\u5B58\u7684\u5B57\u4F53\u3002\u9996\u6B21\u4F7F\u7528\u9ED8\u8BA4\u4E3A${xe.fontSelect}\u5B57\u4F53\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u4E8C\uFF09</em>\u8F93\u5165\u6846\u53EF\u8F93\u5165\u5173\u952E\u5B57\u8FDB\u884C\u641C\u7D22\uFF0C\u652F\u6301\u4E2D\u6587\u548C\u82F1\u6587\u5B57\u4F53\u540D\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u4E09\uFF09</em>\u5B57\u4F53\u662F\u6309\u60A8\u9009\u62E9\u7684\u5148\u540E\u987A\u5E8F\u8FDB\u884C\u4F18\u5148\u6E32\u67D3\u7684\uFF0C\u6240\u4EE5\u591A\u9009\u4E0D\u5982\u53EA\u9009\u4E00\u4E2A\u60A8\u6700\u60F3\u8981\u7684\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u56DB\uFF09</em>\u5982\u679C\u201C\u5B57\u4F53\u91CD\u5199\u201D\u88AB\u5173\u95ED\uFF0C\u90A3\u4E48\u672C\u529F\u80FD\u5C06\u81EA\u52A8\u7981\u7528\uFF0C\u7F51\u9875\u5B57\u4F53\u5C06\u91C7\u7528\u201C\u7F51\u7AD9\u9ED8\u8BA4\u201D\u7684\u5B57\u4F53\u8BBE\u7F6E\u3002</p>
                  <p><em class="${e.const.seed}.clr:8b0000">\uFF08\u6CE8\u4E94\uFF09</em>\u53CC\u51FB <span class="${e.class.emoji}">\u{1F514}</span> \u53EF\u4EE5\u6253\u5F00\u81EA\u5B9A\u4E49\u5B57\u4F53\u7684\u6DFB\u52A0\u5DE5\u5177\uFF0C\u4EE5\u4F7F\u7528\u66F4\u591A\u65B0\u5B57\u4F53\u3002</p>`:`<p><strong>Tips: </strong>The fonts shown in the list are the fonts were installed on your system in font-library. No install & add-lib, No display.</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT1)</em> If this option is not reselected, the last saved is used. Default by ${xe.fontSelect}.</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT2)</em> Enter keywords in the inputbox to quickly search for your favorite fonts.</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT3)</em> Fonts are rendered first in the order you choose, so just pick the one you want the most.</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT4)</em> If "Font Rewrite" is turned off, this option will be disabled and the webpage will use "website-defined font".</p>
                  <p><em class="${e.const.seed}.clr:8b0000">(ACT5)</em> Double-click <span class="${e.class.emoji}">\u{1F514}</span> to open the custom font-library adding tool to use more custom fonts.</p>`,oe=`<div id="${e.id.selector}">
                ${F}
                <div class="${e.class.selector}"></div>
              </div>
              <div class="${e.class.selectFontID}">
                <span class="${e.class.spanlabel}">${n?"\u8BBE\u7F6E\u5B57\u4F53\uFF0C\u8BF7\u9009\u62E9\uFF1A":"Set Fonts, Please Select:"}</span>
                <input type="search" id="${e.const.seed}.search" placeholder="${A}" autocomplete="off" />
                <input type="hidden" id="${e.const.seed}.fontsetlist" value="${k.fontSelect}" />
                <dl><dt></dt><dd></dd></dl>
                <span class="${e.class.tooltip} ${e.class.ps1}" id="${e.id.fonttooltip}">
                  <span class="${e.class.emoji}" title="${n?"\u6309\u4F4F\u67E5\u770B\u5E2E\u52A9":"Hold down for help"}">\u{1F514}</span>
                  <span class="${e.class.tooltip} ${e.class.ps2}">
                  ${G}
                  </span>
                </span>
              </div>`,D=y(o,e.var.configIf);!y(`#${e.id.selector}`,e.var.configIf)&&D&&(D.innerHTML=d.createHTML(oe));const L=y(`#${e.const.seed}\\.fontsetlist`,e.var.configIf),O=y(`#${e.id.submit} .${e.class.submit}`,e.var.configIf),re=y(`#${e.id.fface}`,e.var.configIf),j=y(`#${e.id.fontList} .${e.class.selectFontID} input`,e.var.configIf);re&&j&&L&&O&&(Ht(j),u(re.checked,j,e.class.readonly),rt(L,k.fontSelect,O),re.addEventListener("change",()=>void u(re.checked,j,e.class.readonly)),j.addEventListener("input",()=>void T(j.value)),j.addEventListener("click",le));function le(I){nt(I);const R=this??I.target;if(R.value.length)T(R.value);else{const H=`#${e.id.fontList} .${e.class.selectFontID} dl`,B=y(H,e.var.configIf);t=$o(t).sort((U,te)=>U.sort-te.sort),B.innerHTML=V(a,t.length+ae(e.id.fontName).length),t.length?t.forEach(U=>ho(B,"dd",i(U))):B.innerHTML+=d.createHTML(`<dd>${n?"\u65E0\u53EF\u7528\u6570\u636E":"No data available"}</dd>`),p(H),$()}}function u(I,R,H){R?.toggleAttribute("disabled",!I),R?.classList[I?"remove":"add"](H),!I&&x(t)}function w(){document.removeEventListener("click",w),p(`#${e.id.fontList} .${e.class.selectFontID} dl`,!1);const I=y(`#${e.id.fontList} .${e.class.selectFontID} input`,e.var.configIf);I&&(I.value="")}function T(I,R){const H=`#${e.id.fontList} .${e.class.selectFontID} dl`,B=y(H,e.var.configIf);if(p(H,R=!1),t=$o(t).sort((te,z)=>te.sort-z.sort),!t.length||!B)return;p(H);const U=new RegExp(I.replace(/[.:?*+^$[\-=\](){}/\\|]/g,"\\$&"),"i");B.innerHTML=V(a,t.length+ae(e.id.fontName).length),t.forEach(te=>(U.test(te.ch)||U.test(te.en))&&(R=ho(B,"dd",i(te))??!0)),R||(B.innerHTML+=d.createHTML(`<dd>${n?"\u6CA1\u6709\u5339\u914D\u7684\u5B57\u4F53":"No matching fonts"}</dd>`)),$()}function $(){const I=H=>{nt(H);const B=this??H.target,[U,te]=[B.attributes.value?.value,B.attributes.sort?.value],z=y(`#${e.id.fontList} .${e.class.selector}`,e.var.configIf),ne=y(`#${e.const.seed}\\.fontsetlist`,e.var.configIf);if(U&&te&&z&&ne){const de=`<a class="${e.class.label}"><span class="${e.const.seed}.bdlr:4px" style="font-family:'${U}'!important">${B.textContent}</span><input type="hidden" name="${e.id.fontName}" sort="${te}" value="${U}"/><span class="${e.class.close} ${e.const.seed}.cs:pointer ${e.const.seed}.bdrr:4px" style="font-family:Times,monospace!important">&#215;</span></a>`;z.insertAdjacentHTML("beforeend",d.createHTML(de)),z.parentNode.classList.add(`${e.const.seed}.disp:block`),t=$o(t).sort((se,ue)=>se.sort-ue.sort),t=t.filter(se=>se.en!==U),ne.value=Kn(ae(e.id.fontName)),ne.dispatchEvent(new Event("input"));const Y=y(`#${e.id.selector} #${e.id.cleaner}`,e.var.configIf);Y&&(Y.onclick=()=>void x(t));const M=y(`#${e.id.fontList} input[name="${e.id.fontName}"][sort="${te}"]~.${e.class.close}`,e.var.configIf);M&&(M.onclick=()=>void S(M,t))}w()},R=()=>(xt.remove(ze),!a&&ct(`${e.url.feedback}/46`,!1),Ro());Ze(`#${e.id.fontList} .${e.class.selectFontID} dl dd`,e.var.configIf).forEach(H=>void(H.onclick=I)),y(`#${e.id.fontList} .${e.class.selectFontID} dl dt`,e.var.configIf)?.addEventListener("click",R),document.addEventListener("click",w)}}function V(F,A){const G=n?"\u5FC5\u987B\u7981\u7528\u6D4F\u89C8\u5668\u6307\u7EB9\u4FDD\u62A4\u624D\u80FD\u8FDB\u884C\u5B57\u4F53\u68C0\u6D4B\uFF0C\u8BF7\u68C0\u67E5\u6743\u9650\u3002":"The fingerprinting protection must be disabled to detect fonts, check permissions?",oe=n?"\u63A8\u8350\u60A8\u5B89\u88C5\u66F4\u591A\u5185\u7F6E\u5B57\u4F53\u5E93\u4E2D\u5DF2\u5B9A\u4E49\u7684\u5B57\u4F53\u6765\u6269\u5145\u5B57\u4F53\u5217\u8868\u3002":"Please install more defined fonts from the built-in font library to expand the fontlist.",D=F?`title="${n?"\u70B9\u51FB\u91CD\u65B0\u68C0\u67E5\u6743\u9650":"Click to re-check permissions"}"`:`title="${n?"\u5355\u51FB\u4E0B\u8F7D\u66F4\u591A\u5B57\u4F53":"Click to download more fonts"}"`;return F?d.createHTML(`<dt ${D} class="${e.const.seed}.disp:block">${G}</dt>`):d.createHTML(`<dt ${D}${A>(xo?4:2)?"":` class="${e.const.seed}.disp:block"`}>${oe}</dt>`)}}async function Xs(o,t,a){const i=await $r(t);return Ea(a).reduce((S,x)=>S.concat(o.includes(x)?"":`@font-face{font-family:"${x}";src:local("${i}");}`),"")}function qs(o){const t=`${Ie}body{transform:scale(var(--fr-font-fontscale));transform-origin:0 0;width:${100/o}%;height:${100/o}%}`,a=`@supports(zoom:100%){${Ie}body{zoom:var(--fr-font-fontscale)!important}}`,i=et({GECKO:126,more:null})?t:a;return Ye||et({BLINK:128,more:null})||et({GECKO:126})?i:""}function Zs(o,t){return o<=0||o>4?"inherit":`0 0 ${o}px ${ln(t).toLowerCase()}`}async function Er(){if(!(!vt||e.var.curScale===1)){try{const o=await J(),t=$e(Object.entries(o)).Find(([S])=>to.endsWith(S))?.[1];if(!t)throw new Error("No extra correction properties");const{Window:a,Element:i,HTMLElement:p}=t;e.array.props={window:Ve(a),element:Ve(i),html:Ve(p)}}catch(o){ee(`correctFontScaleOffset${ht}:\r
%c${o.message} for ${to}`,"display:block;padding-left:18px;color:#808080")}ms({cur:e.var.curScale,props:e.array.props})}}function Js(o,t,a,i){if(!a)return"";const p=["pre","code"].filter(G=>new RegExp(`\\b${G}\\b`,"i").test(o)).flatMap(G=>[G,`${G} *`]),S=[".ace_editor *",".monaco-editor *",".cm-editor *",".CodeMirror *",".code",".code *"],x=["@github.com##textarea,.blob-num,.blob-num *,.blob-code,.blob-code *,.react-line-numbers *,.react-code-lines *",...so],Q=/@([\w[\]\-.:]+)##((?![^@]+##)[\w\-*.#:+>()~[\]=^$|,' ]+)/,ae=x.reduce((G,oe)=>{const[,D,L]=Q.exec(oe)||[];return jt.endsWith(D)&&G.push(...L.split(",")),G},[]),ve=Ve([...p,...S,...ae]).join(),V=(t?"var(--fr-mono-fallback),var(--fr-font-family),":"ui-monospace,monospace,")+"var(--fr-font-emoji)",[F,A]=[bo?"-webkit-user-select:text!important":"user-select:text!important",i?"":Ie];return`${A}:is(${ve}):not([class*='icon' i],[class*='symbols' i],md-icon){font-family:var(--fr-mono-font),${V}!important;text-shadow:var(--fr-mono-shadow)!important;-webkit-text-stroke:var(--fr-no-stroke)!important;font-feature-settings:var(--fr-mono-feature, unset)!important;${F}}${A}:is(${ve})::selection{color:#fff!important;background:rgba(254, 115, 0, 0.93)!important;-webkit-text-stroke-width:0!important;text-shadow:1px 1px 1px rgba(76, 76, 76, 0.8)!important}`}function Gn({overwrite:o=!1,shouldNotify:t=!0}={}){const{id:a,textContent:i}=Io({primary:!0})??mt();if(!o&&a)return!0;const p=Oo({target:document.head,id:a??e.id.rndStyle,cssText:i??po,overwrite:!!o});return p&&t&&bn(`[INSERTSTYLE]${ht}[i:${e.id.rndStyle}]`),p}async function Lr(){if(!Ye)return;try{const u=await o(),w=Cr({container:`#${e.id.fontList} .${e.class.fontList}`,fontData:u}),T=["fface","smooth","fontScale","strokeSize","shadowSize","renderCanvas","color","cssinclued","cssexclude"],[$,I,R,H,B,U,te,z,ne]=T.map(Te=>y(`#${e.id[Te]}`,e.var.configIf)),de=["shadowColor","cSwitch","eSwitch","fontCss","fontEx","backup","mono"],[Y,M,se,ue,ke,Se,ie]=de.map(Te=>y(`#${e.id[Te]}`,e.var.configIf)),[ge,pe,X]=["reset","submit","cancel"].map(Te=>y(`#${e.id.submit} .${e.class[Te]}`,e.var.configIf));a(w),Ht(R,H,B,te,z,ne),rt(z,k.fontCSS,pe),rt(ne,k.fontEx,pe),rt($,k.fontFace,pe),rt(I,k.fontSmooth,pe);const be=y(`#${e.id.fontList} .${e.class.selectFontID} input`,e.var.configIf),he=x(R,pe,e.var["fr-scale"]),Ee=ae(R,pe),Le=ve(H,pe,e.var["fr-stroke"]),{fixStrokeT:Re,fixShadowT:it,lazyloadT:wt}=V(H,pe),h=A(B,Y,pe,e.var["fr-shadow"]),b=/^(#[0-9A-F]{8}|currentcolor)$/i,v=G(te,pe,k.shadowColor,b),ce={...{ffaceT:$,smoothT:I,fontScaleT:R,fixViewportT:Ee,strokeT:H,fixStrokeT:Re,lazyloadT:wt,fixShadowT:it},shadowsT:B,canvasT:U,colorshowT:te,colorReg:b,fontCssT:z,fontExT:ne,colorPickerT:v};await S($,be,vo),p(Ue),D(z),Qs(M,z,ue),Qs(se,ne,ke),L(ie),O(ge,w,ce,{drawScale:he,drawStrock:Le,drawShadow:h}),re(pe,w,ce),j(Se,xs),le(X)}catch(u){K("OperateConfigure:",u,e.array.exps.push(`[operateConfigure]: ${u}`))}async function o(){try{const u=await xt.get(ze);if(Array.isArray(u)&&u.length)return ee("%cLoad font data cache","color:#008000;font-weight:700"),Ve(u);ee("%cStart real-time font detect","color:#dc143c;font-weight:700");const w=await Mr(),T=Ve(w);return xt.set(ze,T,2592e6),T}catch(u){return xt.remove(ze),K("GetAvailableFontData:",u.message,e.array.exps.push(`[getAvailableFontData]: ${u}`)),[]}}function t(u,w,T,$){const I=(u.value=Wn(u.value).replace(/['"`·“”‘’]/g,w?'"':"'").replace(/，/g,",").replace(/：/g,":").replace($??"","")).trim();return T?Ke(I):I}function a(u){try{u?.fsearch(),y(`#${e.id.fonttooltip}`,e.var.configIf)?.addEventListener("dblclick",async w=>{nt(w,{preventDefault:!0});let T="";const $=await tt(Qe);try{($?[...r.parse(ye($))]:[]).forEach(ke=>delete ke.sort&&(T+=r.stringify(ke)+`\r
`))}catch(ue){K("FontSelectionAndCustomFonts:",ue.message)}const I=n?`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">\u2474 \u4EE5\u4E0B\u6587\u672C\u57DF\u53EF\u6309\u9884\u5B9A\u683C\u5F0F\u589E\u52A0\u81EA\u5B9A\u4E49\u5B57\u4F53\u3002\u8BF7\u7528\u5C0F\u8D34\u58EB\u6216\u6309\u793A\u4F8B\u586B\u5199\uFF0C\u8F93\u5165\u6709\u8BEF\u5C06\u88AB\u81EA\u52A8\u8FC7\u6EE4\u3002\u4E0E\u300E<a href="${e.url.guideURI}#\u65E2\u5B9A\u7684\u5B57\u4F53\u8868" title="\u67E5\u770B\u5185\u7F6E\u5B57\u4F53\u8868" target="_blank">\u5185\u7F6E\u5B57\u4F53\u8868</a>\u300F\u91CD\u590D\u7684\u5B57\u4F53\u5C06\u88AB\u81EA\u52A8\u5254\u9664\u3002\u3010\u529F\u80FD\u5C0F\u8D34\u58EB\uFF1A<span id="${e.const.seed}.addTools" title="\u70B9\u51FB\u5F00\u542F\u5DE5\u5177" class="${e.const.seed}.clr:crimson ${e.const.seed}.cs:pointer">\u5B57\u4F53\u6DFB\u52A0\u8F85\u52A9\u5DE5\u5177</span>\u3011</p><p><textarea id="${e.const.seed}.custom.fontlist" placeholder='\u5B57\u4F53\u8868\u81EA\u5B9A\u4E49\u683C\u5F0F\u6837\u4F8B\uFF0C\u6BCF\u884C\u4E00\u7EC4\u5B57\u4F53\u540D\u79F0\u6570\u636E\uFF0C\u5982\u4E0B\uFF1A\r
{ "ch":"\u4E2D\u6587\u5B57\u4F53\u540D\u4E00","en":"EN Fontname 1" }\u21B2\r
{ "ch":"\u4E2D\u6587\u5B57\u4F53\u540D\u4E8C","en":"EN Fontname 2","ps":"Post-Script Name" }\u21B2\r
\r
(\u6CE8\u4E00\uFF1A\u5982\u65E0\u4E2D\u6587\u5B57\u4F53\u540D\uFF0C\u53EF\u7528\u82F1\u6587\u6216\u5176\u4ED6\u8BED\u8A00\u540D\u79F0\u66FF\u4EE3)\r
(\u6CE8\u4E8C\uFF1A\u201Cps:\u201D \u8BE5\u9879\u4E3A\u5B57\u4F53\u7684PostScript\u540D\u79F0\uFF0C\u53EF\u9009\u586B\u5199)'>${T}</textarea></p><p id="${e.const.seed}.warning.chn">\uFF08\u8BF7\u52FF\u6DFB\u52A0\u8FC7\u591A\u81EA\u5B9A\u4E49\u5B57\u4F53\uFF0C\u907F\u514D\u9020\u6210\u9875\u9762\u52A0\u8F7D\u7F13\u6162\uFF09</p><p class="${e.const.seed}.fontfeature">\u2475 \u4EE5\u4E0B\u8BBE\u7F6E\u5B57\u4F53\u7684 font-variant \u53D8\u4F53\u6837\u5F0F\u5C5E\u6027\u3002<br/><span class="${e.const.seed}.clr:crimson">\u5982\u679C\u60A8\u4E0D\u4E86\u89E3\u8BE5\u5C5E\u6027\uFF0C\u8BF7\u4FDD\u6301\u7559\u7A7A\uFF0C\u4EE5\u514D\u9020\u6210\u6E32\u67D3\u5F02\u5E38\u3002</span></p><p class="${e.const.seed}.input.pdb:5px"><input id="${e.const.seed}.custom.variant" placeholder='\u4F8B\u5982\uFF1Acommon-ligatures small-caps' value='${sn}'></p><p class="${e.const.seed}.fontvariant">\u2476 \u4EE5\u4E0B\u8BBE\u7F6E OpenType \u5B57\u4F53 <a href="https://learn.microsoft.com/en-us/typography/opentype/spec/featurelist" target="_blank">font-feature-settings</a> \u5C5E\u6027\u3002<br/><span class="${e.const.seed}.clr:crimson">\u5982\u679C\u60A8\u8BBE\u7F6E\u7684\u5E38\u89C4\u5B57\u4F53\u975E OpenType \u5B57\u4F53\uFF0C\u8BF7\u4FDD\u6301\u7559\u7A7A\u3002</span></p><p class="${e.const.seed}.input.pdb:5px"><input id="${e.const.seed}.custom.feature" placeholder='\u4F8B\u5982\uFF1A"liga" 0,"tnum","zero"' value='${$t}'></p>`:`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">\u2474 Add custom fonts in predefined formats, either by \u{1D404}\u{1D431}\u{1D41A}\u{1D426}\u{1D429}\u{1D425}\u{1D41E} or by \u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D400}\u{1D41D}\u{1D41D}\u{1D422}\u{1D427}\u{1D420} \u{1D400}\u{1D422}\u{1D41D}. Incorrect entries will be filtered. Fonts that duplicate the <a href="${e.url.guideURI}#built-in-font-library" title="Viewing the built-in font library" Target="_blank">built-in font library</a> will be automatically removed. (\u{1D413}\u{1D408}\u{1D40F}: <span id="${e.const.seed}.addTools" title="Click to open the aid tool" class="${e.const.seed}.clr:crimson ${e.const.seed}.cs:pointer">\u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D400}\u{1D41D}\u{1D41D}\u{1D422}\u{1D427}\u{1D420} \u{1D400}\u{1D422}\u{1D41D}</span>)</p><p><textarea id="${e.const.seed}.custom.fontlist" placeholder='One set of Fontname data per line, as follow:\r
{ "ch":"CHN Fontname 1","en":"EN Fontname 1" }\u21B2\r
{ "ch":"CHN Fontname 2","en":"EN Fontname 2","ps":"Post-Script Name" }\u21B2\r
\r
(Note1: If no Chinese fontname, use another instead) \r
 (Note2: "ps:" for the font PostScript name, optional)'>${T}</textarea></p><p id="${e.const.seed}.warning.en">(Adding too many custom fonts will cause slow loading)</p><p class="${e.const.seed}.fontvariant">\u2475 Set font variants CSS shorthand property.<br/><span class="${e.const.seed}.clr:crimson">If you do not understand this property, leave it blank.</span></p><p class="${e.const.seed}.input.pdb:5px"><input id="${e.const.seed}.custom.variant" placeholder='Such as: common-ligatures small-caps' value='${sn}'></p><p class="${e.const.seed}.fontfeature">\u2476 Set OpenType font <a href="https://learn.microsoft.com/en-us/typography/opentype/spec/featurelist" target="_blank">font-feature-settings</a> property.<br/><span class="${e.const.seed}.clr:crimson">Leave blank if using custom font that is not OpenType.</span></p><p class="${e.const.seed}.input.pdb:5px"><input id="${e.const.seed}.custom.feature" placeholder='Such as: "liga" 0,"tnum","zero"' value='${$t}'></p>`,[R,H]=n?["\u4FDD \u5B58","\u5E2E\u52A9\u6587\u6863"]:["Save","Help"],[B,U]=n?["\u53D6 \u6D88","\u81EA\u5B9A\u4E49\u5B57\u4F53\u8868"]:["Cancel","Custom Font Library"];let te=new me({trueButtonText:R,falseButtonText:H,neutralButtonText:B,messageText:I,titleText:U});const[z,ne,de]=["fontlist","feature","variant"].map(ue=>y(`#${e.const.seed}\\.custom\\.${ue}`,e.var.dialogIf));Ht(z,ne,de);let[Y,M,se]=[z.value.trim(),ne.value.trim(),de.value.trim()];if(y(`#${e.const.seed}\\.addTools`,e.var.dialogIf)?.addEventListener("click",()=>{const ue=n?`\u8BF7\u8F93\u5165\u300C\u4E2D\u6587\u5B57\u4F53\u5BB6\u65CF\u540D\u79F0\u300D\uFF1A\r
(\u4F8B\u5982\uFF1A\u9E3F\u8499\u9ED1\u4F53\uFF0C\u4EC5\u652F\u6301\u534A\u89D2\u8F93\u5165\u6A21\u5F0F\uFF0C\u5305\u62EC\u4E2D\u6587\u3001\u65E5\u6587\u3001\u97E9\u6587\u3001\u82F1\u6587\uFF0C\u6570\u5B57\u3001\u5C0F\u6570\u70B9\u3001\u51CF\u53F7\u3001\u4E0B\u5212\u7EBF\u3001\u7A7A\u683C\u3001@)\r
(\u5982\u6CA1\u6709\u4E2D\u6587\u5B57\u4F53\u540D\u79F0\uFF0C\u53EF\u4F7F\u7528\u82F1\u6587\u6216\u5176\u4ED6\u8BED\u8A00\u540D\u79F0\u6765\u66FF\u4EE3)`:`\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41E}\u{1D427}\u{1D42D}\u{1D41E}\u{1D42B} \u{1D42D}\u{1D421}\u{1D41E} '\u{1D402}\u{1D421}\u{1D422}\u{1D427}\u{1D41E}\u{1D42C}\u{1D41E} \u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D40D}\u{1D41A}\u{1D426}\u{1D41E}':\r
(e.g. \u9E3F\u8499\u9ED1\u4F53, only half-width input mode is supported, including Chinese, Japanese, Korean, English, numbers, decimal point, minus sign, underscore, space, @)\r
(\u{1D408}\u{1D41F} \u{1D427}\u{1D428} \u{1D402}\u{1D421}\u{1D422}\u{1D427}\u{1D41E}\u{1D42C}\u{1D41E} \u{1D41F}\u{1D428}\u{1D427}\u{1D42D}\u{1D427}\u{1D41A}\u{1D426}\u{1D41E}, \u{1D42E}\u{1D42C}\u{1D41E} \u{1D404}\u{1D427}\u{1D420}\u{1D425}\u{1D422}\u{1D42C}\u{1D421} \u{1D428}\u{1D42B} \u{1D41A}\u{1D427}\u{1D428}\u{1D42D}\u{1D421}\u{1D41E}\u{1D42B} \u{1D422}\u{1D427}\u{1D42C}\u{1D42D}\u{1D41E}\u{1D41A}\u{1D41D})`,ke=n?`\u8BF7\u8F93\u5165\u300C\u82F1\u6587\u5B57\u4F53\u5BB6\u65CF\u540D\u79F0\u300D\uFF1A\r
(\u4F8B\u5982\uFF1AHarmonyOS Sans SC\uFF0C\u4EC5\u652F\u6301\u534A\u89D2\u8F93\u5165\u6A21\u5F0F\uFF0C\u5305\u62EC\u82F1\u6587\u3001\u6570\u5B57\u3001\u5C0F\u6570\u70B9\u3001\u51CF\u53F7\u3001\u4E0B\u5212\u7EBF\u3001\u7A7A\u683C\u3001@)\r
(\u5982\u6CA1\u6709\u82F1\u6587\u5B57\u4F53\u540D\u79F0\uFF0C\u8BF7\u81EA\u5B9A\u4E49\u72EC\u4E00\u65E0\u4E8C\u7684\u82F1\u6587\u540D\u79F0)`:`\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41E}\u{1D427}\u{1D42D}\u{1D41E}\u{1D42B} \u{1D42D}\u{1D421}\u{1D41E} '\u{1D404}\u{1D427}\u{1D420}\u{1D425}\u{1D422}\u{1D42C}\u{1D421} \u{1D405}\u{1D428}\u{1D427}\u{1D42D} \u{1D40D}\u{1D41A}\u{1D426}\u{1D41E}':\r
(e.g. HarmonyOS Sans SC, only half-width input mode is supported, including English, numbers, decimal point, minus sign, underscore, space, @)\r
(\u{1D408}\u{1D41F} \u{1D427}\u{1D428} \u{1D404}\u{1D427}\u{1D420}\u{1D425}\u{1D422}\u{1D42C}\u{1D421} \u{1D41F}\u{1D428}\u{1D427}\u{1D42D} \u{1D427}\u{1D41A}\u{1D426}\u{1D41E}, \u{1D41D}\u{1D428} \u{1D41D}\u{1D41E}\u{1D41F}\u{1D422}\u{1D427}\u{1D41E} \u{1D41A} \u{1D42E}\u{1D427}\u{1D422}\u{1D42A}\u{1D42E}\u{1D41E} \u{1D404}\u{1D427}\u{1D420}\u{1D425}\u{1D422}\u{1D42C}\u{1D421} \u{1D427}\u{1D41A}\u{1D426}\u{1D41E})`,Se=n?`\u8BF7\u8F93\u5165\u300C\u{1D40F}\u{1D428}\u{1D42C}\u{1D42D}\u{1D412}\u{1D41C}\u{1D42B}\u{1D422}\u{1D429}\u{1D42D} \u540D\u79F0\u300D\uFF1A\r
(\u4E3A\u4F7F\u65B0\u589E\u5B57\u4F53\u5168\u5C40\u751F\u6548\uFF0C\u8BF7\u5C3D\u53EF\u80FD\u586B\u5199 \u{1D40F}\u{1D428}\u{1D42C}\u{1D42D}\u{1D412}\u{1D41C}\u{1D42B}\u{1D422}\u{1D429}\u{1D42D} \u540D\u79F0\u3002\u5982\u679C\u60A8\u6682\u65F6\u65E0\u6CD5\u63D0\u4F9B \u{1D40F}\u{1D428}\u{1D42C}\u{1D42D}\u{1D412}\u{1D41C}\u{1D42B}\u{1D422}\u{1D429}\u{1D42D} \u540D\u79F0\uFF0C\u53EF\u4FDD\u6301\u7559\u7A7A)\r
(\u70B9\u51FB\u53D6\u6D88\u53EF\u8BBF\u95EE \u{1D403}\u{1D422}\u{1D42C}\u{1D41C}\u{1D42E}\u{1D42C}\u{1D42C}\u{1D422}\u{1D428}\u{1D427}\u{1D42C}#\u{1D7D0}\u{1D7D4}\u{1D7CF} @\u{1D406}\u{1D422}\u{1D42D}\u{1D421}\u{1D42E}\u{1D41B})`:`\u{1D40F}\u{1D425}\u{1D41E}\u{1D41A}\u{1D42C}\u{1D41E} \u{1D41E}\u{1D427}\u{1D42D}\u{1D41E}\u{1D42B} \u{1D42D}\u{1D421}\u{1D41E} '\u{1D40F}\u{1D428}\u{1D42C}\u{1D42D}\u{1D412}\u{1D41C}\u{1D42B}\u{1D422}\u{1D429}\u{1D42D} \u{1D40D}\u{1D41A}\u{1D426}\u{1D41E}':\r
(To make the new font take effect globally, enter the postscript name as much as possible. If can not provide the postscript name at the moment, please leave it blank)\r
(\u{1D402}\u{1D41A}\u{1D427}\u{1D41C}\u{1D41E}\u{1D425} \u{1D42D}\u{1D428} \u{1D42F}\u{1D422}\u{1D42C}\u{1D422}\u{1D42D} \u{1D403}\u{1D422}\u{1D42C}\u{1D41C}\u{1D42E}\u{1D42C}\u{1D42C}\u{1D422}\u{1D428}\u{1D427}\u{1D42C}#\u{1D7D0}\u{1D7D4}\u{1D7CF} @\u{1D406}\u{1D422}\u{1D42D}\u{1D421}\u{1D42E}\u{1D41B})`;let ie,ge,pe,X=Co(ue,"\u9E3F\u8499\u9ED1\u4F53");if(X!==null)if(/^@?[^"]+$/.test(X.trim())){if(ie=Co(ke,"HarmonyOS Sans SC"),ie===null)return;if(/^@?[^"\uFF00-\uFFEF\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]+$/.test(ie.trim())){if(ge=Co(Se,""),ge===null)return ct(`${e.url.feedback}/261`,!1);/^[^"]+$/.test(ge.trim())?pe=Wn(`{"ch":"${X.trim()}","en":"${ie.trim()}","ps":"${ge.trim()}"}`):pe=Wn(`{"ch":"${X.trim()}","en":"${ie.trim()}"}`);const be=z.value.trim()?`\r
`:"";z.value=z.value.trim().concat(be,pe,`\r
`),Y=z.value.trim(),z.scrollTop=z.scrollHeight}else Ft(n?"\u82F1\u6587\u5B57\u4F53\u5BB6\u65CF\u540D\u79F0 \u683C\u5F0F\u8F93\u5165\u9519\u8BEF\uFF01":"English Fontname Input Format Error!")}else Ft(n?"\u4E2D\u6587\u5B57\u4F53\u5BB6\u65CF\u540D\u79F0 \u683C\u5F0F\u8F93\u5165\u9519\u8BEF\uFF01":"Chinese Fontname Input Format Error!")}),z?.addEventListener("change",()=>Y=t(z,!0,!1)),ne?.addEventListener("change",()=>M=t(ne,!0,!0,/[^\w",\- ]/g)),de?.addEventListener("change",()=>se=t(de,!0,!0,/[^\w",\- ]/g)),await te.respond()){M||se?fe(Wt,{feature:M,variant:se}):Vt(Wt);const ue=/{\s*"ch":\s*"@?[^"]+"\s*,\s*"en":\s*"@?[^"\uFF00-\uFFEF\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]+"\s*(?:,\s*"ps":\s*"[^"]+"\s*)?}/g,ke=Y.match(ue);if(Y.length===0){Vt(Qe);const Se=n?`<p class="${e.const.seed}.clr:indigo">\u81EA\u5B9A\u4E49\u5B57\u4F53\u8868\u5DF2\u521D\u59CB\u5316\u6210\u529F\uFF01<p><p>\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\u5DF2\u81EA\u52A8\u91CD\u5EFA\uFF0C\u5F53\u524D\u9875\u9762\u5373\u5C06\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:indigo">Custom font library initialized successfully!<p><p>The Fontlist cache has been rebuilt and reload.</p>`,[ie,ge]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u5B57\u4F53\u6570\u636E\u91CD\u7F6E"]:["OK","Customized FontData Reset"];let pe=new me({trueButtonText:ie,messageText:Se,titleText:ge});xt.remove(ze),await pe.respond()&&je({isReload:!0}),pe=null}else if(Array.isArray(ke)&&ke.length>0){const Se=$o(ke.map(r.parse));fe(Qe,Ta(Se,is));const ie=n?`<p class="${e.const.seed}.clr:green">\u60A8\u6240\u63D0\u4EA4\u7684\u81EA\u5B9A\u4E49\u5B57\u4F53\u5DF2\u4FDD\u5B58\u6210\u529F\uFF01<p><p>\u5B57\u4F53\u5217\u8868\u5168\u5C40\u7F13\u5B58\u5DF2\u81EA\u52A8\u91CD\u5EFA\uFF0C\u5F53\u524D\u9875\u9762\u5373\u5C06\u5237\u65B0\u3002</p><p class="${e.const.seed}.clr:ff7f50 ${e.const.seed}.fs:12p">\u6CE8\uFF1A\u683C\u5F0F\u9519\u8BEF\u6216\u91CD\u590D\u7684\u5B57\u4F53\u4EE3\u7801\u5C06\u88AB\u81EA\u52A8\u8FC7\u6EE4\u3002</p>`:`<p class="${e.const.seed}.clr:green">The customized font saved successfully!<p><p>The Fontlist cache has been rebuilt and reload.</p><p class="${e.const.seed}.clr:ff7f50 ${e.const.seed}.fs:12p">Note: Incorrectly or duplicate fonts were filtered.</p>`,[ge,pe]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u5B57\u4F53\u6570\u636E\u4FDD\u5B58"]:["OK","Customized FontData Save"];let X=new me({trueButtonText:ge,messageText:ie,titleText:pe});xt.remove(ze),await X.respond()&&je({isReload:!0}),X=null}else{en(Y);const Se=n?`<p class="${e.const.seed}.clr:crimson">\u60A8\u6240\u63D0\u4EA4\u7684\u81EA\u5B9A\u4E49\u5B57\u4F53\u6570\u636E\u683C\u5F0F\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u3002<p><p>\u6CE8\u610F\uFF1A\u5148\u524D\u63D0\u4EA4\u7684\u4FE1\u606F\u5DF2\u81EA\u52A8\u4FDD\u5B58\u81F3\u526A\u5207\u677F\u4E2D\u3002</p>`:`<p class="${e.const.seed}.clr:crimson">The custom Fontdata is incorrectly.<p><p>Note: Previous content saved to the clipboard.</p>`,[ie,ge]=n?["\u786E \u5B9A","\u5B57\u4F53\u8868\u6570\u636E\u683C\u5F0F\u9519\u8BEF"]:["OK","Font Library Data Format Error"];let pe=new me({trueButtonText:ie,messageText:Se,titleText:ge});if(await pe.respond()){const X=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.id.fonttooltip}`,e.var.configIf)?.dispatchEvent(X)}pe=null}}else ct(`${e.url.guideURI}${n?"#\u81EA\u5B9A\u4E49\u5B57\u4F53\u7684\u6DFB\u52A0":"#adding-custom-fonts"}`,!1);te=null})}catch(w){K("FontSelectionAndCustomFonts:",w.message,e.array.exps.push(`[fontSelectionAndCustomFonts]: ${w}`))}}function i(u){const w=async T=>{const $=T.target,I=$.value.trim();if(!I)return $.classList.remove(`${e.const.seed}.bd:crimson`);try{const R=$.selectionStart,H=r.stringify(r.parse(I),null,4),B=R+H.length-$.value.length,U=$.scrollTop;$.value=H,$.classList.remove(`${e.const.seed}.bd:crimson`),await gt(16.7,{instant:!0}),$.scrollTop=U,$.setSelectionRange(B,B)}catch{$.classList.add(`${e.const.seed}.bd:crimson`)}};u?.addEventListener("change",T=>t(T.target,!0,!1)&&w(T)),u?.addEventListener("input",w)}function p(u){y(`#${e.const.seed}\\.fontoverride\\.def`,e.var.configIf)?.addEventListener("dblclick",async w=>{nt(w,{preventDefault:!0});const T=r.stringify(u,null,4),$=n?`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">\u4EE5\u4E0B\u6587\u672C\u57DF\u53EF\u6309\u9884\u5B9A\u683C\u5F0F\u586B\u5199\u5B57\u4F53\u91CD\u5199\u7684\u81EA\u5B9A\u4E49\u6570\u636E\u3002\u6574\u4F53\u4E3A\u6570\u7EC4\u7C7B\u578B\uFF0C\u6BCF\u4E2A\u5B57\u4F53\u540D\u79F0\u5360\u4E00\u884C\uFF0C\u5E76\u4F7F\u7528\u534A\u89D2\u53CC\u5F15\u53F7\u5305\u62EC\uFF1B\u5982\u5B57\u4F53\u540D\u79F0\u5305\u542B\u4E2D\u6587\u7B49\u53CC\u5B57\u8282\u6587\u672C\u65F6\uFF0C\u8BF7\u5728\u53CC\u5F15\u53F7\u5185\u4F7F\u7528\u534A\u89D2\u82B1\u62EC\u53F7\u5305\u62EC\u3002\u5982\u60A8\u4E0D\u4E86\u89E3\u8BE5\u6570\u636E\u7684\u542B\u4E49\uFF0C\u8BF7\u52FF\u4FEE\u6539\uFF0C\u4EE5\u514D\u9020\u6210\u5168\u5C40\u5B57\u4F53\u91CD\u5199\u51FA\u9519\u3002<span class="${e.const.seed}.clr:crimson">(\u5F3A\u70C8\u5EFA\u8BAE\u60A8\uFF1A\u6309 <a href="${e.url.feedback}/267#discussion-5692372" target="_blank">\u4F5C\u8005\u63D0\u8BAE</a> \u586B\u5199\u6B64\u5185\u5BB9)</span></p><p><textarea id="${e.const.seed}.fontoverride.defarray">${T}</textarea></p><p id="${e.const.seed}.warning.chn">\uFF08\u8BF7\u52FF\u6DFB\u52A0\u811A\u672C\u5B57\u4F53\u8868\u5DF2\u5B58\u5728\u7684\u5B57\u4F53\uFF0C\u5982\u91CD\u590D\u5C06\u81EA\u52A8\u5220\u9664\uFF09</p>`:`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">Predefined format overall array type, one Fontname per line, and the use of half-width double quotes include; If the fontname contains double-byte text such as Chinese, please use half-width brackets within the double quotes include. <span class="${e.const.seed}.clr:crimson">(Suggestion: "<a href="${e.url.feedback}/267#discussion-5692372" target="_blank">Author's proposal</a>")</span></p><p><textarea id="${e.const.seed}.fontoverride.defarray">${T}</textarea></p><p id="${e.const.seed}.warning.en">(Duplicate font names with font library will be removed)</p>`,I=pt?`<div id="${e.id.fi}">
                    <span class="${e.const.seed}.cusmono">${n?"\u4FEE\u590D\u5F53\u524D\u7AD9\u70B9 &lt;INPUT&gt; \u7684\u6837\u5F0F\u95EE\u9898":"Fix &lt;INPUT&gt; Issue For Current Site"}</span>
                    <input type="checkbox" id="${e.const.seed}.fixinput" class="${e.class.checkbox}" ${ft?.getItem(_e)==="true"?"checked":""} />
                    <label for="${e.const.seed}.fixinput"></label>
                  </div>${$}`:$,[R,H,B]=n?["\u786E \u5B9A","\u53D6 \u6D88","\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E"]:["OK","Cancel","Customized Font-Rewrite Data"];let U=new me({trueButtonText:R,neutralButtonText:H,messageText:I,titleText:B});const[te,z]=["fixinput","fontoverride\\.defarray"].map(ne=>y(`#${e.const.seed}\\.${ne}`,e.var.dialogIf));if(Ht(z),i(z),await U.respond()){const ne=z.value.trim();try{const de=ne?Ve(r.parse(ne),be=>be&&typeof be=="string"):[];let Y=await xt.get(ze);Y=Array.isArray(Y)&&Y.length>0?Y:[];const M=Y.filter(be=>be.en!=="Microsoft YaHei").map(be=>be.en.startsWith("\\")?`{${be.ch}}`:be.en),se=It.fontBase.replace(/'/g,"").split(","),ue=(ao||It.monospacedFont).replace(/'/g,"").split(","),ke=Ve(["Courier New","Courier","monospace",...se,...M,...ue]),Se=de.filter(be=>!ke.includes(be)).sort();te&&ft?.setItem(_e,te.checked),fe(Fe,Se);const ie=n?`<p class="${e.const.seed}.clr:green">\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:green">Font-rewrite Data saved successfully!</p><p>The page will refresh after confirmation.</p>`,[ge,pe]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E\u8BBE\u7F6E\u6210\u529F"]:["OK","Customized Font-rewrite Data Save"];let X=new me({trueButtonText:ge,messageText:ie,titleText:pe});await X.respond()&&je({isReload:!0}),X=null}catch{const Y=n?`<p class="${e.const.seed}.clr:8b0000">\u81EA\u5B9A\u4E49\u5B57\u4F53\u91CD\u5199\u6570\u636E\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\uFF01</p>`:`<p class="${e.const.seed}.clr:8b0000">Font-rewrite data format error, please re-enter!</p>`,[M,se]=n?["\u786E \u5B9A","\u91CD\u5199\u6570\u636E\u683C\u5F0F\u9519\u8BEF"]:["OK","Customized Font-Rewrite Data Error"];let ue=new me({trueButtonText:M,messageText:Y,titleText:se});if(await ue.respond()){const ke=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.const.seed}\\.fontoverride\\.def`,e.var.configIf)?.dispatchEvent(ke)}ue=null}}U=null})}async function S(u,w,T){if(!u||!w)return;const $=[k.fontFace,io,T],I=async()=>{if(y(`#${e.id.renderCanvas}`,e.var.configIf)?.click(),y(`#${e.id.rdCanvas}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,!u.checked),await uo(...$),u.checked&&!k.fontFace){const R=n?"\u6B63\u5728\u6062\u590D\u4E4B\u524D\u8BBE\u7F6E\u7684\u5B57\u4F53\u2026":"Restore previous font\u2026";w.setAttribute("placeholder",R),await gt(220,{instant:!0}),y(`#${e.id.submit} .${e.class.submit}[v-Preview="true"]`,e.var.configIf)?.click()}};await uo(...$),u.addEventListener("change",I)}function x(u,w,T){if(!(!vt||!u||!T))try{Q();const $=y(`#${e.id.scale}`,T);return u.value=k.fontSize===1?"OFF":k.fontSize.toFixed(3),jn($,u,3,!0),Bn(u,$,/^[0-2](\.[0-9]{1,3})?$/,3,!0),$}catch($){K("GetFontSizeScale:",$.message,e.array.exps.push(`[getFontSizeScale]: ${$}`))}finally{rt(u,k.fontSize,w,!0)}}function Q(){y(`#${e.const.seed}\\.fontscale\\.def`,e.var.configIf)?.addEventListener("dblclick",async u=>{nt(u,{preventDefault:!0});const w=await J(),T=r.stringify(w,null,4),$=n?`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">\u4EE5\u4E0B\u6587\u672C\u57DF\u53EF\u6309\u9884\u5B9A\u683C\u5F0F\u586B\u5199\u201C\u5B57\u4F53\u6BD4\u4F8B\u7F29\u653E\u529F\u80FD\u201D\u6240\u9700\u7684\u81EA\u5B9A\u4E49\u7AD9\u70B9\u7F29\u653E\u6570\u636E\u914D\u7F6E\u3002\u7531\u4E8E\u8BE5\u6570\u636E\u4E3A\u811A\u672C\u6838\u5FC3\u8BBE\u7F6E\u6570\u636E\uFF0C\u5982\u679C\u60A8\u4E0D\u4E86\u89E3\u8BE5\u8BBE\u7F6E\u6570\u636E\u7684\u683C\u5F0F\u8981\u6C42\u6216\u6570\u636E\u542B\u4E49\uFF0C\u8BF7\u52FF\u4FEE\u6539\u8BE5\u6570\u636E\uFF01<span class="${e.const.seed}.clr:crimson">\uFF08\u5F3A\u70C8\u5EFA\u8BAE\u60A8\uFF1A\u6309 <a href="${e.url.feedback}/267#discussioncomment-7161615" target="_blank">\u4F5C\u8005\u63D0\u8BAE</a> \u586B\u5199\u6B64\u5185\u5BB9\uFF09</span></p><p><textarea id="${e.const.seed}.fontscale.defjson">${T}</textarea></p><p id="${e.const.seed}.warning.chn">\uFF08\u5982\u679C\u4EE5\u4E0AJSON\u5185\u5BB9\u683C\u5F0F\u9519\u8BEF\uFF0C\u4F1A\u9020\u6210\u811A\u672C\u51FA\u9519\u4F7F\u6E32\u67D3\u5931\u6548\uFF09</p>`:`<p class="${e.const.seed}.clr:555 ${e.const.seed}.fs:14p">Fill in the custom site scaling data configuration of the "Font Scaling" in a predetermined format. If you do not understand the meaning of the data, please do not modify it! <span class="${e.const.seed}.clr:crimson">(Suggestion: "<a href="${e.url.feedback}/267#discussioncomment-7161615" target="_blank">Author's proposal</a>")</span></p><p><textarea id="${e.const.seed}.fontscale.defjson">${T}</textarea></p><p id="${e.const.seed}.warning.en">(If the JSON format is incorrect, font rendering will fail)</p>`,[I,R,H]=n?["\u786E \u5B9A","\u53D6 \u6D88","\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u8BBE\u7F6E\u6570\u636E"]:["OK","Cancel","Sites Scaling Setting Data"];let B=new me({trueButtonText:I,neutralButtonText:R,messageText:$,titleText:H});const U=y(`#${e.const.seed}\\.fontscale\\.defjson`,e.var.dialogIf);if(Ht(U),i(U),await B.respond()){const te=U.value.trim();try{const z=te?r.parse(te):mt();if(mo.call(z)!=="[object Object]")throw new Error("Format Error");fe(Oe,z);const ne=n?`<p class="${e.const.seed}.clr:green">\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u8BBE\u7F6E\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:green">Sites Fix-scaling data saved successfully!</p><p>The page will refresh after confirmation.</p>`,[de,Y]=n?["\u786E \u5B9A","\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u6570\u636E\u8BBE\u7F6E\u6210\u529F"]:["OK","Sites Fix-scaling Data Save"];let M=new me({trueButtonText:de,messageText:ne,titleText:Y});await M.respond()&&je({isReload:!0}),M=null}catch{const ne=n?`<p class="${e.const.seed}.clr:8b0000">\u7AD9\u70B9\u7F29\u653E\u4FEE\u6B63\u8BBE\u7F6E\u6570\u636E\u683C\u5F0F\u9519\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\uFF01</p>`:`<p class="${e.const.seed}.clr:8b0000">Fix-scaling Data format error, please re-enter!</p>`,[de,Y]=n?["\u786E \u5B9A","\u8BBE\u7F6E\u6570\u636E\u683C\u5F0F\u9519\u8BEF"]:["OK","Sites Fix-scaling Data Error"];let M=new me({trueButtonText:de,messageText:ne,titleText:Y});if(await M.respond()){const se=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.const.seed}\\.fontscale\\.def`,e.var.configIf)?.dispatchEvent(se)}M=null}}B=null})}function ae(u,w){const T=y(`#${e.id.fixViewport}`,e.var.configIf);if(!(!vt||!Zt||!u||!T))try{const $=y(`#${e.id.fviewport}`,e.var.configIf),I=()=>$?.classList.toggle(`${e.const.seed}.vis:hidden`,u.value==="OFF");return u.addEventListener("change",I),I(),T}catch($){K("GetFixViewportBool:",$.message,e.array.exps.push(`[getFixViewportBool]: ${$}`))}finally{rt(T,k.fixViewport,w)}}function ve(u,w,T){if(!(!u||!T))try{const $=y(`#${e.id.stroke}`,T);return u.value=k.fontStroke===0?"OFF":k.fontStroke.toFixed(3),jn($,u,3),Bn(u,$,/^[0-1](\.[0-9]{1,3})?$/,3),$}catch($){K("GetFontsStroke:",$.message,e.array.exps.push(`[getFontsStroke]: ${$}`))}finally{rt(u,k.fontStroke,w)}}function V(u,w){if(!_t||!u)return mt();const T=["fixStroke","fixShadow","lazyload","fstroke","fshadow"],[$,I,R,H,B]=T.map(de=>y(`#${e.id[de]}`,e.var.configIf));if(!$||!R||!H||!B)return mt();const U=()=>H.classList.toggle(`${e.const.seed}.vis:hidden`,u.value==="OFF"),te=()=>{if(B.classList.add(`${e.const.seed}.vis:visible`),!Mt)return;const de=Ze(`#${e.id.fshadow}\\.shadow\\.label,#${e.id.fshadow}\\.shadow\\.text`,e.var.configIf),Y=!Number(y(`#${e.id.shadowSize}`,e.var.configIf)?.value);de.forEach(M=>M.classList.toggle(`${e.const.seed}.disp:none`,Y))},z=()=>{R&&F(R,"lazyload",!$.checked),Mt&&I&&F(I,"fixShadow",!$.checked)},ne=()=>B.classList.remove(`${e.const.seed}.vis:visible`);try{return U(),u.addEventListener("change",U),$.addEventListener("mouseenter",te),B.addEventListener("mouseleave",ne),$.addEventListener("click",z),{fixStrokeT:$,fixShadowT:I,lazyloadT:R}}catch(de){K("GetFixStrokeBool:",de.message,e.array.exps.push(`[getFixStrokeBool]: ${de}`))}finally{rt($,k.fixStroke,w),rt(R,k.lazyload,w),Mt&&rt(I,k.fixShadow,w)}}function F(u,w,T){u.toggleAttribute("disabled",T),u.nextElementSibling?.classList.toggle(`${e.const.seed}.ft:gs1`,T),T?u.checked&&u.click():k[w]&&!u.checked&&u.click()}function A(u,w,T,$){if(!u||!w||!$)return;const I=y(`#${e.id.renderCanvas}`,e.var.configIf);try{const R=y(`#${e.id.shadow}`,$),H=k.fontShadow===0;return u.value=H?"OFF":k.fontShadow.toFixed(2),jn(R,u,2),Bn(u,R,/^[0-8](\.[0-9]{1,2})?$/,2),w.classList.toggle(`${e.const.seed}.disp:none`,H),u.addEventListener("change",()=>w.classList.toggle(`${e.const.seed}.disp:none`,H)),R}catch(R){K("GetFontShadow:",R.message,e.array.exps.push(`[getFontShadow]: ${R}`))}finally{rt(u,k.fontShadow,T),rt(I,k.renderCanvas,T)}}function G(u,w,T,$){if(!u||!w)return mt();try{if(!C.FRColorPicker)return oe(u,T,$);const I=new C.FRColorPicker(`#${e.id.color}`,e.var.configIf,{alpha:1,format:"hexa"}),R=I.fromString(T)&&I.toHEXAString();return I.onChange=()=>u.value=ln(I.toHEXAString()),ee(`frColorPicker: %c${R}`,`${on(R,Ps(R.slice(1))>182?"#333":"#eee")};border:1px solid #eee`)??I}catch(I){return K("GetColorAndColorPicker:",I.message,e.array.exps.push(`[getColorAndColorPicker]: ${I}`))??mt()}finally{rt(u,T,w)}}function oe(u,w,T){return u.value=w,u.style.cssText=`--fr-input-color:${w}`,u.addEventListener("change",function(){const $=this.value;this.value=T.test($)?ln($):w,this.style.cssText=`--fr-input-color:${T.test($)?ys($):w}`}),q.Object.assign(mt(),{fromString:$=>u.style.cssText=`--fr-input-color:${u.value=$}`})}function D(u){u?.addEventListener("dblclick",function(w){nt(w,{preventDefault:!0}),this.classList.add(e.class.notreadonly),this.removeAttribute("readonly"),this.removeAttribute("title")})}function L(u){u?.addEventListener("dblclick",async w=>{try{nt(w,{preventDefault:!0});const[T,{monoSiteRules:$,monoFontList:I,monoFeature:R}]=await Promise.all([s(),l()]),[H,B,U]=[$.join(`\r
`).trim(),I.trim(),R.trim()],te=n?`<p class="${e.const.seed}.mono.notify">\u2474 \u4EE5\u4E0B\u6587\u672C\u57DF\u53EF\u8BBE\u7F6E\u9700\u5E94\u7528\u7B49\u5BBD\u5B57\u4F53\u7684\u6839\u57DF\u53CA\u5143\u7D20\u9009\u62E9\u5668\u3002<br/><span class="${e.const.seed}.clr:crimson">\u5982\u679C\u60A8\u4E0D\u4E86\u89E3\u7AD9\u70B9\u6837\u5F0F\u89C4\u5219\uFF0C\u8BF7\u4FDD\u6301\u7559\u7A7A\u3010<a href="${e.url.feedback}/74" target="_blank">\u67E5\u770B\u63A8\u8350\u89C4\u5219</a>\u3011</span></p><p><textarea id="${e.const.seed}.monospaced.siterules" placeholder="\u6BCF\u884C\u53EA\u80FD\u5141\u8BB8\u4E00\u7EC4\u89C4\u5219\uFF0C\u76F8\u540C\u7AD9\u70B9\u4E0D\u540C\u89C4\u5219\u53EF\u91CD\u590D\u6DFB\u52A0\u3002\r
\u683C\u5F0F\u5982\uFF1A@\u7F51\u7AD9\u57DF\u540D##\u5143\u7D20\u9009\u62E9\u56681,\u5143\u7D20\u9009\u62E9\u56682,\u2026\u2026\r
\u4F8B\u5982\uFF1A\r
@github.com##[class~='blob-code'] *\r
@github.com##.example,#abc,div:not(.test)\r
@github.dev###test:not([class*='test'])">${H}\r
</textarea></p><p class="${e.const.seed}.mono.notify">\u2475 \u4EE5\u4E0B\u53EF\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u82F1\u6587\u7B49\u5BBD\u5B57\u4F53\uFF0C\u8BF7\u6309\u793A\u4F8B\u683C\u5F0F\u586B\u5199\u3002<br/><span class="${e.const.seed}.clr:crimson">\u8BF7\u6CE8\u610F\uFF1Amonospace\u5B57\u4F53\u65CF\u5DF2\u7A0B\u5E8F\u5185\u7F6E\uFF0C\u65E0\u9700\u91CD\u590D\u6DFB\u52A0\u3002</span></p><p><input id="${e.const.seed}.monospaced.font" placeholder="\u4F8B\u5982\uFF1A'Source Code Pro','Mono','Monaco'" value="${B}"></p><p class="${e.const.seed}.mono.notify">\u2476 \u4EE5\u4E0B\u8BBE\u7F6E OpenType \u5B57\u4F53 <a href="https://learn.microsoft.com/zh-cn/typography/opentype/spec/featurelist" target="_blank">font-feature-settings</a> \u5C5E\u6027\u3002<br/><span class="${e.const.seed}.clr:crimson">\u5982\u679C\u60A8\u8BBE\u7F6E\u7684\u7B49\u5BBD\u5B57\u4F53\u975E OpenType \u5B57\u4F53\uFF0C\u8BF7\u4FDD\u6301\u7559\u7A7A\u3002</span></p><p><input id="${e.const.seed}.monospaced.feature" placeholder='\u4F8B\u5982\uFF1A"liga" 0,"tnum","zero"' value='${U}'></p>`:`<p class="${e.const.seed}.mono.notify">\u2474 Set the root field and selector for monospaced font.<br/><span class="${e.const.seed}.clr:crimson">It is recommended that check out the <a href="${e.url.feedback}/74" target="_blank">Author's Proposal</a></span></p><p><textarea id="${e.const.seed}.monospaced.siterules" placeholder="Only One set of rules per line, different rules for the same site can be repeated. Such as:\r
@github.com##[class~='blob-code'] *\r
@github.com##.example,#abc,div:not(.test)\r
@github.dev###test:not([class*='test'])">${H}\r
</textarea></p><p class="${e.const.seed}.mono.notify">\u2475 Set custom monospaced font according to example.<br/><span class="${e.const.seed}.clr:crimson">Note: monospace is built-in, do not add it repeatedly.</span></p><p><input id="${e.const.seed}.monospaced.font" placeholder="Such as: 'Source Code Pro','Mono','Monaco'" value="${B}"></p><p class="${e.const.seed}.mono.notify">\u2476 Set OpenType font <a href="https://learn.microsoft.com/en-us/typography/opentype/spec/featurelist" target="_blank">font-feature-settings</a> property.<br/><span class="${e.const.seed}.clr:crimson">Leave blank if using custom font that is not OpenType.</span></p><p><input id="${e.const.seed}.monospaced.feature" placeholder='Such as: "liga" 0,"tnum","zero"' value='${U}'></p>`,z=n?"\u8BBE\u7F6E\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53":"Set Custom Monospaced Font",ne=`<div id="${e.id.cm}">
                    <span class="${e.const.seed}.cusmono">${n?"\u5F00\u542F\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\uFF08\u9ED8\u8BA4\uFF1A\u5173\u95ED\uFF09":"Enable Custom Monospaced Font"}</span>
                    <input type="checkbox" id="${e.id.iscusmono}" class="${e.class.checkbox}" ${T.isCustomMono?"checked":""} />
                    <label for="${e.id.iscusmono}"></label>
                </div>${te}`,[de,Y]=n?["\u4FDD\u5B58\u6570\u636E","\u53D6 \u6D88"]:["Save","Cancel"];let M=new me({trueButtonText:de,neutralButtonText:Y,messageText:ne,titleText:z});const se=["siterules","font","feature"].map(he=>y(`#${e.const.seed}\\.monospaced\\.${he}`,e.var.dialogIf)),ue=y(`#${e.id.iscusmono}`,e.var.dialogIf),ke=(he,Ee,Le)=>Ee.forEach(Re=>(Re.toggleAttribute("disabled",!he),Re.classList.toggle(Le,!he)));ke(ue.checked,se,e.class.readonly),ue?.addEventListener("change",()=>ke(ue.checked,se,e.class.readonly));let[Se,ie,ge]=se.map(he=>Ke(he.value.trim()));Ht(...se);const[pe,X,be]=se;if(pe.addEventListener("change",()=>Se=t(pe,!1,!0)),X.addEventListener("change",()=>ie=t(X,!1,!0,/'(?:ui-)?monospace',?/gi)),be.addEventListener("change",()=>ge=t(be,!0,!0,/[^\w",\- ]/g)),await M.respond()){const he=Se.match(/@[\w\-.:]+##(?![^@]*##)[\w\-*.#:+>()~[\]=^$|,' ]+/g);if(Se&&!he){en(Se);const it=n?`<p class="${e.const.seed}.clr:crimson">\u81EA\u5B9A\u4E49\u6839\u57DF\u53CA\u5143\u7D20\u9009\u62E9\u5668\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u3002</p><p>\u6CE8\u610F\uFF1A\u5148\u524D\u63D0\u4EA4\u7684\u4FE1\u606F\u5DF2\u81EA\u52A8\u4FDD\u5B58\u81F3\u526A\u5207\u677F\u4E2D\u3002</p>`:`<p class="${e.const.seed}.clr:crimson">Custom Root/Selectors data error, Please refill!</p><p>Note: Previous content saved to the clipboard.</p>`,[wt,h]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u6839\u57DF\u53CA\u5143\u7D20\u9009\u62E9\u5668\u6570\u636E\u9519\u8BEF"]:["OK","Custom Root/Selectors Data Error"];let b=new me({trueButtonText:wt,messageText:it,titleText:h});if(await b.respond()){const v=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.id.mono}`,e.var.configIf)?.dispatchEvent(v)}return b=null}const Ee=ie.match(/'@?[^'\uFF00-\uFFEF\u4E00-\u9FFF\u3040-\u309F\u30A0-\u30FF\uAC00-\uD7AF]+'/g);if(ie&&!Ee){en(ie);const it=n?`<p class="${e.const.seed}.clr:crimson">\u60A8\u63D0\u4EA4\u7684\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6570\u636E\u6709\u8BEF\uFF0C\u8BF7\u91CD\u65B0\u8F93\u5165\u3002</p><p>\u6CE8\u610F\uFF1A\u5148\u524D\u63D0\u4EA4\u7684\u4FE1\u606F\u5DF2\u81EA\u52A8\u4FDD\u5B58\u81F3\u526A\u5207\u677F\u4E2D\u3002</p>`:`<p class="${e.const.seed}.clr:crimson">Custom Monospaced Font Data error, Please refill!</p><p>Note: Previous content saved to the clipboard.</p>`,[wt,h]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6570\u636E\u9519\u8BEF"]:["OK","Custom Monospaced Font Data Error"];let b=new me({trueButtonText:wt,messageText:it,titleText:h});if(await b.respond()){const v=new Event("dblclick",{bubbles:!0,cancelable:!1});y(`#${e.id.mono}`,e.var.configIf)?.dispatchEvent(v)}return b=null}const Le=!Se||Array.isArray(he)&&he.length>0,Re=!ie||Array.isArray(Ee)&&Ee.length>0;if(Le&&Re){const it=Ve(Ee).join();Se?fe(oo,Ve(he)):Vt(oo),ie?fe(no,it):Vt(no),ge?fe(Z,ge):Vt(Z),T.isCustomMono=!!y(`#${e.id.iscusmono}`,e.var.dialogIf).checked,fe(_,T);const wt=n?`<p class="${e.const.seed}.clr:green">\u60A8\u63D0\u4EA4\u7684\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6570\u636E\u5DF2\u4FDD\u5B58\u6210\u529F\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p><p class="${e.const.seed}.clr:ff7f50 ${e.const.seed}.fs:12p">\u6CE8\uFF1A\u683C\u5F0F\u9519\u8BEF\u7684\u8F93\u5165\u5185\u5BB9\u5C06\u88AB\u81EA\u52A8\u8FC7\u6EE4\u3002</p>`:`<p class="${e.const.seed}.clr:green">Custom Monospaced Data saved successfully!</p><p>The page will refresh after confirmation.</p><p class="${e.const.seed}.clr:ff7f50 ${e.const.seed}.fs:12p">Note: Incorrect content will be filtered.</p>`,[h,b]=n?["\u786E \u5B9A","\u81EA\u5B9A\u4E49\u7B49\u5BBD\u5B57\u4F53\u6570\u636E\u4FDD\u5B58"]:["OK","Custom Monospaced Data Save"];let v=new me({trueButtonText:h,messageText:wt,titleText:b});await v.respond()&&je({isReload:!0}),v=null}}M=null}catch(T){K("Monospaced Set:",T.message)}})}function O(u,w,T,{drawScale:$,drawStrock:I,drawShadow:R}){const{smoothT:H,ffaceT:B,fontScaleT:U,fixViewportT:te,strokeT:z,fixStrokeT:ne,lazyloadT:de,fixShadowT:Y,shadowsT:M,canvasT:se,colorPickerT:ue,colorshowT:ke,fontCssT:Se,fontExT:ie}=T;u?.addEventListener("click",async()=>{const ge=n?`<p>\u300E\u91CD\u7F6E/\u6062\u590D\u300F\u5C06\u5F53\u524D\u8BBE\u7F6E\u521D\u59CB\u5316\u4E3A <span class="${e.const.seed}.clr:708090">\u7A0B\u5E8F\u9ED8\u8BA4\u7684\u521D\u59CB\u6570\u636E</span> \u6216 <span class="${e.const.seed}.clr:708090">\u4E0A\u6B21\u6B63\u786E\u4FDD\u5B58\u7684\u6570\u636E</span>\u3002\u4E00\u822C\u662F\u5728\u60A8\u914D\u7F6E\u9519\u8BEF\u6216\u9700\u4F7F\u7528\u65B0\u529F\u80FD\u53C2\u6570\u7684\u60C5\u51B5\u4E0B\u624D\u8FDB\u884C\u91CD\u7F6E\u53C2\u6570\u7684\u64CD\u4F5C\u3002</p><p class="${e.const.seed}.clr:green">\u91CD\u7F6E\uFF1A\u91CD\u7F6E\u5F53\u524D\u6570\u636E\u4E3A\u7A0B\u5E8F\u521D\u59CB\u503C\uFF0C\u624B\u52A8\u4FDD\u5B58\u751F\u6548\u3002</p><p class="${e.const.seed}.clr:8b0000">\u6062\u590D\uFF1A\u66FF\u6362\u4E3A\u4E0A\u6B21\u6B63\u786E\u4FDD\u5B58\u7684\u6570\u636E\uFF0C\u81EA\u52A8\u6062\u590D\u9884\u89C8\u3002</p><p class="${e.const.seed}.clr:808080">\u53D6\u6D88\uFF1A\u653E\u5F03\u91CD\u7F6E\u64CD\u4F5C\u3002</p>`:`<p>\u300EReset/Restore\u300FInitializes the current settings to <span class="${e.const.seed}.clr:708090">the program's default initial data</span> or <span class="${e.const.seed}.clr:708090">the last saved data</span>. The reset is usually done when configuration error or new feature is needed. </p><p class="${e.const.seed}.clr:green"><b>Reset:</b> Reset the current data to the initial value of the program, and save data manually.</p><p class="${e.const.seed}.clr:8b0000"><b>Restore:</b> Replace all with the last correctly saved data, and automatically restore preview. </p><p class="${e.const.seed}.clr:808080"><b>Cancel:</b> Abort the reset operation. </p>`,[pe,X]=n?["\u91CD \u7F6E","\u6062 \u590D"]:["Reset","Restore"],[be,he]=n?["\u53D6 \u6D88","\u53C2\u6570\u91CD\u7F6E\u786E\u8BA4"]:["Cancel","Confirm To Reset Settings"];let Ee=new me({trueButtonText:pe,falseButtonText:X,neutralButtonText:be,messageText:ge,titleText:he});const Le=y(`#${e.id.shadowColor}`,e.var.configIf);await Ee.respond()?(H.checked!==xe.fontSmooth?H.click():ee("<fontSmooth> NOT MODIFIED"),B.checked!==xe.fontFace?B.click():ee("<fontFace> NOT MODIFIED"),k.fontSelect.split(",")[0]!==xe.fontSelect?w?.fresetList():w?.fdeleteList(),vt&&(U.value=xe.fontSize===1?"OFF":xe.fontSize.toFixed(3),U.dispatchEvent(new Event("change")),Jt($,e.var.curScale=xe.fontSize,3),Zt&&(te.checked!==xe.fixViewport?te.click():ee("<fixViewport> NOT MODIFIED"),y(`#${e.id.fviewport}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,U.value==="OFF"))),z.value=xe.fontStroke===0?"OFF":xe.fontStroke.toFixed(3),z.dispatchEvent(new Event("change")),Jt(I,xe.fontStroke,3),_t&&(ne.checked!==xe.fixStroke?ne.click():ee("<fixStroke> NOT MODIFIED"),de.checked!==xe.lazyload?de.click():ee("<lazyload> NOT MODIFIED"),y(`#${e.id.fstroke}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,z.value==="OFF")),M.value=xe.fontShadow===0?"OFF":xe.fontShadow.toFixed(2),M.dispatchEvent(new Event("change")),Jt(R,xe.fontShadow,2),Mt&&(Y.checked!==xe.fixShadow?Y.click():ee("<fixShadow> NOT MODIFIED")),Le?.classList.toggle(`${e.const.seed}.disp:none`,M.value==="OFF"),at||(se.checked!==xe.renderCanvas?se.click():ee("<canvas> NOT MODIFIED")),ue.fromString(xe.shadowColor),ke.dispatchEvent(new Event("change")),Se.value=xe.fontCSS,Se.dispatchEvent(new Event("input")),ie.value=xe.fontEx,ie.dispatchEvent(new Event("input")),gt(220)(uo(B.checked,xe.fontSelect.replace(/'/g,""),vo)).then(()=>y(`#${e.id.submit} .${e.class.submit}[v-Preview="true"]`,e.var.configIf)).then(Re=>void Re?.click())):(H.checked!==k.fontSmooth?H.click():ee("<fontSmooth> NOT MODIFIED"),B.checked!==k.fontFace?B.click():ee("<fontFace> NOT MODIFIED"),w?.fdeleteList(),vt&&(U.value=k.fontSize===1?"OFF":k.fontSize.toFixed(3),U.dispatchEvent(new Event("change")),Jt($,k.fontSize,3),e.array.scaleMatrix.push(e.var.curScale=k.fontSize),Zt&&(te.checked!==k.fixViewport?te.click():ee("<fixViewport> NOT MODIFIED"),y(`#${e.id.fviewport}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,U.value==="OFF"))),z.value=k.fontStroke===0?"OFF":k.fontStroke.toFixed(3),z.dispatchEvent(new Event("change")),Jt(I,k.fontStroke,3),_t&&(ne.checked!==k.fixStroke?ne.click():ee("<fixStroke> NOT MODIFIED"),de.checked!==k.lazyload?de.click():ee("<lazyload> NOT MODIFIED"),y(`#${e.id.fstroke}`,e.var.configIf)?.classList.toggle(`${e.const.seed}.vis:hidden`,z.value==="OFF")),M.value=k.fontShadow===0?"OFF":k.fontShadow.toFixed(2),M.dispatchEvent(new Event("change")),Jt(R,k.fontShadow,2),Mt&&(Y.checked!==k.fixShadow?Y.click():ee("<fixShadow> NOT MODIFIED")),Le?.classList.toggle(`${e.const.seed}.disp:none`,M.value==="OFF"),at||(se.checked!==k.renderCanvas?se.click():ee("<canvas> NOT MODIFIED")),ue.fromString(k.shadowColor),ke.dispatchEvent(new Event("change")),Se.value=k.fontCSS,Se.dispatchEvent(new Event("input")),ie.value=k.fontEx,ie.dispatchEvent(new Event("input")),uo(B.checked,io,vo).then(Uo({Scenes:"recover",Permit:k.o.fixStroke})),_n(e.var.preview,e.var.topStyle=po)||delete e.var.preview),Ee=null})}function re(u,w,T){const{ffaceT:$,smoothT:I,fontScaleT:R,fixViewportT:H,strokeT:B,fixStrokeT:U,lazyloadT:te,shadowsT:z,fixShadowT:ne,canvasT:de,colorshowT:Y,colorReg:M,fontCssT:se,fontExT:ue}=T;u?.addEventListener("click",async function(){const ke=w?.fsearchList(e.id.fontName)??[],Se=ke.length>0?Kn(ke):k.fontSelect,[ie,ge]=[$.checked,I.checked],pe=R&&/^[0-2](\.[0-9]{1,3})?$/.test(R.value)?parseFloat(R.value):xe.fontSize,X=gs(!Nn&&vt,pe),be=Zt&&Number(X)!==1&&H.checked,he=/^[0-1](\.[0-9]{1,3})?$/.test(B.value)?Number(B.value):B.value==="OFF"?0:xe.fontStroke,Ee=_t&&he&&U.checked,Le=Ee&&te.checked,Re=/^[0-8](\.[0-9]{1,2})?$/.test(z.value)?Number(z.value):z.value==="OFF"?0:xe.fontShadow,it=Mt&&Ee&&Re&&ne.checked,[wt,h,b,v]=[de?.checked,Y.value,se.value,ue.value],E=M.test(h)?ys(h):xe.shadowColor,ce=b?b.replace(/["`]/g,"'"):xe.fontCSS,Te=v?v.replace(/["`]/g,"'"):"",ut=!ie&&!ge&&!Re&&!he&&Number(X)===1;if(Bo&&this.hasAttribute("v-Preview"))try{const Xe=Number(X)!==1?qs(X):"",Vo=Re>0&&Re<=4?"text-shadow:var(--fr-font-shadow);":"",ko=he>0&&he<=1?"-webkit-text-stroke:var(--fr-font-stroke);":"",un=`${ko?he:0}px currentcolor`,Go=Zs(Re,E),Yn=ge?ws:"",Xn=ie?"font-family:var(--fr-font-family),var(--fr-font-basefont),var(--fr-font-emoji);":"",jo=Se?.replace(/["']/g,"").split(",")??[],Ko=jo[1]??jo[0]??"",fn=ie&&Ko?await Xs(jo,Ko,Ue):"",Qt=`${Ie}:is(${Ke(ce)})`,qe=`${Vo?"text-shadow:none!important;":""}${ko?"-webkit-text-stroke:var(--fr-no-stroke)!important;":""}`,mn=Te&&(Vo||ko)?`${Ie}:is(${Ke(Te)}){${qe}}`:"",So=Te?Js(Te,ie,an):"",Wo=Ee?Ts(Mt&&it?"text-shadow:var(--fr-fix-shadow)!important;":""):"",eo=`${fn}${Xe}${Ie}::placeholder,${Qt}{${Xn}}${Qt}{${Vo}${ko}${Yn}}${mn}${So}${Wo}`,fo=pt&&ie?e.var.style.firefox:"",To=`0 0 ${Re}px ${E.toLowerCase().slice(0,7).concat("2b")}`,Yo=wt?"--fr-render-shape:geometricPrecision;":"",Xo=`:root{--fr-font-basefont:${It.fontBase};--fr-font-emoji:${It.fontEmoji};${$s}--fr-font-fontscale:${X};--fr-font-family:${Se};--fr-font-shadow:${Go};--fr-font-stroke:${un};--fr-no-stroke:0px transparent;--fr-fix-stroke:var(--fr-no-stroke);--fr-fix-shadow:${To};--fr-render-text:optimizeLegibility;${Yo}--fr-render-image:auto;${Ms}${Ds}${Ls}${Is}${Rs}}`,Fo=`@charset "UTF-8";${e.var.style.frDialog}${ut?"":`${Xo}${fo}${eo}`}`;ta({button:this,isRestore:!1}),uo(ie,Ko,vo).then(Uo({CorrectStyle:Wo,Scenes:"preview",Permit:Ee})).then(()=>ee(`frColorPicker<Preview>: %c${E}`,on(E,Ps(E.slice(1))>182?"#333":"#eee"))),_n(Bo,e.var.topStyle=Fo,!1)}catch(Xe){K("ControlSubmitButton:",Xe.message)}else{try{const Go=n?`<p class="${e.const.seed}.clr:green ${e.const.seed}.fw:700">\u4FDD\u5B58\u5230\u5168\u5C40\u6570\u636E\uFF1A</p><p>\u5C06\u5F53\u524D\u8BBE\u7F6E\u4FDD\u5B58\u4E3A\u5168\u5C40\u8BBE\u7F6E\uFF0C\u9ED8\u8BA4\u4F7F\u7528\u5168\u5C40\u53C2\u6570\u3002</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fw:700">\u4FDD\u5B58\u5230\u5F53\u524D\u7F51\u7AD9\u6570\u636E\uFF1A<span id="${e.const.seed}.sitedatalist">[<span>\u5168\u90E8\u6570\u636E\u5217\u8868</span>]</span></p><p class="${e.const.seed}.mh:22p"><span title="\u4FDD\u5B58\u5230\u7F51\u7AD9\u6570\u636E\u4F1A\u81EA\u52A8\u8986\u76D6\u4E4B\u524D\u7684\u6570\u636E" id="${e.const.seed}.save.sitedata">\u4E3A ${yt} \u4FDD\u5B58\u72EC\u7ACB\u7684\u8BBE\u7F6E\u6570\u636E\u3002</span>`:`<p class="${e.const.seed}.clr:green ${e.const.seed}.fw:700">Save to Global Data:</p><p>Save as global setting, using global by default. </p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fw:700">Save to Current Website Data: <span id="${e.const.seed}.sitedatalist">[<span> All Data List </span>]</span></p><p class="${e.const.seed}.mh:22p"><span title="Data saved to the website will automatically overwrite the previous data" id="${e.const.seed}.save.sitedata">Save to website data for ${yt}</span>`,[Yn,Xn]=n?["\u4FDD\u5B58\u5230\u5168\u5C40\u6570\u636E","\u4FDD\u5B58\u5230\u7F51\u7AD9\u6570\u636E"]:["Global Save","Website Save"],[jo,Ko]=n?["\u53D6 \u6D88","\u4FDD\u5B58\u8BBE\u7F6E\u6570\u636E"]:["Cancel","Save Settings Data"];let fn=new me({trueButtonText:Yn,falseButtonText:Xn,neutralButtonText:jo,messageText:Go,titleText:Ko}),[Qt,qe]=[await tt(Ne)];try{qe=Qt?[...r.parse(ye(Qt))]:[]}catch{qe=[]}const mn=y(`#${e.const.seed}\\.sitedatalist`,e.var.dialogIf);mn?.classList.add(qe.length>0?`${e.const.seed}.disp:inline.block`:`${e.const.seed}.disp:none`),mn?.addEventListener("click",()=>void Ys());const So=nn(qe),qn=y(`#${e.const.seed}\\.save\\.sitedata`,e.var.dialogIf);if(~So&&qn){const eo=Hn("yyyy-MM-dd HH:mm:ss",new Date(qe[So].fontDate)),fo=n?`<p class="${e.const.seed}.save:p"><span class="${e.const.seed}.clr:indigo"><strong>\u4E0A\u6B21\u4FDD\u5B58\uFF1A</strong>${eo} </span><button id="${e.const.seed}.del.sitedata" title="\u5220\u9664\u6570\u636E\u540E\u5C06\u5237\u65B0\u9875\u9762">\u5220\u9664\u5F53\u524D\u7F51\u7AD9\u6570\u636E</button></p>`:`<p class="${e.const.seed}.save:p"><span class="${e.const.seed}.clr:indigo"><strong>The last saved</strong>: ${eo} </span><button id="${e.const.seed}.del.sitedata" title="The page will be refreshed after deleting the data">Delete Data</button></p>`;qn.innerHTML=d.createHTML(fo),y(`#${e.const.seed}\\.del\\.sitedata`,e.var.dialogIf)?.addEventListener("click",async()=>{~So&&qe.splice(So,1),fe(Ne,qe);const To=n?`<p class="${e.const.seed}.clr:8b0000">\u5F53\u524D\u7F51\u7AD9\u7684\u4E2A\u6027\u5316\u6570\u636E\u5DF2\u6210\u529F\u5220\u9664\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:8b0000">The current site data was deleted!</p><p>The page will refresh after confirmation.</p>`,[Yo,Xo]=n?["\u611F\u8C22\u4F7F\u7528","\u4E2A\u6027\u5316\u6570\u636E\u5220\u9664"]:["Thanks","Customized Data Deletion"];let Fo=new me({trueButtonText:Yo,messageText:To,titleText:Xo});await Fo.respond()&&je({isReload:!0}),Fo=null})}const Wo={fontSelect:Ke(Se),fontFace:!!ie,fontSmooth:!!ge,fontSize:Number(X),fixViewport:!!be,fontStroke:Number(he),fixStroke:!!Ee,lazyload:!!Le,fontShadow:Number(Re),fixShadow:!!it,renderCanvas:!!wt,shadowColor:Ke(E),fontCSS:Ke(ce),fontEx:Ke(Te)};if(await fn.respond())(e.var.successed=!0)&&fe(we,Wo),Ln!==ut&&(Be.globalDisable=!Ln,fe(_,Be));else{const eo={domain:yt,fontDate:Date.now(),...Wo};Qt=await tt(Ne);try{qe=Qt?[...r.parse(ye(Qt))]:[]}catch{qe=[]}const fo=nn(qe);if(~fo?qe.splice(fo,1,eo):qe.push(eo),qe.length<=_o||~fo)(e.var.successed=!0)&&fe(Ne,qe);else{const To=n?`<p class="${e.const.seed}.clr:808080">\u60A8\u5DF2\u7ECF\u4FDD\u5B58\u8D85\u8FC7<span class="${e.const.seed}.clr:crimson ${e.const.seed}.fw:700 ${e.const.seed}.fst:ita ${e.const.seed}.fs:20p">${_o} </span>\u4E2A\u7F51\u7AD9\u7684\u4E2A\u6027\u5316\u6570\u636E\u4E86\uFF0C\u8FC7\u591A\u7684\u6570\u636E\u4F1A\u4F7F\u811A\u672C\u8FD0\u884C\u901F\u5EA6\u8FC7\u6162\uFF0C\u8FDB\u800C\u4F1A\u5F71\u54CD\u60A8\u6D4F\u89C8\u7F51\u9875\u7684\u54CD\u5E94\u901F\u5EA6\uFF0C\u5EFA\u8BAE\u60A8\u53CA\u65F6\u5220\u9664\u4E00\u4E9B\u5E73\u65F6\u8BBF\u95EE\u8F83\u5C11\u7684\u7AD9\u70B9\u8BBE\u7F6E\uFF0C\u7136\u540E\u518D\u8FDB\u884C\u65B0\u7F51\u7AD9\u8BBE\u7F6E\u7684\u6570\u636E\u4FDD\u5B58\u3002</p><p class="${e.const.seed}.clr:crimson">\u60A8\u786E\u8BA4\u8981\u7EE7\u7EED\u4FDD\u5B58\u5417\uFF1F</p>`:`<p class="${e.const.seed}.clr:808080">You have saved more than <span class="${e.const.seed}.clr:crimson ${e.const.seed}.fw:700 ${e.const.seed}.fst:nml ${e.const.seed}.fs:20p">${_o}</span > Personalized data. Too much data will make script load slowly. It is recommended that you promptly delete some website configure data that you rarely visit. </p><p class="${e.const.seed}.clr:crimson">Are you sure you want to continue saving? </p>`,[Yo,Xo]=n?["\u4F9D\u7136\u4FDD\u5B58","\u7BA1\u7406\u5217\u8868"]:["Still Save","Manage"],[Fo,_r]=n?["\u6211\u653E\u5F03","\u6570\u636E\u8FC7\u591A\u7684\u63D0\u793A"]:["Abort","Too Much Data"];let oa=new me({trueButtonText:Yo,falseButtonText:Xo,neutralButtonText:Fo,messageText:To,titleText:_r});await oa.respond()?(e.var.successed=!0)&&fe(Ne,qe):delete e.var.successed&&await Ys(),oa=null}}fn=null}catch(Go){delete e.var.successed&&K("ControlSubmitButton:",Go.message)}if(!e.var.successed)return;const Xe=n?`<p class="${e.const.seed}.clr:green">\u60A8\u8BBE\u7F6E\u7684\u5B57\u4F53\u6E32\u67D3\u6570\u636E\u5DF2\u6210\u529F\u4FDD\u5B58\uFF01</p><p>\u5F53\u524D\u9875\u9762\u5C06\u5728\u60A8\u786E\u8BA4\u540E\u81EA\u52A8\u5237\u65B0\u3002</p>`:`<p class="${e.const.seed}.clr:green">Font Rendering data saved successfully!</p><p>The page will refresh after confirmation.</p>`,[Vo,ko]=n?["\u611F\u8C22\u4F7F\u7528","\u5B57\u4F53\u6E32\u67D3\u6570\u636E\u4FDD\u5B58"]:["Thanks","Font Rendering Data Save"];let un=new me({trueButtonText:Vo,messageText:Xe,titleText:ko});await un.respond()&&je({isReload:delete e.var.successed}),un=null}})}function j(u,w){!w||!u||(u.classList.add(`${e.const.seed}.disp:inline.block`),u.addEventListener("click",async()=>{try{const T=n?`<p class="${e.const.seed}.clr:green ${e.const.seed}.fw:700">\u5907\u4EFD\u5230\u672C\u5730\u6587\u4EF6\uFF1A</p><p>\u5907\u4EFD\u5230\u672C\u5730\uFF0C\u81EA\u52A8\u4E0B\u8F7D backup.*.sqlitedb \u6587\u4EF6\u3002</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fw:700">\u4ECE\u672C\u5730\u6587\u4EF6\u8FD8\u539F\uFF1A</p><p><span class="${e.const.seed}.clr:indigo ${e.const.seed}.cs:pointer" id="${e.id.tfiles}">\u{1F50E} [\u70B9\u51FB\u8FD9\u91CC\u8F7D\u5165*.sqlitedb\u5907\u4EFD\u6587\u4EF6]</span><input accept=".sqlitedb" type="file" id="${e.id.files}"/></p>`:`<p class="${e.const.seed}.clr:green ${e.const.seed}.fw:700">Backup to local file:</p><p>Backup and download the backup.*.sqlitedb file.</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fw:700">Restore from local file:</p><p><span class="${e.const.seed}.clr:indigo ${e.const.seed}.cs:pointer" id="${e.id.tfiles}">\u{1F50E} [Click here to load *.sqlitedb backup file]</span><input accept=".sqlitedb" type="file" id="${e.id.files}"/></p>`,[$,I]=n?["\u5907 \u4EFD","\u8FD8 \u539F"]:["Backup","Restore"],[R,H]=n?["\u53D6 \u6D88","\u5907\u4EFD\u4E0E\u8FD8\u539F\u6570\u636E"]:["Cancel","Backup and Restore Data"];let B=new me({trueButtonText:$,falseButtonText:I,neutralButtonText:R,messageText:T,titleText:H});const[U,te]=[e.id.tfiles,e.id.files].map(z=>y(`#${z}`,e.var.dialogIf));if(U&&te&&(U.addEventListener("click",()=>void te.click()),te.addEventListener("change",()=>{const z=te.files[0]?`<em class="${e.const.seed}.clr:indigo ${e.const.seed}.fs:11p ${e.const.seed}.wrap.break">${te.files[0].name}</em><br/><span class="${e.const.seed}.clr:crimson"> \u{1F50E} [${n?"\u91CD\u65B0\u9009\u62E9":"Reselect"}]</span>`:`\u{1F50E} [${n?"\u70B9\u51FB\u8FD9\u91CC\u8F7D\u5165*.sqlitedb\u5907\u4EFD\u6587\u4EF6":"Click here to load *.sqlitedb backup file"}]`;U.innerHTML=d.createHTML(z)})),await B.respond()){const z=[we,W,Ne,Qe,no,oo,Z,Oe,Fe,_],ne=await Promise.all(z.map(it=>tt(it))),[de,Y,M,se,ue,ke,Se,ie,ge,pe]=ne,X={db_R:Un()?.keycode?.().concat(Kt(e.var.scriptName)),db_0:Kt(new Date),db_1:de,db_2:Y,db_3:M||Kt(r.stringify([])),db_4:se||Kt(r.stringify([])),db_5:pe,db_6:ue||"",db_7:ke||"",db_8:Se||"",db_9:ie||"",db_10:ge||""},be=`FontRendering-backup-${st.toLowerCase()}-${Hn("yyyy-MM-ddTHH-mm-ssZ",new Date)}.sqlitedb`;Sa(be,Ce.encrypt(r.stringify(X)));const he=n?`<p class="${e.const.seed}.clr:green">\u5907\u4EFD\u6570\u636E\u5DF2\u5F52\u6863\uFF0C\u5907\u4EFD\u6587\u4EF6\u5BFC\u51FA\u4E0B\u8F7D\u4E2D\u2026\u2026</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fst:ita ${e.const.seed}.fs:12p ${e.const.seed}.wrap.break">${be}</p>`:`<p class="${e.const.seed}.clr:green">The data archived and being downloaded\u2026</p><p class="${e.const.seed}.clr:8b0000 ${e.const.seed}.fst:ita ${e.const.seed}.fs:12p ${e.const.seed}.wrap.break">${be}</p>`,[Ee,Le]=n?["\u786E \u5B9A","\u6570\u636E\u5907\u4EFD"]:["OK","Data Backup"];let Re=new me({trueButtonText:Ee,messageText:he,titleText:Le});await Re.respond()&&(ee(`Backup succeeded: ${be}`)??je({isReload:!1})),Re=null}else try{const z=te.files[0];ee("loadBackupData:",z.name,z.size);let ne=new FileReader;ne.addEventListener("load",async function(){try{const de=ye(String(this.result)),Y=r.parse(Ce.decrypt(de)),M=mt();for(let se=1;se<=10;se++){const ue=`db_${se}`;M[ue]=Y[ue]?r.parse(ye(Y[ue])):[3,4].includes(se)?[]:void 0}if(M.db_R=ye(Y.db_R),M.db_0=ye(Y.db_0),!isNaN(Date.parse(M.db_0))&&new Date(M.db_0)<new Date&&Un()?.inspect?.(M.db_R)){(await Qn()).forEach(X=>void Vt(X)),fe(we,M.db_1),fe(W,M.db_2),fe(Ne,M.db_3),fe(Qe,M.db_4),M.db_6&&fe(no,M.db_6),M.db_7&&fe(oo,M.db_7),M.db_8&&fe(Z,M.db_8),M.db_9&&fe(Oe,M.db_9),M.db_10&&fe(Fe,M.db_10),M.db_5?(M.db_5.curVersion=e.var.curVersion,M.db_5.rebuild=void 0,fe(_,M.db_5)):ee("no configure data");let ue=n?`<p class="${e.const.seed}.clr:green">\u672C\u5730\u5907\u4EFD\u6570\u636E\u5DF2\u6210\u529F\u8FD8\u539F\uFF01</p>`:`<p class="${e.const.seed}.clr:green">Local backup data restored Successfully!</p>`;const ke=n?"\u6B63\u5728\u52AA\u529B\u62C9\u53D6\u9884\u5B9A\u4E49\u6E32\u67D3\u6570\u636E\u4E2D\uFF0C\u8BF7\u7A0D\u540E...":"Pulling predefined render data, please wait...";ue+=`<p id="${e.const.seed}.pull.result" class="${e.const.seed}.clr:708090">${ke}</p>`;const[Se,ie]=n?["\u786E \u5B9A","\u6570\u636E\u8FD8\u539F\u5B8C\u6BD5"]:["OK","Data restoration complete"];let ge=new me({trueButtonText:Se,messageText:ue,titleText:ie});ge.trueButton.className=ge.trueButton.setAttribute("disabled","")??`${e.class.dbb} ${e.class.dbbn}`;const pe=y(`#${e.const.seed}\\.pull\\.result`,e.var.dialogIf);pe&&await Ks(pe,ge),ge=null}else throw new Error("Invalid Data Error")}catch(de){K("FileReader.load:",de.message);const Y=n?`<p class="${e.const.seed}.clr:8b0000">\u6570\u636E\u6821\u9A8C\u9519\u8BEF\uFF0C\u8BF7\u9009\u62E9\u6B63\u786E\u7684\u672C\u5730\u5907\u4EFD\u6587\u4EF6\uFF01</p>`:`<p class="${e.const.seed}.clr:8b0000">Data validation error, please recheck the file!</p>`,[M,se]=n?["\u786E \u5B9A","\u6570\u636E\u6587\u4EF6\u9519\u8BEF"]:["OK","Data File Error"];let ue=new me({trueButtonText:M,messageText:Y,titleText:se});await ue.respond()&&y(`#${e.id.backup}`,e.var.configIf)?.click(),ue=null}},!1),ne.readAsText(z),ne=null}catch(z){K("<Load file not exist>",z.name);const ne=n?`<p class="${e.const.seed}.clr:indigo">\u8F7D\u5165\u6587\u4EF6\u4E0D\u5B58\u5728\uFF0C\u8BF7\u9009\u62E9\u8981\u8FD8\u539F\u7684\u5907\u4EFD\u6587\u4EF6\uFF01</p>`:`<p class="${e.const.seed}.clr:indigo">Load file not exist, please select one to restore!</p>`,[de,Y]=n?["\u786E \u5B9A","\u6CA1\u6709\u6587\u4EF6\u8F7D\u5165"]:["OK","No File Loading"];let M=new me({trueButtonText:de,messageText:ne,titleText:Y});await M.respond()&&y(`#${e.id.backup}`,e.var.configIf)?.click(),M=null}B=null}catch(T){K("LoadBackupData:",T.message)}}))}function le(u){u?.addEventListener("click",()=>void je({isReload:!1}))}}async function Mr(){if(!await Hs())return[];const o=await Fn(),t=new hs,a=[];for(const[i,p]of o.entries())!t.detect(p.en)&&!((p.en=kn(p.ch))&&t.detect(p.en))||delete p.ps&&a.push({...p,sort:i+1});return t.destroy(),a.sort((i,p)=>i.sort-p.sort)}async function uo(o,t,a){let i=e.var.reFontFace=a;if(o){e.var.reFontFace=n?`\u672A\u77E5\u5B57\u4F53\u540D\uFF08\u8BF7\u91CD\u65B0\u6DFB\u52A0\u8BE5\u81EA\u5B9A\u4E49\u5B57\u4F53: ${t}\uFF09`:`Unknown (Re-Add Font: ${t})`,i=n?"\u672A\u77E5\u5B57\u4F53\u540D":"Unknown";const S=await Fn();for(const x of S.values())if(!(x.en!==t&&kn(x.ch)!==t)){i=t.includes("\\")?"":` (${x.en})`,e.var.reFontFace=x.ch+i,i=x.ch;break}}const p=y(`#${e.id.fontList} .${e.class.selectFontID} input`,e.var.configIf);p?.setAttribute("placeholder",`${n?"\u5F53\u524D\u5B57\u4F53\uFF1A":"Current: "}${i}`),p?.addEventListener("mouseenter",()=>void p.setAttribute("placeholder",n?"\u8F93\u5165\u5173\u952E\u5B57\u53EF\u68C0\u7D22\u5B57\u4F53":"Enter some keywords")),p?.addEventListener("mouseleave",()=>void p.setAttribute("placeholder",`${n?"\u5F53\u524D\u5B57\u4F53\uFF1A":"Current: "}${i}`))}function je({isReload:o}){me.closure()&&y(`#${e.id.container}`,e.var.configIf)?.classList.remove(`${e.const.seed}.opac:1`),gt(500)(St("fr-colorpicker")).then(t=>t&&St("fr-configure")&&y(`dialog#${e.const.dialog}`)).then(fs),e.array.values.clear(),o?Ro():Bo&&ea()}function jn(o,t,a,i=!1){!o||!t||o.addEventListener("input",()=>{const[p,S]=[Number(o.value),Number(o.value)===Number(i)],x=(Q,ae)=>Q?.classList.toggle(`${e.const.seed}.${ae}`,S);switch(Jt(o,p,a),t.value=S?"OFF":p.toFixed(a),t.dispatchEvent(new Event("change")),o.id){case e.id.shadow:return x(y(`#${e.id.shadowColor}`,e.var.configIf),"disp:none");case e.id.scale:return Zt&&x(y(`#${e.id.fviewport}`,e.var.configIf),"vis:hidden");case e.id.stroke:return Xt&&x(y(`#${e.id.fstroke}`,e.var.configIf),"vis:hidden")}})}function Qs(o,t,a){if(!o||!t||!a)return;const i=o.attributes["fr-button-switch"];o.addEventListener("click",()=>{const p=i.value==="ON";t.classList.toggle(`${e.const.seed}.disp:none`,p),o.textContent=p?"\u2228":"\u2227",a.classList.toggle(`${e.const.seed}.h:35p.mh:35p`,p),i.value=p?"OFF":"ON"})}function rt(o,t,a,i=!1){if(!o||!a)return;const p=Ao({fn:Ir,delay:200}),S=["textarea","hidden"].includes(o.type)?"input":"change";o.addEventListener(S,()=>{const x=o.type==="checkbox"?o.checked:o.value;p(x,t,o,a,i,Bo)})}function Ir(o,t,a,i,p,S){try{const x=typeof o=="string"&&/^currentcolor$/i.test(o)?"#FFFFFFFF":o;(typeof a.dataset.frType<"u"?Number(o==="OFF"?p:o):x)!==t?e.array.values.add(a.id):e.array.values.delete(a.id);const ae=e.array.values.size>0;i.classList.toggle(e.class.anim,ae),S&&(ee(`changed Element IDs:\r
`,e.array.values)||ae?Rr(i):ta({button:i}))}catch(x){K("SetEffectIntoSubmit:",x)}}function ea(){e.array.scaleMatrix.push(e.var.curScale=k.fontSize),e.var.preview&&Uo({Scenes:"recover",Permit:k.o.fixStroke})(),_n(e.var.preview,e.var.topStyle=po)||delete e.var.preview}function ta({button:o,isRestore:t=!0}){o.textContent=n?"\u4FDD\u5B58":t?"Save":"\u{1D47A}\u{1D482}\u{1D497}\u{1D486}",o.classList.remove(`${e.const.seed}.prvw`),o.removeAttribute("v-Preview"),o.removeAttribute("title"),t&&ea()}function Rr(o){o.textContent=n?"\u9884\u89C8":"\u{1D477}\u{1D493}\u{1D497}\u{1D498}",o.title=n?"\u9884\u89C8\u6E32\u67D3\u6548\u679C":"Preview Rendering",o.classList.add(`${e.const.seed}.prvw`),o.setAttribute("v-Preview","true")}function Kn(o){if(!Array.isArray(o))return xe.fontSelect;const t=Ve(o,Boolean,a=>`'${a}'`);return t.length>0?t.join(","):xe.fontSelect}function Wn(o){return $e(o).reduce((t,a)=>{const i=a.charCodeAt(0);return i===12288?t+String.fromCharCode(i-12256):i>=65281&&i<=65374?t+String.fromCharCode(i-65248):t+a},"")}function Dr(o){!Array.isArray(o)||o.length===0||gt(600)(je({isReload:!1})).then(async()=>{if(y("fr-dialogbox[fr-error]"))return;const t=o.map((V,F)=>`${F+1}. ${V}`).join("<br/>"),a=n?`<p class="${e.const.seed}.clr:crimson ${e.const.seed}.fs:14p">\u811A\u672C\u5728\u8FD0\u884C\u65F6\u53D1\u751F\u4E86\u91CD\u5927\u5F02\u5E38\u6216\u9519\u8BEF\uFF0C\u82E5\u5728\u300E\u5237\u65B0\u9875\u9762\u300F\u540E\u4F9D\u7136\u62A5\u9519\uFF0C\u8BF7\u901A\u8FC7\u300E\u53CD\u9988\u95EE\u9898\u300F\u53CA\u65F6\u544A\u77E5\u4F5C\u8005\uFF0C\u611F\u8C22\u60A8\u7684\u53CD\u9988\uFF01<br/><kbd id="${e.const.seed}.kbd">\u4EE5\u4E0B\u4FE1\u606F\u4F1A\u81EA\u52A8\u4FDD\u5B58\u81F3\u60A8\u7684\u526A\u5207\u677F</kbd></p>`:`<p class="${e.const.seed}.clr:crimson ${e.const.seed}.fs:14p">The script is running with a major error, if it still report an error after refreshing, please let the author know, thanks!<br/><kbd id="${e.const.seed}.kbd">The following info is saved to your clipboard</kbd></p>`,i=n?`<li>\u6D4F\u89C8\u5668\u4FE1\u606F\uFF1A${r.stringify(g)}\u3000</li><li>\u811A\u672C\u6269\u5C55\u4FE1\u606F\uFF1A${Dt} v${gn}\u3000</li>`:`<li><b>BrowserInfo:</b> ${r.stringify(g)}\u3000</li><li><b>ScriptManager:</b> ${Dt} v${gn}\u3000</li>`,p=n?`<li>\u811A\u672C\u7248\u672C\u4FE1\u606F\uFF1Av${e.var.curVersion}\u3000</li><li>\u5F53\u524D\u8BBF\u95EE\u57DF\u540D\uFF1A${ns}//${jt}<span hidden> ${xn}</span>\u3000</li>`:`<li><b>ScriptVersion:</b> v${e.var.curVersion}\u3000</li><li><b>DomainName:</b> ${ns}//${jt}<span hidden> ${xn}</span>\u3000</li>`,S=n?`<li>\u9519\u8BEF\u4FE1\u606F\u5217\u8868\uFF1A\u3000<span class="${e.const.seed}.disp:block ${e.const.seed}.clr:tan">${t}</span></li>`:`<li><b>ErrorsList:</b>\u3000<span class="${e.const.seed}.disp:block ${e.const.seed}.clr:tan">${t}</span></li>`,x=`${a}<p><ul id="${e.const.seed}.report:author">${i}${p}${S}</ul></p>`,[Q,ae,ve]=n?["\u53CD\u9988\u95EE\u9898","\u5237\u65B0\u9875\u9762","\u9519\u8BEF\u62A5\u544A"]:["FeedBack","Reload","Error Report"];try{let V=new me({trueButtonText:Q,falseButtonText:ae,messageText:x,titleText:ve});V.container.setAttribute("fr-error",!(e.array.exps.length=0));const F=(G,oe,D)=>oe?`
`:D?" ":`
`,A=(y(`#${e.const.seed}.report:author`,e.var.dialogIf)?.textContent.trim()??"").replace(/(\u3000)|(\u0020+)|((?:\r?\n)+)/g,F);await V.respond()?(en("```log\n"+A+"\n```"),ct(`${e.url.feedback}/new?assignees=F9y4ng&template=bug_report.md`,!1)):Ro(),V=null}catch(V){K("ReportErrorToAuthor:",V.message)}})}function Ar(o){if(!lo||!k.o.renderCanvas||!k.o.fontFace)return;const t=/^((?:[a-z-]+\s)+|[0-9]+\s)?(\d*\.?\d+(?:px|em|pt|%|rem)\s)?(.+)$/i,a=`${k.o.fontSelect},${It.fontBase}`,i=S=>{const x=S?.match(t);return x?`${x[1]??""} ${x[2]??""} ${a}`.trim():S},p=S=>CanvasRenderingContext2D.prototype[S]=function(...x){!this.frFontFace&&this.font&&!this.font.includes(o)&&(this.font=i(this.font),S==="fillText"&&wo>0&&!/(?:bold|[6789]00)\s/i.test(this.font)&&(e.var.fillText.apply(this,x),q.Object.assign(this,{shadowColor:ln(Rn),shadowBlur:wo,shadowOffsetX:0,shadowOffsetY:0}))),e.var[S].apply(this,x)};["fillText","strokeText"].forEach(p)}function Uo({CorrectStyle:o=Fs,Scenes:t,Permit:a}={}){const i=!!ft?.getItem(e.const.flagName),p=!!hn?.getItem(e.const.flagName),S={attributeOldValue:!0,childList:!0,subtree:!0},x={flag:i,nodeCounter:new Map,threshold:250,interval:50},Q=new Set(e.const.queryString.split(",").filter(h=>!h.includes("*"))),[ae,ve]=[re(e.const.boldAttrName,!i),Math.min(navigator.hardwareConcurrency||4,20)],[V,F,A,G]=[new Set,new WeakMap,new RegExp("watermark","i"),`:not(${e.const.queryString})`],oe=Ao({fn:B,delay:50}),D=Ao({fn:ie,delay:16}),L=_t&&!!(t??(lo&&k.o.fixStroke));if(["iframe","preview","recover"].includes(t))return a===!1?e.var.obsCorrect?.disconnect()||t==="recover"&&(o=""):t!=="iframe"&&(e.var.obsCorrect=delete e.var.obsCorrect&&new MutationObserver(U)),L?B:()=>e.var.obsCorrect=null;return e.var.obsCorrect=new MutationObserver(U),it;function O(h,b){const[v,E,ce]=[[b],new Set,new Set];for(;v.length;){const Te=v.pop(),ut=Ze(h,Te).filter(Xe=>!A.test(kt(Xe.className)));Te.nodeType===Node.ELEMENT_NODE&&E.add(Te),ut.forEach(Xe=>E.add(Xe)&&Xe.shadowRoot&&v.push(Xe.shadowRoot)&&ce.add(Xe.shadowRoot))}return{elementSet:E,shadowSet:ce}}function re(h,b){const v=E=>(b&&E.removeAttribute(h),void E.classList.add(h));return{add:E=>void(x.flag?v(E):E.setAttribute(h,"")),del:E=>void(x.flag?E.classList.remove(h):E.removeAttribute(h))}}function j(h,b=[Node.ELEMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE]){return h&&b.includes(h.nodeType)&&!Q.has(At(h))&&!A.test(kt(h.className))}function le(h,b){let v=F.get(h);return(!v||v<600&&b)&&(v=wn(h).fontWeight,F.set(h,v)),v>=600}function u({checkedNode:h,uncheckedNode:b}){const v=h?.node??b,E=h?.isbold??le(b),ce=X(v,!1);if(ce===E)return;const Te=ce?ae.del:ae.add;k.o.lazyload?C[e.const.raf](Te.bind(null,v)):Te(v)}function w(h,b,v,E,ce=0){for(;ce++<=b;){const{done:Te,value:ut}=h.next();if(Te)return void E();v(ut)}Mo.setTimeout(w,0,h,b,v,E)}function T({elementSet:h,recheck:b}){const v=new Set,E=ut=>v.add({node:ut,isbold:le(ut,b)}),ce=()=>v.forEach(ut=>u({checkedNode:ut}))??v.clear(),Te=Math.max(ve*1e3,h.size/2);w(h.values(),Te,E,ce)}function $(h,b){const[v,E]=[new Set(h),new Set(b)];return[...h.filter(ce=>!E.has(ce)),...b.filter(ce=>!v.has(ce))].join()}function I(h,b){const[v,E]=[Ve(b.split(";")),Ve(h.split(";"))],ce=$(v,E);return!/font:|font-weight:/i.test(ce)}function R(h,b){if(!(h instanceof ShadowRoot))return;const v=At(h.host);if(qt(h,Ss+Ua,`${v}-fix-selection`,!1),!L)return;const E=b?`:host(${v}){--fr-fix-stroke:0px transparent;--fr-fix-shadow:${Es}}${b}`:"";qt(h,E,`${v}-fix-boldstroke`)}function H(h,b){V.has(h)||!b||(V.add(h)&&b.observe(h,S),L&&["mouseover","mouseout"].forEach(v=>h.addEventListener(v,ge)))}function B(h,b=document,v=!1){try{let{elementSet:E,shadowSet:ce}=O(G,b);if(!L&&!t||p)return E=ce=null;a!==!1&&T({elementSet:E,recheck:v||a}),ce.forEach(Te=>te(Te,t,a))??ce.clear(),ee(`CorrectBold.stroke.Passive${ht}:`,{eventType:t??h??C.event?.type??"unknown"})}catch(E){K("CorrectBoldPassive:",E)}}function U(h,b){try{if(p)return Re();const v=new Set;b.disconnect(),h.forEach(E=>{if(E.type==="childList")return Y(E,v);L&&E.type==="attributes"&&M(E,v,b)}),ne(v,b),V.forEach(E=>void b.observe(E,S))}catch(v){v.message.includes("callback conflict")&&wt(b),K("FixBoldProcess:",v.message)}}function te(h,b,v){b&&R(h,o),(typeof b>"u"||v)&&H(h,e.var.obsCorrect)}function z(h,b,v){const{elementSet:E,shadowSet:ce}=O(G,h);E.forEach(Te=>b.add(Te)),ce.forEach(Te=>v.add(Te))}function ne(h,b){const v={pendingNodeSet:new Set,pendingShadowSet:new Set,size:h.size},E=Math.min(ve*200,v.size);v.size&&de(h,E,b,v)}function de(h,b,v,{pendingNodeSet:E,pendingShadowSet:ce}){const Te=Xe=>z(Xe,E,ce),ut=()=>{L&&a!==!1&&E.size&&T({elementSet:E,recheck:document.readyState==="complete"}),ce.forEach(Xe=>(R(Xe,o),H(Xe,v)))??ce.clear()};w(h.values(),b,Te,ut)}function Y({target:h,addedNodes:b,removedNodes:v},E){b.forEach(ce=>void(j(ce,[Node.ELEMENT_NODE])&&E.add(ce))),v.forEach(ce=>(he(ce,C.event),void ue(ce))),j(h)&&E.add(h)}function M({target:h,attributeName:b,oldValue:v},E){const ce=Se({target:h,attributeName:b,oldValue:v??""});ce&&ce.newValue!==ce.oldValue&&se(h)&&E.add(h)}function se(h,b=!0){return b&&Ze(G,h).forEach(v=>void F.delete(v)),F.delete(h)||!F.has(h)}function ue(h,b){j(h)&&((b=h.shadowRoot)&&V.delete(b),L&&se(h)&&b&&["mouseover","mouseout"].forEach(v=>void b.removeEventListener(v,ge)))}function ke(h,b,v){return kt(b).includes(v)!==kt(h).includes(v)}function Se({target:h,attributeName:b,oldValue:v,newValue:E=""}){if(b==="style"){if(v=v.replace(/\s/g,""),E=h.style?.cssText?.replace(/\s/g,"")??"",E!==v&&I(E,v))return}else if(b==="class"){if(E=h.className?.baseVal??h.className??"",E!==v&&ke(E,v,e.const.boldAttrName))return}else{if(b===e.const.boldAttrName)return;E=h.getAttribute(b)??""}return{oldValue:v,newValue:E}}function ie(h){const b=h.composedPath()[0]??h.target;if(!j(b,[Node.ELEMENT_NODE]))return;const{transition:v,transitionDelay:E,transitionDuration:ce}=wn(b);if(["all 0s ease 0s","none"].includes(v))return se(b,!1)&&u({uncheckedNode:b});const Te=(parseFloat(E)||0+parseFloat(ce)||0)*1e3;Mo.setTimeout(()=>se(b,!1)&&u({uncheckedNode:b}),Te)}function ge(h){D.setImmediate(h.type==="mouseout"),D(h)}function pe(h){const{isTrusted:b,navigationType:v,type:E}=h??C.event??mt();(b||E)&&oe(v??E)}function X(h,b){return h?.nodeType===Node.ELEMENT_NODE&&(h.matches(An)||b&&y(An,h))}function be(h,b){const{nodeCounter:v,interval:E}=h;v.forEach((ce,Te)=>b-ce.lastTime>=E&&v.delete(Te))}function he(h,b){b instanceof MouseEvent||!j(h,[Node.ELEMENT_NODE])||!X(h,!0)||Ee(h.outerHTML,performance.now())}function Ee(h,b){const v=x.nodeCounter.get(h);if(!v)return x.nodeCounter.set(h,{count:1,lastTime:b});if(b-v.lastTime>=x.interval)be(x,b);else if(++v.count>x.threshold)return Le(h);v.lastTime=b}function Le(h){if(x.flag)return x.nodeCounter.clear(),hn?.setItem(e.const.flagName,12388),Re(h);ot("warn","[Warning]","Potential infinite loop detected, switching to <classList> mode."),ft?.setItem(e.const.flagName,12339),x.flag=!0}function Re(h){throw ot("warn","[Warning]","Callback infinite loop occurred, suspending observer.",{"conflict.content":h??"SessionFlag"}),new Error("Found callback conflict! Try the workaround to enable the 'Lazyload' option.")}function it(h){H(document,h),L&&(Pt.addFinalFn(B,null,document,!0),C.navigation?C.navigation.addEventListener("navigate",pe):["pushState","replaceState"].forEach(b=>C.addEventListener(b,pe)),ee(`CorrectBold.stroke.Active${ht}:`,{eventType:"init"}))}function wt(h){h.disconnect(),C.navigation?C.navigation.removeEventListener("navigate",pe):["pushState","replaceState"].forEach(b=>C.removeEventListener(b,pe)),V.forEach(b=>["mouseover","mouseout"].forEach(v=>b.removeEventListener(v,ge))),delete e.var.obsCorrect&&V.clear()}}function Nr(o){const t=/(\.?\d+(?:\.\d+)?)([dsl]?(?:v[wh]|vmin|vmax))\b(?![\\=/+_-])/g,a=/url\((?![`'"]?(?:([\w.-]+)?#\b|https?:\/\/|data:|\/\/|\/\B))([^)]+)\)/g,i=lo&&Zt&&k.o.fixViewport&&e.var.curScale!==1,p=D=>$e(D.attributes).reduce((L,{name:O,value:re})=>(!["href","rel"].includes(O)&&(L[O]=re),L),{});return i&&(Pt.addFinalFn(S)||ee(`correctUnit.Viewport.Active${ht}:`,{eventType:"init"})),{withPermission:i,correctViewport:S};function S(){return Promise.all([x(),ae()])}async function x(){const D=Ze('link[rel~="stylesheet" i]:not([data-fr-processed])').map(async L=>{const O=L.href||L.dataset.href;L.dataset.frProcessed="ignore",O&&await Q(O.replace(/^http:/,"https:"),L)});await Promise.all(D)}async function Q(D,L){try{const O=await ve(D,L),[re,j]=[L.parentNode??document.head,await F(O,D)];if(!/\/\*# sourceURL=/.test(O)&&!/\/\*# importURL=/.test(j))return;const le={id:m(8),...p(L),type:"text/css","data-href":D,"data-fr-processed":"link"},u=ho(re,"style",{...le,textContent:j});(o&&u&&re.replaceChild(u,L)||u&&St(L))&&ee("Fixed.viewport.Link:",{linkNode:u})}catch(O){K(`applyStyleToOriginLink${ht}:`,O.message)}}async function ae(){const D=Ze("style:not([data-fr-processed]):not(.darkreader)").map(async L=>{if($e(L.attributes,re=>re.name).Some(re=>/^(?:fr|gb)-css-[0-9a-f]{8}$/.test(re)))return;const O=L.textContent?.trim()??"";(!L.hasAttribute("nonce")||document.readyState==="complete")&&(L.dataset.frProcessed="ignore"),await A(L,O)});await Promise.all(D)}async function ve(D,L){try{const O=await fetch(D);if(!O.ok)throw new Error(`Network response was not ok. Status: ${O.status}`);const re=await O.text();return!re||L&&!t.test(re)?re??"":`/*# ${L?"sourceURL":"importURL"}=${D} */\r
${oe(G(re,t,e.var.curScale),D)}`}catch(O){return K(`fetchLinkContent${ht}:`,{url:D,msg:O}),L&&(L.dataset.frProcessed="error"),""}}async function V(D,L,O){const re=$e(D.matchAll(L));if(re.length===0)return D;const j=await Promise.all(re.map(le=>O(le[2]??le[1])));return re.forEach((le,u)=>D=D.replace(le[0],j[u])),D}function F(D,L){return D?V(D,/@import (url\(([^)]+)\)|"([^"]+)")[ \w(),:]*;/g,O=>{const re=new URL(O.replace(/[`'"]/g,""),L).href;return re?ve(re,null):""}):Promise.resolve("")}async function A(D,L){try{if(!L||!t.test(L))return;D.textContent=G(L,t,e.var.curScale),D.dataset.frProcessed=ee("Fixed.viewport.Style:",{styleNode:D})??"style"}catch(O){D.dataset.frProcessed=K("applyStyleToOriginStyle:",O.message)??"error"}}function G(D,L,O){return D.replace(L,function(re,j,le){return String((j/O).toFixed(6))+le})}function oe(D,L){return D.replace(a,(O,re,j)=>{const le=j.replace(/[`'"]/g,""),u=new URL(le,L).href;return O.replace(le,u)})}}function Or({withPermission:o,correctViewport:t}){if(!Ye&&!lo)return;const a=Ao({fn:t,delay:10,immed:!1}),i=(F,A)=>{if(A==="link")return F.getAttribute("rel")?.includes("stylesheet")&&F.getAttribute("href");if(A==="style")return F.id!==e.id.rndStyle&&!F.classList?.contains("darkreader")},p=F=>{$e(F).Some(A=>At(A)==="style"&&A.id===e.id.rndStyle&&!A.dataset.frRemoved)&&Gn({overwrite:!1,shouldNotify:!1})&&Jo(`%c[MO]${ht}[REINSERT]:%c<style> success!`,Sn("#a52a2a"),Tn("#a52a2a"))},S=(F,A,G)=>{if(F===document.documentElement)return ss(F);F===document.head&&p(G),o&&$e(A).Some(oe=>i(oe,At(oe)))&&a()},x=(F,A)=>{const G=(F?.textContent??po).replace(e.const.regexp,`#${A}`);Oo({target:document.head,id:e.id.rndStyle,cssText:G,overwrite:!0})&&Jo(`%c[MO]${ht}[HTML.ID]:%c#${A}`,Sn("#1e90ff"),Tn("#1e90ff"))},Q=(F,A,G)=>{if(F!==document.documentElement)return;const oe=F.id||(F.id=e.const.root);A!==oe&&x(G,oe)},ae=({type:F,target:A,addedNodes:G,removedNodes:oe,oldValue:D},L)=>{F==="childList"?S(A,G,oe):F==="attributes"&&Q(A,D,L)},ve=F=>{e.var.mainStyle=e.var.mainStyle??Io({primary:!0}),F.forEach(A=>void ae(A,e.var.mainStyle)),e.var.mainStyle||Gn()},V=new MutationObserver(ve);lt.getNodeAndObserve().then(F=>F.get()&&Gn()),V.observe(document,{childList:!0,subtree:!0,attributeOldValue:!0,attributeFilter:["id"]})}function zr(){(!at||Dt==="Userscripts")&&gr();const o=({type:i,target:p,addedNodes:S,attributeName:x})=>{if(i!=="childList"&&i!=="attributes")return;const Q=$e(S).filter(ae=>At(ae)==="iframe");(Q.length||x&&At(p)==="iframe"&&(p.src||p.srcdoc))&&zn({condition:i,nodeArray:Q.length?Q:[p]})},t=({mutations:i})=>document.readyState==="complete"&&i.forEach(o),a={childList:!0,subtree:!0,attributeFilter:["src","srcdoc","style"]};Ye&&bt.getNodeAndObserve({callback:t,config:a})}(async function(o,t){Ye&&(await wr(Zn)&&yr(e.var.versionStatus),await uo(k.fontFace,io,vo),Ns.system(),Ns.compat(zt),Tr(t)),Or(Nr(o)),Uo()(e.var.obsCorrect),Er(),Ar(io),lo&&Pt.addFn(zr),Pt.addFinalFn(zn,{condition:"DOMLoaded"})})(((o,t)=>{const a=Nt(o,Je("style",{id:"\u{1D68C}\u{1D69C}\u{1D699}.\u{1D69D}e\u{1D69C}\u{1D69D}",type:"text/css",textContent:"test { color: #000; }"}));return t=a.sheet?.cssRules?.length>0,St(a)&&t})(document.documentElement,null),(o=>{if(!(!Ye||kt(es)==="() => {}"))return Gt(`\uFFF0\u{1F552} ${o}`,Ro)})(n?"\u6B63\u5728\u8F7D\u5165\u811A\u672C\u83DC\u5355\uFF0C\u8BF7\u7A0D\u5019\u2026":"Loading menus, please wait..."))})(()=>{const c=n?"\u91CD\u65B0\u5B89\u88C5\u6B63\u7248\u811A\u672C \u{1F534}":"Reinstall the genuine script \u{1F534}";return{callback:f=>Gt(`\uFFF0\u{1F534} ${c}`,()=>void ct(f))&&ot("error",`${c} ${e.var.scriptName} ${f}`),code:ye("JUU4JUFBJUIxSlZpWSVFNyU5MCU4OSVFNiU5RiU5MyVFNSVBRCVCQSVFOCU4MiVCQXAyTyVFNiU5MyU5MzAlRTglODUlOTF0JUU1JUIyJTgwJUU1JUFFJTlBJUU4JTg2JUJBZQ==")}},async(c,s)=>{const l=await tt(_);if(!l)fe(_,s=ls);else{try{c=r.parse(ye(l))}catch(f){c=(e.var.structureError=K("Config.JSON.parse:",f.message)??!0)&&mt()}s={...ls,...c}}return e.var.versionStatus=s.curVersion,s},async()=>{let[c,s,l]=await Promise.all([oo,no,Z].map(f=>tt(f)));try{c=c?[...r.parse(ye(c))]:[]}catch(f){c=K("Monospaced_siteRules.Array.parse:",f.message)??[]}try{s=s?Ke(r.parse(ye(s))):""}catch(f){s=K("Monospaced_Fontlist.String.parse:",f.message)??""}try{l=l?Ke(r.parse(ye(l))):""}catch(f){l=K("Monospaced_Feature.String.parse:",f.message)??""}return{monoSiteRules:c,monoFontList:s,monoFeature:l}},async c=>{const s=c=["127.0.0.1","localhost"];try{const l=await tt(W);l?c=r.parse(ye(l)):fe(W,s)}catch(l){e.var.structureError=K("ExSite.JSON.parse:",l.message)??!0}return{exSite:$e(c),exSitesIndex:Fa(c)}},async(c,s)=>{let l,f,N,J;const Me={...xe,isEditorBlock:Ca(It.editorialSiteList)};try{const[Ae,Tt,Bt]=await Promise.all([Ne,we,P].map(zo=>tt(zo)));Ae?(f=$e(r.parse(ye(Ae))),N=nn(f),q.Object.assign(e.var,{domainCount:f.length,domainIndex:N}),l=~N?{...Me,...f[N]}:null):fe(Ne,[]),Tt?J={...Me,...r.parse(ye(Tt))}:fe(we,xe);const Ce=l||J||Me,Pt={fontSelect:Ke(Ce.fontSelect),fontFace:!!Ce.fontFace,fontSmooth:!!Ce.fontSmooth,fontSize:c&&!Ce.isEditorBlock?Number(Ce.fontSize):Me.fontSize,fixViewport:c&&s&&!Ce.isEditorBlock&&!!Ce.fixViewport,fontStroke:Number(Ce.fontStroke)||0,fixStroke:!!(_t&&Ce.fontStroke&&Ce.fixStroke),lazyload:!!(Ce.lazyload&&Ce.fixStroke),fontShadow:Number(Ce.fontShadow)||0,fixShadow:!!(Mt&&Ce.fixStroke&&Ce.fontShadow&&Ce.fixShadow),renderCanvas:!at&&Ce.fontFace&&!!Ce.renderCanvas,shadowColor:Ke(Ce.shadowColor)||Me.shadowColor,fontCSS:Ke(Ce.fontCSS)||Me.fontCSS,fontEx:Ke(Ce.fontEx)||"",isEditorBlock:Ce.isEditorBlock};return{o:await Ma(Bt,q.Object.assign({},Pt)),...Pt}}catch(Ae){return e.var.structureError=!0,K("FontData.JSON.Parsing:",Ae.message),Me}},async()=>{const c={".smzdm.com":{Element:["clientWidth"]},".bilibili.com":{Element:["scrollHeight"],HTMLElement:["offsetHeight"]},"www.ithome.com":{Element:["scrollHeight"]}};try{const s=await tt(Oe);if(!s)return c;const l=r.parse(ye(s));if(mo.call(l)==="[object Object]"&&Object.keys(l).length>0)return l}catch(s){K("FontScaleDef.JSON.parse:",s.message)}return fe(Oe,c),c},async()=>{const s="Arial,Helvetica,Helvetica Neue,Verdana,Georgia,Tahoma,Noto Sans,Open Sans,Segoe UI,Roboto,RobotoDraft,Ubuntu,SimSun,NSimSun,SimHei,FangSong,KaiTi,MingLiU,PMingLiU,PingFangSC-Regular,PingFangSC-Medium,PingFangSC-Semibold,PingFangHK-Regular,PingFangHK-Medium,Microsoft YaHei,SF Pro SC,HanHei SC,{\u5B8B\u4F53},{\u6977\u4F53},{\u4EFF\u5B8B},{\u9ED1\u4F53},{\u5FAE\u8F6F\u96C5\u9ED1},{\u5FAE\u8EDF\u6B63\u9ED1\u9AD4}".split(",").sort();try{const l=await tt(Fe),f=l?r.parse(ye(l)):s;if(Array.isArray(f)&&f.length>0)return f}catch(l){K("FontOverrideDef.JSON.parse:",l.message)}return fe(Fe,s),s},async()=>{try{const c=await tt(Wt),s=c?r.parse(ye(c)):mt();return{fontFeature:Ke(s.feature),fontVariant:Ke(s.variant)}}catch{return{fontFeature:null,fontVariant:null}}})})(da(),q.JSON.parse?q.JSON:C.JSON.parse?C.JSON:JSON,null)},C=>Object.entries({Remove(q){for(let He=0;He<this.length;He++)if(this[He]===q)return this.splice(He,1)},Some(q,He=this){for(let Pe=0;Pe<this.length;Pe++)if(q.call(He,this[Pe],Pe,this))return!0},Find(q,He=this){for(let Pe=0;Pe<this.length;Pe++)if(q.call(He,this[Pe],Pe,this))return this[Pe]},FindIndex(q,He=this){for(let Pe=0;Pe<this.length;Pe++)if(q.call(He,this[Pe],Pe,this))return Pe;return-1}}).forEach(([q,He])=>!Reflect.getOwnPropertyDescriptor(C,q)&&Reflect.defineProperty(C,q,{value:He.bind(C),writable:!1,configurable:!1,enumerable:!1}))??C,((C,q=[..."Sw\u{1D684}p2jn\u{1D67A}\u{1D693}E\u{1D6A3}R\u{1D68E}CxT\u{1D68A}JaU\u{1D692}b\u{1D6A1}\u{1D695}ZG5\u{1D69C}v9I\u{1D6A0}D1Fiqz\u{1D68C}ef0\u{1D68B}V\u{1D69B}B8W\u{1D69F}y\u{1D685}\u{1D681}dO\u{1D691}K\u{1D698}Lrk\u{1D690}N\u{1D677}3PAX\u{1D6A2}Yc\u{1D676}\u{1D682}\u{1D699}\u{1D696}6\u{1D694}H\u{1D697}\u{1D686}us\u{1D687}m\u{1D68F}7g\u{1D674}\u{1D68D}t\u{1D67D}l\u{1D672}\u{1D69A}o\u{1D69D}4Q\u{1D69E}hM"])=>{const He=C.Object.create.bind(null,null),Pe=Rt=>{const Ft=C.history[Rt];return function(){return C.dispatchEvent(new CustomEvent(Rt,{detail:[...arguments]})),Ft.apply(this,arguments)}},Ut=Rt=>{try{return C.addEventListener("error",Ft=>Ft.message.includes("SecurityError")&&Ft.preventDefault(),{once:!0}),C[Rt].setItem("__fr_storage_test__",!0),C[Rt].removeItem("__fr_storage_test__"),C[Rt]}catch{return null}};return{oC:He,mS:q,eH:Pe,lS:Ut("localStorage"),sS:Ut("sessionStorage")}})(typeof window<"u"?window:this));
