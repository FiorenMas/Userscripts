// ==UserScript==
// @name         Quillbot Premium Unlocker
// @namespace    quillbot.taozhiyu.gitee.io
// @version      1.0.0
// @author       longkidkoolstar
// @match        https://quillbot.com/*
// @icon         https://quillbot.com/favicon.png
// @require      https://greasyfork.org/scripts/455943-ajaxhooker/code/ajaxHooker.js?version=1124435
// @run-at       document-start
// @grant        GM_setValue
// @grant        GM_getValue
// @license      none
// @downloadURL https://raw.githubusercontent.com/FiorenMas/Userscripts/release/release/Quillbot20Premium20Unlocker.user.js
// @updateURL https://raw.githubusercontent.com/FiorenMas/Userscripts/release/release/Quillbot20Premium20Unlocker.meta.js
// ==/UserScript==
(function(){"use strict";const r={debug:!1,notificationDuration:5e3,theme:{primary:"#4CAF50",text:"#333333",background:"#f9f9f9",shadow:"0 2px 5px rgba(0, 0, 0, 0.1)"},premiumFeatures:["Word Count Limit","Premium Modes","Grammar Checker","Premium Synonyms","Sentence Rephraser"]},n={log:e=>r.debug&&console.log(`[QuillbotUnlocker] ${e}`),success:e=>r.debug&&console.log(`[QuillbotUnlocker] %c${e}`,"color: green"),error:(e,t)=>r.debug&&console.error(`[QuillbotUnlocker] ${e}`,t)},p={init:()=>{try{ajaxHooker.hook(e=>{e.url.endsWith("get-account-details")&&(n.log("Intercepting account details request"),e.response=t=>{try{const i=JSON.parse(t.responseText),o="data"in i?i.data:i;if(o.profile.accepted_premium_modes_tnc=!0,o.profile.premium=!0,o.profile.client_type="premium",o.profile.premium_tier="premium_plus",o.limits){const l={limit:25e4,premium_limit:25e4,used:0};o.limits.paraphrase={...o.limits.paraphrase,...l},o.limits.grammar={...o.limits.grammar,...l},o.limits.cowrite={...o.limits.cowrite||{},...l},o.limits.summarizer={...o.limits.summarizer||{},...l}}o.user&&(o.user.subscription={type:"premium_plus",status:"active"}),t.responseText=JSON.stringify("data"in i?(i.data=o,i):o),n.success("Premium status enabled successfully"),c.showStatusNotification("Premium features unlocked successfully!")}catch(i){n.error("Error processing account details response",i),c.showStatusNotification("Error unlocking premium features")}}),(e.url.includes("/billing/")||e.url.includes("/subscription/")||e.url.includes("/premium-access"))&&(n.log("Intercepting premium endpoint request"),e.response=t=>{try{t.responseText=JSON.stringify({success:!0,data:{has_premium_access:!0,status:"active",tier:"premium_plus"}}),n.success("Premium access granted successfully")}catch(i){n.error("Error processing premium endpoint response",i)}})}),n.success("API interceptors initialized")}catch(e){n.error("Failed to initialize API interceptors",e),c.showStatusNotification("Failed to initialize premium unlocker")}}},c={showStatusNotification:e=>{if(document.body){const t=document.createElement("div");t.style.position="fixed",t.style.bottom="20px",t.style.right="20px",t.style.padding="10px 15px",t.style.backgroundColor=r.theme.background,t.style.color=r.theme.text,t.style.border="1px solid #ccc",t.style.borderLeft=`4px solid ${r.theme.primary}`,t.style.borderRadius="4px",t.style.boxShadow=r.theme.shadow,t.style.fontFamily="Arial, sans-serif",t.style.fontSize="14px",t.style.zIndex="10000",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},r.notificationDuration)}},showInfoPopup:()=>{const e=document.createElement("div");e.style.position="fixed",e.style.bottom="20px",e.style.right="20px",e.style.padding="15px",e.style.backgroundColor=r.theme.background,e.style.boxShadow=r.theme.shadow,e.style.border="1px solid #ccc",e.style.borderRadius="8px",e.style.zIndex="10000",e.style.fontFamily="Arial, sans-serif",e.style.color=r.theme.text,e.style.width="280px";const t=document.createElement("h3");t.textContent="Quillbot Premium Unlocker",t.style.margin="0 0 10px",t.style.color=r.theme.primary,t.style.fontSize="16px";const i=document.createElement("p");i.textContent="Unlocked features:",i.style.margin="10px 0 5px",i.style.fontWeight="bold";const o=document.createElement("ul");o.style.margin="0 0 15px",o.style.paddingLeft="20px",r.premiumFeatures.forEach(m=>{const d=document.createElement("li");d.textContent=m,d.style.margin="3px 0",o.appendChild(d)});const l=document.createElement("p");l.textContent="Join our Discord community for support and additional resources:",l.style.margin="10px 0 5px",l.style.fontSize="13px";const a=document.createElement("a");a.href="https://discord.gg/JrweGzdjwA",a.textContent="Join Discord",a.style.color="#0366d6",a.style.textDecoration="none",a.target="_blank",a.style.display="inline-block",a.style.marginTop="5px";const s=document.createElement("button");s.textContent="\xD7",s.style.position="absolute",s.style.top="5px",s.style.right="5px",s.style.background="none",s.style.border="none",s.style.cursor="pointer",s.style.fontSize="18px",s.style.color="#666",s.addEventListener("click",()=>{e.parentNode&&document.body.removeChild(e)}),e.appendChild(t),e.appendChild(i),e.appendChild(o),e.appendChild(l),e.appendChild(a),e.appendChild(s),document.body.appendChild(e),setTimeout(()=>{e.parentNode&&document.body.removeChild(e)},15e3)}};(function(){p.init(),window.addEventListener("load",()=>{setTimeout(()=>{c.showInfoPopup()},2e3)}),n.log("Quillbot Premium Unlocker initialized")})()})();
