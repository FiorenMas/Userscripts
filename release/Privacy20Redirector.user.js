// ==UserScript==
// @name Privacy Redirector
// @namespace https://github.com/dybdeskarphet/privacy-redirector
// @author Ahmet Arda KavakcÄ±
// @license GPLv3
// @version 1.6.2
// @downloadURL
// https://raw.githubusercontent.com/dybdeskarphet/privacy-redirector/main/privacy-redirector.user.js
// @supportURL https://github.com/dybdeskarphet/privacy-redirector
// @updateURL
// https://raw.githubusercontent.com/dybdeskarphet/privacy-redirector/main/privacy-redirector.user.js
// @run-at document-start
// @match *://*.bandcamp.com/*
// @match *://*.fandom.com/*
// @match *://*.genius.com/*
// @match *://*.google.com/*
// @match *://*.imdb.com/*
// @match *://*.imgur.com/*
// @match *://*.imgur.io/*
// @match *://*.instagram.com/*
// @match *://*.medium.com/*
// @match *://*.pinterest.com/*
// @match *://*.quora.com/*
// @match *://*.reddit.com/*
// @match *://*.reuters.com/*
// @match *://*.soundcloud.com/*
// @match *://*.tiktok.com/*
// @match *://*.twitch.tv/*
// @match *://*.deepl.com/*
// @match *://*.deviantart.com/*
// @match *://twitch.tv/*
// @match *://*.twitter.com/*
// @match *://*.x.com/*
// @match *://*.tumblr.com/*
// @match *://x.com/*
// @match *://*.wikipedia.org/*
// @match *://*.youtube-nocookie.com/*
// @match *://*.youtube.com/*
// @match *://f4.bcbits.com/*
// @match *://genius.com/*
// @match *://i.pinimg.com/*
// @match *://imgur.com/*
// @match *://instagram.com/*
// @match *://medium.com/*
// @match *://news.ycombinator.com/*
// @match *://reddit.com/*
// @match *://stackoverflow.com/*
// @match *://t4.bcbits.com/*
// @match *://translate.google.com/*
// @match *://twitter.com/*
// @match *://www.goodreads.com/*
// @match *://www.pixiv.net/*
// @match *://youtube.com/*
// @exclude *://*.youtube.com/redirect*
// @exclude *://youtube.com/redirect*
// @downloadURL https://raw.githubusercontent.com/FiorenMas/Userscripts/release/release/Privacy20Redirector.user.js
// @updateURL https://raw.githubusercontent.com/FiorenMas/Userscripts/release/release/Privacy20Redirector.meta.js
// ==/UserScript==
let bandcamp=[!0,!0],deepl=[!1,!0],deviantart=[!0,!1],fandom=[!0,!0],genius=[!0,!0],goodreads=[!0,!1],google=[!0,!0],gtranslate=[!0,!0],hackernews=[!0,!0],imdb=[!0,!0],imgur=[!0,!1],instagram=[!0,!0],medium=[!0,!0],pinterest=[!0,!0],pixiv=[!0,!0],quora=[!0,!1],reddit=[!0,!1],reuters=[!0,!0],soundcloud=[!0,!0],stackoverflow=[!0,!0],tiktok=[!0,!1],tumblr=[!0,!1],twitch=[!0,!0],twitter=[!0,!0],wikipedia=[!0,!1],youtube=[!0,!1],youtubeFrontend="freetube",youtubeMusicFrontend="hyperpipe",redditFrontend="libreddit",googleFrontend="librey",googleTranslateFrontend="mozhi",geniusFrontend="intellectual",mediumFrontend="scribe",hackernewsFrontend="better",keepHistory=!1;const Instances={anonymousoverflow:["code.whatever.social","ao.vern.cc","overflow.smnz.de","overflow.lunar.icu","overflow.adminforge.de","overflow.projectsegfau.lt","ao.bloat.cat","overflow.ducks.party","ao.owo.si","overflow.freedit.eu","ao.rootdo.org","a.opnxng.com","overflow.einfachzocken.eu","exchange.seitan-ayoub.lol","overflow.r4fo.com"],hyperpipe:["hyperpipe.surge.sh","hyperpipe.onrender.com","music.adminforge.de","music.pfcd.me","hyperpipe.projectsegfau.lt","hp.ggtyler.dev","hyperpipe.lunar.icu","music.seitan-ayoub.lol"],proxigram:["proxigram.protokolla.fi","proxigram.kyun.li","proxigram.lunar.icu","ig.opnxng.com"],biblioreads:["biblioreads.eu.org","biblioreads.vercel.app","biblioreads.mooo.com","bl.vern.cc","biblioreads.lunar.icu","read.seitan-ayoub.lol"],binternet:["binternet.ahwx.org","bn.bloat.cat","bn.opnxng.com","bn.vern.cc"],breezewiki:["breezewiki.com","antifandom.com","breezewiki.pussthecat.org","bw.hamstro.dev","bw.projectsegfau.lt","breeze.hostux.net","bw.artemislena.eu","breezewiki.woodland.cafe","breeze.nohost.network","z.opnxng.com","breezewiki.catsarch.com","breeze.mint.lgbt","breezewiki.lunar.icu","fandom.adminforge.de"],dumb:["dumb.privacydev.net","db.vern.cc","sing.whatever.social","dumb.lunar.icu"],intellectual:["intellectual.insprill.net","in.bloat.cat","in2.bloat.cat","intellectual.lumaeris.com"],invidious:["yewtu.be","vid.puffyan.us","yt.artemislena.eu","invidious.flokinet.to","invidious.projectsegfau.lt","invidious.privacydev.net","iv.ggtyler.dev","invidious.lunar.icu","inv.tux.pizza","invidious.protokolla.fi","proxied.invidious.fi","onion.tube","invidious.no-logs.com","invidious.io.lol","iv.nboeck.de","invidious.private.coffee","invidious.asir.dev","iv.datura.network","invidious.perennialte.ch","yt.cdaut.de","invidious.einfachzocken.eu","yt.drgnz.club"],piped:["piped.video","cf.piped.video","fl.piped.video","do.piped.video","az.piped.video","piped.mha.fi","watch.leptons.xyz","piped.lunar.icu","piped.r4fo.com","piped.privacydev.net","piped.smnz.de","piped.adminforge.de","piped.astartes.nl","piped.osphost.fi","pi.ggtyler.dev","piped.seitan-ayoub.lol","yt.owo.si","piped.minionflo.net"],libmedium:["libmedium.batsense.net","md.vern.cc","medium.hostux.net","libmedium.ducks.party"],libreddit:["redditor.fly.dev","libreddit.kavin.rocks","libreddit.northboot.xyz","libreddit.kylrth.com","libreddit.tiekoetter.com","l.opnxng.com","libreddit.projectsegfau.lt","libreddit.privacydev.net","libreddit.freedit.eu","libreddit.mha.fi","lr.artemislena.eu","libreddit.nohost.network","libreddit.lunar.icu","snoo.habedieeh.re","libreddit.tux.pizza","libreddit.perennialte.ch","libreddit.private.coffee","lr.seitan-ayoub.lol","l.bloat.cat"],libremdb:["libremdb.iket.me","libremdb.pussthecat.org","ld.vern.cc","binge.whatever.social","libremdb.lunar.icu","libremdb.jeikobu.net","libremdb.nerdyfam.tech","libremdb.tux.pizza","d.opnxng.com","libremdb.catsarch.com"],librey:["search.ahwx.org","ly.owo.si","librey.danyaal.xyz","librey.org","search.davidovski.xyz","search.funami.tech","librex.nohost.network","search.pabloferreiro.es","librey.baczek.me","search.seitan-ayoub.lol"],lingva:["lingva.ml","lingva.thedaviddelta.com","lingva.retiolus.net","translate.plausibility.cloud","lingva.lunar.icu","lingva.garudalinux.org","lingva.seitan-ayoub.lol"],mediumrip:["medium.rip"],neuters:["neuters.de","nu.vern.cc"],nitter:["nitter.net","nitter.unixfox.eu","nitter.poast.org","nitter.privacydev.net","nitter.projectsegfau.lt","nitter.soopy.moe","nitter.rawbit.ninja","nitter.freedit.eu","nitter.nohost.network","nitter.io.lol","nitter.woodland.cafe","nitter.perennialte.ch","nitter.salastil.com","n.opnxng.com","nitter.ktachibana.party"],pixivfe:["pixivfe.drgns.space","pixivfe.ducks.party","pixiv.perennialte.ch"],proxitok:["proxitok.pabloferreiro.es","proxitok.pussthecat.org","tok.habedieeh.re","proxitok.privacydev.net","tok.artemislena.eu","tok.adminforge.de","cringe.whatever.social","proxitok.lunar.icu","proxitok.privacy.com.de","cringe.seitan-ayoub.lol","tt.opnxng.com","tiktok.wpme.pl"],quetre:["quetre.iket.me","qr.vern.cc","quetre.pussthecat.org","quetre.privacydev.net","ask.habedieeh.re","quetre.blackdrgn.nl","quetre.lunar.icu","q.opnxng.com","quetre.rootdo.org","quora.seitan-ayoub.lol","ask.sudovanilla.org","quetre.smnz.de"],rimgo:["rimgo.totaldarkness.net","imgur.artemislena.eu","rimgo.lunar.icu","imgur.010032.xyz","rimgo.kling.gg","rimgo.projectsegfau.lt","rimgo.nohost.network","rimgo.catsarch.com","rimgo.quantenzitrone.eu"],scribe:["scribe.rip","scribe.citizen4.eu","scribe.nixnet.services","scribe.privacyredirect.com","scribe.projectsegfau.lt","scribe.rawbit.ninja","m.opnxng.com"],teddit:["i.opnxng.com","teddit.net","teddit.rawbit.ninja","teddit.pussthecat.org","teddit.zaggy.nl","t.sneed.network","td.vern.cc"],tent:["tent.sny.sh","tent.bloat.cat","tn.vern.cc"],tubo:["tubo.media","tubo.reallyaweso.me","tubo.ducks.party"],wikiless:["wikiless.tiekoetter.com","wikiless.funami.tech","wl.vern.cc","wiki.froth.zone","wikiless.northboot.xyz","wikiless.rawbit.ninja","wiki.adminforge.de","wikiless.rootdo.org","w.sneed.network","wikiless.r4fo.com","wiki.seitan-ayoub.lol","wikiless.ditatompel.com"],safetwitch:["safetwitch.drgns.space","safetwitch.projectsegfau.lt","safetwitch.datura.network","ttv.vern.cc","twitch.seitan-ayoub.lol","st.ggtyler.dev","safetwitch.lunar.icu","safetwitch.r4fo.com","safetwitch.ducks.party","safetwitch.nogafam.fr","safetwitch.privacyredirect.com"],searx:["searx.gnu.style","searx.nixnet.services","search.projectsegfau.lt","searx.roflcopter.fr","northboot.xyz","opnxng.com"],searxng:["search.sapti.me","priv.au","search.demoniak.ch","www.gruble.de","searx.divided-by-zero.eu","xo.wtf","freesearch.club","baresearch.org","searx.perennialte.ch","searx.techsaviours.org","search.mdosch.de","searx.si","searx.namejeff.xyz","search.ononoki.org","etsi.me","searx.work","search.smnz.de","searx.prvcy.eu","searx.headpat.exchange"],hackernews:{better:"better-hackernews.vercel.app",worker:"news.workers.tools"},mozhi:["mozhi.aryak.me","nyc1.mz.ggtyler.dev","translate.projectsegfau.lt","translate.nerdvpn.de","mozhi.ducks.party","mozhi.pussthecat.org","mozhi.adminforge.de","translate.privacyredirect.com","mozhi.canine.tools","mozhi.gitro.xyz"],skunkyart:["art.bloat.cat","skunky.bloat.cat","lost-skunk.cc/skunkyart","skunkyart.lumaeris.com"],priviblur:["pb.bloat.cat","tb.opnxng.com","priviblur.pussthecat.org","priviblur.thebunny.zone","priviblur.gitro.xyz","priviblur.canine.tools"]};let farsideInstance=keepHistory?"farside.link/_":"farside.link";const hash=window.location.hash,scheme=`${window.location.protocol}//`;let debug_mode=!1;debug_mode&&alert(`
== DEBUG MODE IS ON ==
If you're seeing this
set the debug_mode value to
false for Privacy Redirector.
======================

Hostname: `+window.location.hostname+`
Path: `+window.location.pathname+`
Query: `+window.location.search+`
Hash: `+hash);let selectedInstance="",newURL="";const getrandom=async e=>e[Math.floor(Math.random()*e.length)];async function redirectInstagram(){if(instagram[0]){window.stop();let e=window.location.pathname,t=window.location.search,i=new URLSearchParams(t);switch(selectedInstance=await getrandom(Instances.proxigram),!0){case e.startsWith("/accounts/login/"):case e.startsWith("/accounts/signup/"):e=e.replace(/^\/accounts\/(login|signup)\/[a-z]*/,""),i.delete("next"),t=i.size?`?${i}`:"";break;case e.startsWith("/reel/"):case e.startsWith("/tv/"):e=e.replace(/^\/(reel|tv)\//,"/p/");break;case e.endsWith("/reels/"):e=e.replace("/reels","");break}newURL=`${scheme}${selectedInstance}${e}${t}${hash}`,window.location.replace(newURL)}}async function redirectTwitter(){if(twitter[0]){window.stop();const e=window.location.pathname;let t=`${e}${window.location.search}`;selectedInstance=twitter[1]?`${farsideInstance}/nitter`:await getrandom(Instances.nitter),e==="/i/flow/login"&&(t=t.replace("/i/flow/login?redirect_after_login=","")),t.includes("%")&&(t=decodeURIComponent(t)),newURL=`${scheme}${selectedInstance}${t}${hash}`,window.location.replace(newURL)}}async function redirectReddit(){if(reddit[0]&&!window.location.pathname.startsWith("/domain")){window.stop();let e=window.location.pathname,t=window.location.search;if(selectedInstance=reddit[1]?`${farsideInstance}/${redditFrontend}`:await getrandom(Instances[redditFrontend]),e==="/media"&&t){const i=new URLSearchParams(t),a=new URL(i.get("url"));["i.redd.it","preview.redd.it"].includes(a.hostname)&&(e=`/img${a.pathname}`,t=a.search)}newURL=`${scheme}${selectedInstance}${e}${t}${hash}`,window.location.replace(newURL)}}async function redirectYoutube(e){if(youtube[0]){window.stop();let t=`${window.location.pathname}${window.location.search}`;if(window.location.pathname.startsWith("/embed"))selectedInstance=youtube[1]?`${farsideInstance}/invidious`:await getrandom(Instances.invidious),newURL=`${scheme}${selectedInstance}${window.location.pathname}${window.location.search}${hash}`,window.location.replace(newURL);else{if(e==="tubo")selectedInstance=await getrandom(Instances.tubo),t=`/stream?url=${window.location.href}`,(window.location.pathname.startsWith("/@")||window.location.pathname.startsWith("/channel"))&&(t=`/channel?url=${window.location.href}`);else if(e==="freetube"){let i=window.location.href;window.location.replace(`freetube://${i}`);return}else selectedInstance=youtube[1]&&e!=="hyperpipe"?`${farsideInstance}/${e}`:await getrandom(Instances[e]);newURL=`${scheme}${selectedInstance}${t}${hash}`,window.location.replace(newURL)}}}async function redirectTiktok(){if(tiktok[0]){window.stop();let e=window.location.pathname;selectedInstance=tiktok[1]?`${farsideInstance}/proxitok`:await getrandom(Instances.proxitok),await Promise.any([["/@/","/@placeholder/"],["/discover/","/tag/"],["/foryou","/trending"]].map(async([t,i])=>{e.startsWith(t)&&(e=e.replace(t,i))})),newURL=`${scheme}${selectedInstance}${e}${window.location.search}${hash}`,window.location.replace(newURL)}}async function redirectImgur(){imgur[0]&&(window.stop(),selectedInstance=imgur[1]?`${farsideInstance}/rimgo`:await getrandom(Instances.rimgo),newURL=`${scheme}${selectedInstance}${window.location.pathname}${window.location.search}${hash}`,window.location.replace(newURL))}async function redirectMedium(e){if(medium[0]){let t=window.location.pathname;const i=`${window.location.hostname}${t}`;if((/^.+?\.medium\.com\/.+/.test(i)||/^\/@?[^\/]+?\//.test(t)||i==="medium.com/")&&!(/^\/(tag|m|hc)\//.test(t)||/\/(about|followers|following)/.test(t))){window.stop(),selectedInstance=medium[1]&&e==="scribe"?`${farsideInstance}/scribe`:await getrandom(Instances[e]);const a=window.location.hostname.replace(/\.?medium\.com/,"");a&&(t=`/${a}${t}`),newURL=`${scheme}${selectedInstance}${t}${window.location.search}${hash}`,window.location.replace(newURL)}}}async function redirectHackerNews(){if(hackernews[0]){let e=window.location.pathname;["/newest","/item","/user","/ask","/show","/jobs","/"].includes(e)?(hackernewsFrontend==="better"&&window.location.pathname==="/newest"&&(e="/new"),selectedInstance=Instances.hackernews[hackernewsFrontend]):["/best","/news","/submitted","/threads","/classic"].includes(e)&&(selectedInstance=Instances.hackernews.worker),selectedInstance&&(window.stop(),newURL=`${scheme}${selectedInstance}${e}${window.location.search}`,window.location.replace(newURL))}}async function redirectGTranslate(){if(gtranslate[0]){window.stop();let e=window.location.pathname;switch(googleTranslateFrontend){case"lingva":if(selectedInstance=gtranslate[1]?`${farsideInstance}/lingva`:await getrandom(Instances.lingva),window.location.search){const t=new URLSearchParams(window.location.search);e=`/${t.get("sl")}/${t.get("tl")}/${t.get("text")}`}else/^\/\w+?\/\w+?\/.*/.test(e)&&(e=e.replace(/\+/g," "));newURL=`${scheme}${selectedInstance}${e}`;break;case"mozhi":if(selectedInstance=await getrandom(Instances.mozhi),window.location.search){const t=new URLSearchParams(window.location.search);e=`?text=${t.get("text")}&from=${t.get("sl")}&to=${t.get("tl")}&engine=google`,newURL=`${scheme}${selectedInstance}${e}`}else newURL=`${scheme}${selectedInstance}`;break;default:break}window.location.replace(newURL)}}async function redirectDeviantart(){window.stop();let e=window.location.pathname,t=window.location.search,i=e.split("/").filter(n=>n),a="";selectedInstance=await getrandom(Instances.skunkyart);let o={post:/\/art\/\S+/,tag:/\/tag\/\S+/,search:/(?<=\?q=)[^&]+/,gallery:/\/\w+\/gallery$/,gallery_folder:/\/\w+\/gallery\/\d+/,favorites:/\/(\w+)\/favourites/,profile:/^\/(\w+)$/};deviantart[0]&&(o.post.test(e)?a=`/post/${i[0].toLowerCase()}/${i[2]}`:o.tag.test(e)?a=`/search?q=${i[1]}&type=tag`:e.startsWith("/search")?(t=t.match(o.search)[0],a=`/search?q=${t}&type=all`):o.gallery.test(e)?a=`/group_user?type=gallery&q=${i[0]}`:o.gallery_folder.test(e)?a=`/group_user?folder=${i[2]}&q=${i[0]}&type=g`:o.favorites.test(e)?a=`/group_user?q=${e.match(o.favorites)[1]}&type=favorites`:o.profile.test(e)&&(a=`/group_user?type=about&q=${e.match(o.profile)[1]}`)),newURL=`${scheme}${selectedInstance}${a}`,window.location.replace(newURL)}async function redirectDeepl(){if(deepl[0]){if(window.stop(),selectedInstance=await getrandom(Instances.mozhi),window.location.hash){let e=window.location.hash.substring(1).split("/"),t=`?text=${e[2]}&from=${e[0]}&to=${e[1]}&engine=deepl`;newURL=`${scheme}${selectedInstance}${t}`}window.location.replace(newURL)}}async function redirectTumblr(){tumblr[0]&&(window.stop(),selectedInstance=await getrandom(Instances.priviblur),newURL=`${scheme}${selectedInstance}${window.location.pathname}${window.location.search}${hash}`,window.location.replace(newURL))}async function redirectReuters(){reuters[0]&&(window.stop(),selectedInstance=await getrandom(Instances.neuters),newURL=`${scheme}${selectedInstance}${window.location.pathname}${window.location.search}${hash}`,window.location.replace(newURL))}async function redirectWikipedia(){if(wikipedia[0]){window.stop();let e=/^([a-z\-]+)\./.exec(window.location.hostname)[1];selectedInstance=wikipedia[1]?`${farsideInstance}/wikiless`:await getrandom(Instances.wikiless),e==="www"&&(e="en"),newURL=`${scheme}${selectedInstance}${window.location.pathname}?lang=${e}${hash}`,window.location.replace(newURL)}}async function redirectImdb(){imdb[0]&&(window.stop(),selectedInstance=imdb[1]?`${farsideInstance}/libremdb`:await getrandom(Instances.libremdb),newURL=`${scheme}${selectedInstance}${window.location.pathname}${window.location.search}${hash}`,window.location.replace(newURL))}async function redirectQuora(){quora[0]&&(window.stop(),selectedInstance=quora[1]?`${farsideInstance}/quetre`:await getrandom(Instances.quetre),newURL=`${scheme}${selectedInstance}${window.location.pathname}${window.location.search}${hash}`,window.location.replace(newURL))}async function redirectFandom(){if(fandom[0]){window.stop();const e=window.location.hostname.replace(/\..+/,"");selectedInstance=await getrandom(Instances.breezewiki);let t=window.location.pathname;e!=="www"&&(t=`/${e}${t}`),newURL=`${scheme}${selectedInstance}${t}${window.location.search}${hash}`,window.location.replace(newURL)}}async function redirectGoogle(){if(google[0]&&window.location.hostname.startsWith("www")&&window.location.pathname.startsWith("/search")){window.stop(),selectedInstance=google[1]?`${farsideInstance}/${googleFrontend}`:selectedInstance=await getrandom(Instances[googleFrontend]);let e=window.location.pathname;googleFrontend==="librey"&&e==="/search"&&(e+=".php");const i=new URLSearchParams(window.location.search).entries().q,a=i?`?q=${i}`:window.location.search;newURL=`${scheme}${selectedInstance}${e}${a}${hash}`,window.location.replace(newURL)}}async function redirectGoodreads(){if(goodreads[0]){if(window.stop(),selectedInstance=await getrandom(Instances.biblioreads),window.location.pathname.startsWith("/search")){const e=new URLSearchParams(search);search=`/${e.get("q")}`}newURL=`${scheme}${selectedInstance}${window.location.pathname}${search}${hash}`,window.location.replace(newURL)}}async function redirectStackoverflow(){stackoverflow[0]&&(window.location.pathname.startsWith("/questions/")||window.location.pathname==="/")&&(window.stop(),selectedInstance=stackoverflow[1]?`${farsideInstance}/anonymousoverflow`:await getrandom(Instances.anonymousoverflow),newURL=`${scheme}${selectedInstance}${window.location.pathname}${window.location.search}${hash}`,window.location.replace(newURL))}async function redirectBandcamp(){if(bandcamp[0]){selectedInstance=await getrandom(Instances.tent);const e=new URLSearchParams(window.location.search),t=window.location.hostname.replace(/\..+/,""),i=/^\/([^\/]+?)\/(.+)/.exec(window.location.pathname),a=/^\/stream\/([a-f0-9]+?)\/([^\/]+?)\/([0-9]+)/.exec(window.location.pathname),o=/^\/img\/(.+)/.exec(window.location.pathname);let n="";switch(!0){case window.location.pathname==="/search":n=`/search.php?query=${e.get("q")}`;break;case window.location.hostname.search(/(daily)?\.bandcamp\.com/)>0:window.location.pathname==="/"?n=`/artist.php?name=${t}`:i.length>2&&(n=`/release.php?artist=${t}&type=${i[1]}&name=${i[2]}`);break;case window.location.hostname==="f4.bcbits.com":o.length>1&&(n=`/image.php?file=${o[1]}`);break;case window.location.hostname==="t4.bcbits.com":a.length>3&&(n=`/audio.php?directory=${a[1]}&format=${a[2]}&file=${a[3]}&token=${e.get("token")}`);break;default:return}window.stop(),newURL=`${scheme}${selectedInstance}${n}`,window.location.replace(newURL)}}async function redirectGenius(){if(genius[0]){const e=window.location.pathname;selectedInstance=await getrandom(Instances[geniusFrontend]),await Promise.any([["lyrics",e.endsWith("-lyrics")],["album",e.startsWith("/albums/")],["artist",e.startsWith("/artists/")],[,["/","/search"].includes(e)]].map(async([t,i])=>{if(i){const a=geniusFrontend==="intellectual"&&t?`/${t}?path=${e.slice(1)}`:`${e}${window.location.search}`;window.stop(),newURL=`${scheme}${selectedInstance}${a}${hash}`,window.location.replace(newURL)}}))}}async function redirectPinterest(){if(pinterest[0]){selectedInstance=await getrandom(Instances.binternet);let e="";if(window.location.hostname==="i.pinimg.com")e=`/image_proxy.php?url=${window.location.href}`;else if(window.location.pathname.startsWith("/search"))e=`${window.location.pathname.replace("search","search.php").replace("/pins/","")}${window.location.search}`;else if(window.location.pathname!=="/")return;window.stop(),newURL=`${scheme}${selectedInstance}${e}`,window.location.replace(newURL)}}async function redirectSoundcloud(){if(soundcloud[0]){window.stop(),selectedInstance=await getrandom(Instances.tubo);let e="/kiosk?serviceId=1";window.location.pathname!=="/"&&(e=`/stream?url=${window.location.href}`),newURL=`${scheme}${selectedInstance}${e}`,window.location.replace(newURL)}}async function redirectPixiv(){if(pixiv[0]){window.stop(),selectedInstance=await getrandom(Instances.pixivfe);const e=window.location.pathname.replace(/^\/\w{2}\//,"/");newURL=`${scheme}${selectedInstance}${e}${window.location.search}`,window.location.replace(newURL)}}async function redirectTwitch(){if(twitch[0]){window.stop(),selectedInstance=await getrandom(Instances.safetwitch);const e=window.location.pathname=="/search"?window.location.pathname+"/":window.location.pathname;let t=window.location.pathname=="/search"?window.location.search.replace("term","query"):window.location.search;newURL=`${scheme}${selectedInstance}${e}${t}`,window.location.replace(newURL)}}const urlHostname=window.location.hostname;switch(urlHostname){case"www.instagram.com":redirectInstagram();break;case"twitter.com":case"mobile.twitter.com":case"x.com":case"mobile.x.com":redirectTwitter();break;case"www.youtube.com":case"m.youtube.com":case"www.youtube-nocookie.com":redirectYoutube(youtubeFrontend);break;case"www.tiktok.com":redirectTiktok();break;case"music.youtube.com":redirectYoutube(youtubeMusicFrontend);break;case"news.ycombinator.com":redirectHackerNews();break;case"translate.google.com":redirectGTranslate();break;case"www.reuters.com":redirectReuters();break;case"www.imdb.com":case"m.imdb.com":redirectImdb();break;case"www.quora.com":redirectQuora();break;case"www.google.com":redirectGoogle();break;case"www.goodreads.com":redirectGoodreads();break;case"genius.com":redirectGenius();break;case"stackoverflow.com":redirectStackoverflow();break;case"f4.bcbits.com":case"t4.bcbits.com":redirectBandcamp();break;case"www.deviantart.com":redirectDeviantart();break;case"i.pinimg.com":redirectPinterest();break;case"soundcloud.com":case"m.soundcloud.com":redirectSoundcloud();break;case"www.pixiv.net":redirectPixiv();break;case"www.deepl.com":redirectDeepl();break;case"twitch.tv":case"www.twitch.tv":redirectTwitch();break;case(urlHostname.includes("reddit.com")?urlHostname:0):redirectReddit();break;case(urlHostname.includes("medium.com")?urlHostname:0):redirectMedium(mediumFrontend);break;case(urlHostname.includes("imgur.com")?urlHostname:0):case(urlHostname.includes("imgur.io")?urlHostname:0):redirectImgur();break;case(urlHostname.includes("wikipedia.org")?urlHostname:0):redirectWikipedia();break;case(urlHostname.includes("fandom.com")?urlHostname:0):redirectFandom();break;case(urlHostname.includes("bandcamp.com")?urlHostname:0):redirectBandcamp();break;case(urlHostname.includes("pinterest.com")?urlHostname:0):redirectPinterest();break;case(urlHostname.includes("tumblr.com")?urlHostname:0):redirectTumblr();break}typeof module<"u"&&(module.exports={Instances});
