// ==UserScript==
// @name         音视频增强脚本：无极调速|倍速快学|快乐刷剧|视频下载|画面截图等「适用大部分网站」
// @name:en      Audio and Video Enhancement Script: Supports infinite speed adjustment, video downloading, and more.
// @namespace    https://github.com/xxxily/h5player
// @homepage     https://github.com/xxxily/h5player
// @version      4.3.4
// @author       ankvps
// @icon         data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAADAFBMVEUAAAAZo+IiqNkXlMx+xs+Kw947ueyq5fAomMlTude76OnJ5uo6o8BrvuB0u9SIzNdFo8sjpcIom7IurODa698PjcBW0uxAoMocp90xjsR+v9zS2c3j6+UznbP5//uYtK3/7dNHn9DL9PbM9vYDqe0Cq+sDqO0Ipu0Cqu8Eqe8CqeYGpvAMpuMArun/////+//7//////0Dp+v/+P8ArPUHqOr/+/P/+/cBrPDs////+PsCquj//voBqfP4/f/3//4Brvj1//cJqOX8/P4Bqvfw//8ArfsBrub//Pv+/vICp/cBrPMAr//5/vcDpf8KpekGqd0Bqv/y//oNp90BqfsFq+ALpOABp/L8//v//+jy//L0//8LptgCrez/9vYBsO4BoOL///YGpfYPoPYBm+YBofEAnuoBleEBruEAsuoHpfrl//8CrdsBousHquMNot0EjdoNnNn0+/8BnPUMpO7/++0Qo+cBm9wYoOA+tNAFltAAovf5/u/A7/8CrvL//+4Amu2c1OMCldcBn8gBnvwAlehxvcoBotoFqtICntL/9P3T9fAAtP8BlvFmvszd//sBs/QJpPIUnu0CseQAtPm+6fCj1uZLq9PR+/z+9u0BpuGx8/3s+vvS8vu89Pem5fcFjPRz0eoaoNgElMLa+Psfsu+y5OgEkcwQnv8Bl/zi+frG7/lHxu+J1OgAtuH//Nx1ytg6sNgDh8O68P7G+/uy6PKV2vA+t+kDsdf++OUjmd8AuOwtuOJkxdotodX6+P3p//eB3fde1+1ixe2k8Pem2fAVl+cZruRavdxwu9oGq8dMu+tc0uAiltXQ6vdMxtxAu9xSt9UboM6+/P4AvPn/7/Vxv+cQn76W5/p/ye2P5ecPlN4XrNen1dUnq8z/7/4Gi+gpqtw9n9Auqeuz0OdfteRHt8UDhbSj3+iLxuM7nuEiutFarLnt7/oTpfO+19mJucYelsEHnq0amPXp+udfoOd54OHN7N0Eus+u9+/N2PGexO8omu4fxL8ZpaEAzOwL7fbjAAAAJHRSTlMAzsj+hQSzWf6dcCf8fVE4n/36vRP149vMupcJBOnihEkHl8Lv/rxjAAAdpElEQVR42ryWW2jTUBiAq9bpNqfzfr8np0nXiRwSKJRAqCGDtjYpSdeXjo4uXTtZb3RMWaHU1aHiRMV5YWq9TlGmIAw3mIo3vItXRJz6oCiIIKgvgj54UvG2qe3ysO+hTR7Of76c85///LrBTFs0T6dbXFpSotcXFxVNHa0ya5QmZuUGTy0qKtbrS0pKF6vBp+nyMXfBknFl5TPHj2k51hJHRKNRqTqHaRhU55CiCBQDhRozfmZ52bilC+blFZg4o+vqgJJOOl0OWTBAiAGAWYyasKhjMQAFrt3hTKaVgatdMybmmX5S+flYuoJiGVnmPB7S42EoBIFrgkBD7YwHwXA852G5ivrY+fJJun8zds6ETG1dpFEURa8kea0EYU6ZEQRAYMQwwACCMOcg7BYJRUNBG611tZkJc8b+8/Nnx8IdPsldFXK7RTQmYkEYjVYjXaEJGg01WhARFEx0uyNVbqmmoz42e9I/dn++yLucdJ/PoS4dAo9YVUwmwaAJAWWjVQW32yk7RbEOXx/tdMni/Il/y/450zf2pzg/qKRkjkXwvJnGMIgCNRlwTaCBBgMEGG3meRbByVQl8Msd/Znpc+YO2f6FcbY5Lp5qoJxNJkGgaQzHGY5iGJvf7yerqiqHTVUViYbaGIbi7DiOQVoQTE1OquGUGG9m4wsHJ0LZIchAmsZxsgLQKIUg+njyB5hGyB+o0QBaClBB4jgNSQYeKhu0/9NZgsYIkgQAx1ASDwJoAhsEiosDQJIEAe389D/yoHRKRiCxEYQUMlNKf0uA2Rv7o4IZGzHM4Wj/xtm/0kAfkzvc9AguAUm7t9pi+p8FaHLAxZ3CR1IAP8W5ApN/FKTiTIfT34ADbMQAeIPf2ZEp1unU23HcmFofTVLEsE7WzydtBgRF0jW1Y8blTsCMYF11X6XTgxcy/5+HU6sA7nFW9kl1sRnqSSjpClhFH9VkKCR3JFEF3VVR9NTY2OiVoCYFQxPlc1vru0rUHdjMbAg5ZBNNFCCASuX3iiIIOCq2VREjpkWAoE2yI7TBs1ndg7Ig5XWznIDlF6Dtrl84EOhP0wKgD+BYt8gFy1ARKm+jRDfFCiBf5qL9Jm02G2f7fscwqM9BT9qSAAgsEmDbisfqps1MeJAAT4O8+QcBZs21m2qDI0mmalNzczPUtAeAZlnRyyVmTtON++C0eUUkAPOtGpoKWnDUInV2dkZC7k6jkYaoaU0BOHwBSPOU6LU5x5fqSsa4ZEmi+PzSkMBJl9qrhusVJRyuDwSSsos3E0hCAzwlSbILVQJ9i4Pzein+v6ce3dMoRcOKElwdXXPtbHd3d29376s1A8GgUh8mzIAgQK4sqD9EwQJeztGiRwLtOQH872UPRYQ4MrCTitJmPntj7ZVsz+5NOY7szp65cX9rfVvAbEaGqH8BOISAKcgA5ynvd4HiVpYyRlDbSA6Z3RKhDUQqRdneN9fWtmzovfhw98M9Zy5eur5L5fXlgxev9GzZvef6g9agUlOT9ISMqxyPGh5U2wsoaWrLa6TY1mJdUdzAoBfIkUPLFbRsD0WaZAff2Xr+ZM+W7M77N+Obk55wOsCvW5dIJJKdL94833HhxJne1tWWdjnqxbayNc9MTAECHIzgFEO3FiEBwJgtVmyoALDJqe2N3jXNSrD3Yja79n48EQgfOJ5QVsfSfFJZHQwkk+mgUnv6ZLbnya24mKozfZ58p66dFcgCBDCrxcwY4kW6qVHImI1WMEQAgIb+ijq/L3T45ZcT2bs3b24MJ9LpT1977z1+2226dfDx9d6ubWklEYDrvbf29+x/89HSHh//oMLF0FiBAiSMTtWNRgIpJGAbmgONGwiXKxC9fST75sPAgQNt6z/fPblj35G9K5Y9nLxz+fKVe/ftP3nuXWbgQCIRv3/0xNO+zetkX2hNIb0daQNIwAOrkUA1Zv/GiZ19NXHFcQDv8tIHX9qn/gGEJATvzBDIZCaTjTAkg1kkgiGJhAQhIAFKQcAlLLI0rAJFWhYREMsWIWxio1QsLijFrZXaVi1udSvWU1tta9dLkdba5YR+z0lOZuaemU9+d+7cmYEVYEPAMxG+efzgQPnd0+7J6W6rvfCr/f2VBAZsRo8XGfn6Bsj2em0Ak+65fWaquv14+fT2060fBIVH6qajxb4A2KEBnGD/tS8sAkID/wHAStEGPBgk7t+17ohKuPReCwEABhCb0WhBjq55C1XNWkgEwKCNg1+WJ5aUvnj58PuvVwenirg+AOLZgRDg9xTg77NKyHlDxmX54IPmkurVe/NijE24mUaB2UHzkaPpY7SZjygkKEpk4tlMY8dUWu/WW/P32i5Zs3gsXwAb/wQIgyFgYwr3qVmHZ4gV8bTTDx7PPSz/9eCVh11SCm9qwumdFEbUmGb5La9clmooIDXLNVIplW0BYNd2uza8e0Xl6KF22UqxgQuff4TC/wCkbAwM5cg4EPDqWhaHE6Jjw+vYk8OL2OL69Dfjz0+/8t3o3fbIlcUdForSKBQoqqBwldzkbMJ3vXIZMAIVKo1hJAoEMTscQPDJpS0RubtHdq4oSlkzELpeVrsph/MfUztbF8IRsgJffe55+Azvx2OzlH5LgHR21EDZN9q4X767tyY3P+lQFwbMZhQeBwGYBNGoJCZj3qZtIEagAihAHWakQkU7aAAqb3ZG9l5p+/bulemynJ6q87s3Cf8V4KdksXnw1U/g8889HxgQwPkDAAPHRz5bdDDtVMNHV4fXlI2fBojJyAhwBMGwmL8CUBRDaZQkcZsNt5Cg78yWQntZV+shV936Dcoccb6/jwDRAmDlHwBdvXJ95MCFx/euu17rPDsK5ixej7EAV6lUVAyq+CsAmlQkSdkYpml2DtAzxcm5rzfsyukNT/7wgHpH0L8DVi4AWP8EgEmOToksG5x42H6+7GwfguCzOAYWgtmYZwEAg6UBAP4ACG6ZI2aK38x6ubKtNE50IDQ82FcA668VqE1ftyPri8PbreqM8VFkVkADx9Gx/ttuGgj+DqC8AkCPtvWPtbXQZAVJz7i0xfOgo9yQYmgO4fwPAPzekfNa8trW+w9+tb7kBqSAkh7dn1ME3zSebMXkCuTZClgoR8fVixcvWn9+RGOzFTVnS4O779BDVnVKebT4fwBgxCm6zkd5p1LrixuQOQ0hHessSoyPirAOv9RCxzwDwDDgODFclLU1wtDduTeTbKL6hrKCbz1uLROtt7OWWQEe98ntojrjbeKMvbe9H0zM4uhnndVh0bEydRVveFMehmjwRQD6BJB58lZ0VWRY8rs9Wd0zhNFL7YuvKr3W1/FgoCSLtSwAiwXbw6uR//qwi4+7iqvaHwLgzFa0Xs1V56xTyuBTCC/jiJnSkAo5AwGYSgDHBIK2DZcfrM1nRae+2WOf/qzAI0A7ErRXOvpWfK/dujxAfb1SxPIziMXHrUd2/rylZOo7Fd/ocbx/JTG1LCC2VhYWz3alu21ShQUHeQe2YSSjl1QgxN6iOGVq6ur4lNc2VCWdkMLLsvftEu26yh+37JCFLAugVIoggCsOTig/OtZpTZikVPxso+NIaURzOttPyOHVsTnWYzazQhCzAAAkY5LwwZ4pa35+9Op0g3atsirh2h4MR7Hb1qju91o3ha1a3jAUwcBpgROc+8VHX2YkXGrE4J9liHO5VVxDHY+t023kqZPuULREoMHyTi0A9BBQOWUIC+cGpnPCQoPU4kNugCtQ+Qelrx/f1VHKWd5JGKILYUGA0N/V8ENxu30S0xASC5l5wlUVro3g5QQGsoLVhdtstASXUk8DEiO1KbpQVlxIsDrxeiuwMGawL7e6enDkeNAyARv9/eJgJ9jHHdu39NaOFggIumIOfVRcq42UcXXp0clxEYkNDJ1JSSn3h0sAx3huZImWF7pyg9AgyxiqAXiBkzSd7c0ab/wiicPhBvkOYNdxhbGigLSkjtELudV7MaNAYuZXgH0XXCmyWiG8Qx+oT7pOGPUSFazAEgCRdnTnbE3hBijjwsS5w59KAcYYLdhYb4Ku5VhGGnzR7zuAZ4Dzc1xAQkLLo6JEVxvGxCAoggDp4C123Ab/ulUbBoqH2zCvQqEyY3m7lwBo44phmZglUrIiVt1a0QcQlYbRYI2byhOPVB6ywztb3wFcsTAuNlZX+k7je1lZX+5E+AoEowkplnluOFlZ1xNZ5Rq+g2o8JILQ4HeAEwIUeqzhpaL8HbWrwtQZX7sxFR8lcLkZ3V5eOLXz48SgIA7XDw4tXwHwJio06UjlNW3aTAw6MaFR0YSEBHsm123JuFJaOvU+imi8JJ+fuTgMcamCj+gp0DJe7nLlJiXtbwGUAEFpXE5gl9elhbqP2eHjO9y5v4/nQOwG3vq6+gs3jpZHBbVhcr3JhihgJoC0oePEiZN3WgFOolKyYmKCGjl+A1OQcDOCqDDguD147szM/XtgoT2iEFAocK8Jb37U8GG+zJUq7qkL4PoMiEi+4O7PKPnmNIUrSI1JDmMyOSlUSkupAq/HY6KNRtrpaVm3TWoyOuV6ubOpqUkFZwSCphjYdKG9APYSsb+k9I2+IXH466mreuqUfr4DVn/eeKS69/pOBpYadzILcWbjfAw104cP650FNq8XdXpGdl/GCrxGW4ym4Ntv4WFRGMbJLEYjQUjwcW/7w75zaerA1GAtV7mMCrjOuvdHJX6gNwoy4X6epGKOr5DSBE1LSMRiUeDMyIEbGGXBMdgDkKWXTExMVJBL0ddosm39WSVfuU/aowJTZVrhMgBRq8+4x2WcSafHSejRzMXQExaLAKcolQLJJBQSx2HQohsz05kSgqAlC+cBwoeRZEoWm8v1GqPxs+bw/JZtCVvXQkBssj/X5wo0z7ivGnL7GY9NotLIl6KXyzUxKn4FKacZp8Pk2bV7m9nkNOn1epMAhnE6YT8sBfZYk3HfGkNASxcEJMu0omUA4l2TDacKM45hDAAILngSSorGUBSGISoBlp0Nsj2t1+5jBUavzSbILliM0ylYioXPr6BOXy1M2tdl3ZqjDF8WIMI12XUqy/6JmWhsJMzE06GJhTgIosZBjfx0DK6g4dJS4MJSHDU1DvSjdwqTjjU0J0JAjy6a6zMgyjXTtVstHp+fHxqCn81P8vZChmA2w1Xjm+fH1e+c3Xzz5uant/+xMH9z6O35zbFR9iVAjm+A3zg196cmriiO/8Av/aF/RkhCK/sgJCFhkyUkCyRkEUIohJiXBlEDkgZCFJBABIQUBEFUFAQMICJUREGtgijSQrH4FqUWbdXasWOl73b6mJ6NBnVQB3oGZpbZsHzYe+6953y/N48VyiQhvIGEwqn5ionJ+YrtgZjcvhAVFcMV85fUl4crKirgp9fEfMUkfJkSSoaWDwBJCACFGbcQsraWRPTk89A/C7iAHpAikWP140wvQuqx5wGfCVxhCDSK+j2dNSWtjebC5Q6BiknCVNcQoaRsMjEvEGgg4lCjWG7UHX78AIkzimH+iXmLgtA4xMTh5FxrK5OE65achGyTH+Di9EiGp4+pboVGYSCIZyG3KOVOp77oyJaRB3iR0wlbs0C4OHBek7sxJ3ft4LgVAJY8DVl+gL2XWu4XlrS7jzgRlA7MbU0gZDKRUmlLh72AWQeKKJGGZm6//J0uS0MB4DtzIedYqVWVzyxEywDQplxumVLlTsl0AgyVUvrnIV0IR5xclO7et2kXRtK0wyGVv7gTuMCgn8Xbczd0MkvxB0tfitksPwBsRhll9zssBDxoIXgvwuuFWnnLJw8QnljMe21gIKYgvYcKL9fuzlZ/kBXv34yWPAvWzTT2ZZbVb0Fw7AUAL0AhFkMSSot0xwBADOkoh1uB+wtBix1Y85lD1v6ekRAA8G/HSwdomCm9UFBWPg4AoEf4A9ZgsrlZA624hqY1SprJgWQmB2SUSE9rNCSOaeA+aIYafxQ5Ndj0nUOur6aDigFgyQUJC4x7MB+svVCSlVykUYdYKqLS3E1ChGwdO3Gi9/wg6FLGU6Mix1li34FdGA2VD0hkTULs2rleuD/UgwiNZ+WkKF3mQL+qZJmmx60gf/FDllqSQSdpCOZml3fW9ufWfD+KSlE5KSUEArxn8qAHjAnPj6UkYTxSK4Ja/RgA+EUqDBcig3MF1sxM18FvBhHICoRUyuS87ZVhnVCUsgJF6dIBONbyfd95wlytuCCOKUhwbM+VR9sMXEVMXsGjYZvw1CiFevGXAMjBHwdYqh2S+L2+mQsIwkNxpwA57C/LD2Rzl9We+9UBNqf8fM+72+71UqcEci9IX7Zhn2l9Q11MkmqHx3cO14moOPGLN4Aj10YGTArwjsLrTvvm9kBfQAi8lvbcT/OOzXpSl6cPwOmjiDAWx3rHVlHVxt/vTpeKBUJsMMhcbTrZIAHHkOs606OjSHEAQMgAnD8YawrXqtjBMer4gX4Mt9BitPb7spqjtZfMy5NoDFy/TMllF4wzzekYTlNpSgvVbk9KMp3Meg/k24ji6Ea3Xm6UBwBgQ3KcqFq33sDhrNi4IUGdubsZV8qk+Gzijra+/TmRIcsFYA6eBBe7dl+7Yn8/+Rihodxu28PMhKTIrKyN0eAbR7lKQaAQwm74iX8IAOCjrxNTQt9bmb8xsb47qeabFlypQZ6cyP7w/vExl+F/ARhMZs+tQZ85+zyRphe4mx+WKwzRYWGMeMDSZvYBgED2MsBnkbGhYRx+cOimvOqMkWnIXXy2POFg+/6r2RIu1y9Aw4MXPLjnANzXA3A40KGb8s1Ttm8PJiU/xdEmJzlWXlwZmqCKMJkiJAklswyABlqzwBA0d4Zx2eAjx9dVrrue+nUHcQP55euyQynH233c1fAf+f/wyyYkMPDfkITA5/+FGEXQ0z8rE9p2yxBjE3LOs7ahIX8FnxUCVtn93wnZM5EqMAuwh/a6neFr6vNXzSSrN/RqnELkZolh4NytmY/VeZWJsaB95W/KU0fFc8HzTQmNYYGOr5Dwo1+3EnKee1VadcG7tefLD93rR4gmrOOxqy4yJTpEkrojzz5mQdP9Mp0fgMBgFgwOZF2P2vBzfuKB4tx7rWk6YrwtwbcdfI6qmsiTscx5sujkaEU8N5g5mReh5kbzJVoFf0XsYoAFuf694p2em81zf0gGuhBnEdJa5VJUV6vVO/mP5q4hPFr8CgBODT/Kqk5KUFertQPzRBEx/UXo3qAO5EnjlSBX3c7C7jU7DKcbDuTAiTyJKiEmcm90WLxCsjL6LQDsk6s2qMunf//3uvXHP/Emi348qIodHqPKHHh3P0mAUPkqAKxUjw6WFGqjCu3zRTr3njM1WTPjiBdHsMHeersVDuYVR0WuSo4OSdUmJGUU5Kxkh8SHcPhvBmCHnL7ziVZ9NH3eXO2aa8FhUBsvXb364aaR/g6EYLTiVwFgrZz95p0vvtjUOaQ8orNNZWt9/fCenDfEmGj65tWtJ2Pju1ebisMVKtXqDPtEb3YqN5jPeZtcz44xXF1RvW0SvZlabd+8H29Kxxwfde0aPC5ChAJM/ioAgot5CNYz3dXV2Jymc9f21pS5rkjRs6O/OJ00JOn+i99v9XyaEROlkGS7fFfbO8bKFfGRG8O4bwYIZnXH/1H5Q53rL95UzWrP5sOIRShQ4vBKEVQsTFsMALUx4yXgOh1RO5VbZj/agXrTRmvTlRalzgKe3tDEHfNa2C0L3pm4YNNPZCZJNiaywwMAiywbAKj/4XTKpqgo+y7qqGe1/c4FqE4FQqZEjkOxxQAE7i/XGciWM9Yy+9we3ChHoSygUFomNHpBydt3q+92++2h4zYSIycz1cWJq9iK2MiAZbPYtKpc0R2+Ll9t+ump5WhN9dqgUhyRSuMETmcaqQ/I9fVQkDwDkNHwcvTQrCBdI2tjPJtbEMHoKO/uXUrkdYikZ5kGV2ghEAjmETgA1FVWhsQsACyy7dhcOHwbH7py9fWsf59iY9brewcePsERSkMTaBotRElNUZOFse3iGN8Uj6ObnErSJkKabnv2Zg9s7rAc0aWnG2/cAAmLpuWo2GixFJ1yKgkcqosmAT68LWlN/cbYiBB+wLZbbFxCmoa9zw3maLcN9Olv+06a2h7P2hCe1xinkYlRCoxL9M9/v2IkMgSTi420wGgk6O921ySZfcM88JYtuAU6egGINRb0LHxIDlYjbSHAd5IjyKVKbXc3tyE2YFy+zboN3lBSdVH04J1t1YXmM602oUBIUShPatN70QurSkUOFKpWHBGRMAyDE2ZVlOedXVRj37lzt8eP14owXOkkUBgbCkPvelFgZVpMDBmuVHSvMcQGB6zbt5nXfIU6xXel48mvn58uK6+6PNThN69RWnkD3XegFKR0p9vC2Gmirks5Jdoy3+4W0eTM1sy2e18euNx+zYYT3rswYKMy+VmvFzRditKTKDK8latKDQ19f8G8fot9z43OMaw3//2g57d/tnp+bqvpHO7qoXDQgp3IFsgBsNHdBNXze/+ZNW2ZHxZ8NtvR+tieGmHOySizerbOTQzaUK9XoAMxT+SAuUDKaItQDAAGiWE9P2/Bvn/zAQZWxH/N21uIElEYwHGIIgqCeo8eYpw82nXIMmxKwrS0Wg3NFy3LHE2cCtxy03KtVVRM1lt02+2+mV0Wo9tmFG3FGlZ0ZdOI6ELRFvRSD0EFfTNGVGZNWdanIANyHOGAB/z9e3ru3JkYSF/fEel7YHJmdm0ovDy7fv+OSNu07cOeT2lri+w/0nvK0ZK2ZqKJs5H23rRLrrFLHLgdpFzYfe3pzoNjJ2w9vWrt+fnjZi1ubl4Fm2X81bAXW7ZMlGABA0ms6FedcGC8JfNky0OFwt5cacft0tFQEPl9pkBP/uXmp4d1p65cefFkNeV0UpSFuJ+93f7ufUDdacjlyDvGBp5xkZGw7Gr5cK8V/tdbOHn69Lmzm5snwU7Y/iiIiGSnKAGEQwCGBAhHVcSCE6mNr68V3oYSmUDThUvHL+1+RNHBaMZCmFZSKdoXjTo9nsBDavnh4vFD3efS/jljQoY9TbKN4m0SnlilV2qShZajJ9vHwzaZOXfy1AlgDU7mXMZ4o61TZC4jFhwQS1XGgyPd/dUJvVcqW+SlN4Qvn2htPXHk2eMej9Li8xECyhe1LL+1uW/nltZNpdxKT6zT0bBEGothOVGMj9OjkERiPuC0uh5d3f9m8Vhm2p7f2OteJDcndPDvPsN4VHpQNACZZGQFZGKHNISSUv88eUxhEiPTBveD3p3rtkQOFbtLfb3ZbLbUXbwEqOpY32O3dSku13aFRtnlqZQoJ/JiQtABEkXitV2jN4XvrrnYXSyeLN1wu7cZvXCuEShEjSQDmUiATIwlk1ahXIhEQNwJAsFhXcynl1otM55lj5xo37ePlVz7Nq3P3hxG+6w0ZBAEHNuZ4xaBiTGcMZc4IHEjj+CLhTQF+0RvoSgaefkMDMNh2TLl2uju/2PMhtgzGgYvsKAKUUsJ2uVqynd05PMd+dUrXCYJj8ZVYv4Xb/7yDAxfCq5V8Kkg0gj4Ep+WhTfwPmM24HxKAwfOh/gEISDnaOb5/f6M3+NxZvx+LahOPsbJ88EtVOF8XEEjQgAqiYYEM+Z4Y/zVq0TiVSP8onDwjAjhwOy+Axr9ABqBdJIGtVT6U9KJE4iUhEDyqnXJpM2WtKmDDkdXF6uLf64h4fHVNdyATq1nSOeAQQEZF9QKA9tKkWRai2WfRqFIJjH0m6h1os4w0Td0AMt64QY4sV6e0Gz/dmpgvUGpdQgLm1UOjrAZQ/G4EOEiGMhQCCQUxuMI+23Y3KUKDGRpNzVDx5F28xQwNmZ0OpuNuahCBLjRbl/HYBa3rzSPLuP2ug2L2xewuP0XeT/6drCaef/wfxs4gC0fziYeynonHsovEg+IXJSx+kYuEl1Mu7L/15kPXc/Mp6GJyXz+n9CJSb3kKoJfv9SLD6lXZeyG6hS7ARjH9wz533I/JnhsOZPSxv968CjznglD8Pj95FP7V5JPOPLCfE4+5ZB8/pvo1QbR6yI2euWY/QpUYpgas1/mSsCsZqjIfquEz1aqHD4r9aQUNqGqxvBZT8JqeqVWS8qlQsoK4TP39FveAAwHry39hicCIqmpSL+5xu8r/kz8ni7H7yNHVOz++ub/wyvz/49yHLNaugaoEAAAAABJRU5ErkJggg==
// @match        *://*/*
// @exclude      *://yiyan.baidu.com/*
// @exclude      *://*.bing.com/search*
// @grant        unsafeWindow
// @grant        GM_addStyle
// @grant        GM_setValue
// @grant        GM_getValue
// @grant        GM_deleteValue
// @grant        GM_listValues
// @grant        GM_addValueChangeListener
// @grant        GM_removeValueChangeListener
// @grant        GM_registerMenuCommand
// @grant        GM_unregisterMenuCommand
// @grant        GM_getTab
// @grant        GM_saveTab
// @grant        GM_getTabs
// @grant        GM_openInTab
// @grant        GM_setClipboard
// @run-at       document-start
// @license      GPL
// ==/UserScript==
(function(t){t&&(t.name="h5player")})();const originalMethods={Object:{defineProperty:Object.defineProperty,defineProperties:Object.defineProperties},setInterval:window.setInterval,setTimeout:window.setTimeout,HTMLElement:window.HTMLElement,customElements:window.customElements,customElementsMethods:{define:window.customElements.define,get:window.customElements.get}};function ready(t,e,o){const s=window,a=o||s.document.documentElement;if(!a)return!1;const u=s.MutationObserver||s.WebKitMutationObserver,f=a._MutationListeners||[];function p(v,k){f.push({selector:v,fn:k}),(!a._MutationListeners||!a._MutationObserver)&&(a._MutationListeners=f,a._MutationObserver=new u(()=>{for(let P=0;P<a._MutationListeners.length;P++){const T=a._MutationListeners[P];g(T.selector,T.fn)}}),a._MutationObserver.observe(a,{childList:!0,subtree:!0})),g(v,k)}function g(v,k){const P=a.querySelectorAll(v);for(let T=0;T<P.length;T++){const O=P[T];O._MutationReadyList_=O._MutationReadyList_||[],O._MutationReadyList_.includes(k)||(O._MutationReadyList_.push(k),k.call(O,O))}}(Array.isArray(t)?t:[t]).forEach(v=>p(v,e))}function hackAttachShadow(){if(!window._hasHackAttachShadow_)try{window._shadowDomList_=[],window.Element.prototype._attachShadow=window.Element.prototype.attachShadow,window.Element.prototype.attachShadow=function(){const t=arguments,e=t[0]&&t[0].mode==="closed";t[0]&&t[0].mode&&(t[0].mode="open");const o=this._attachShadow.apply(this,t);window._shadowDomList_.push(o),o._shadowHost=this;const s=new window.CustomEvent("addShadowRoot",{shadowRoot:o,detail:{shadowRoot:o,message:"addShadowRoot",time:new Date},bubbles:!0,cancelable:!0});return document.dispatchEvent(s),e&&Object.defineProperty(this,"shadowRoot",{get(){return null}}),o},window._hasHackAttachShadow_=!0}catch(t){console.error("hackAttachShadow error by h5player plug-in",t)}}/*!
 * @name         original.js
 * @description  存储部分重要的原生函数，防止被外部污染，此逻辑应尽可能前置，否则存储的将是污染后的函数
 * @version      0.0.1
 * @author       xxxily
 * @date         2022/10/16 10:32
 * @github       https://github.com/xxxily
 */const original={Object:{defineProperty:Object.defineProperty,defineProperties:Object.defineProperties},Proxy,Map,map:{clear:Map.prototype.clear,set:Map.prototype.set,has:Map.prototype.has,get:Map.prototype.get,delete:Map.prototype.delete},console:{log:console.log,info:console.info,error:console.error,warn:console.warn,table:console.table},ShadowRoot,HTMLMediaElement,CustomEvent,JSON:{parse:JSON.parse,stringify:JSON.stringify},alert,confirm,prompt},mediaCore=function(){let t=!1,e=!1,o={};const s={},a=[],u=[],f=new original.Map,p=M=>M.replace(/^\S/,E=>E.toUpperCase());function g(M){return M instanceof original.HTMLMediaElement}function y(M){if(!g(M))return!1;let E=original.map.get.call(f,M);if(E)return E;E={};const H={lock(N,G){const Q=`__${N}_info__`;E[Q]=E[Q]||{},E[Q].lock=!0,G=Number(G),!Number.isNaN(G)&&G>0&&(E[Q].unLockTime=Date.now()+G)},unLock(N){const G=`__${N}_info__`;E[G]=E[G]||{},E[G].lock=!1,E[G].unLockTime=Date.now()-100},isLock(N){const G=E[`__${N}_info__`]||{};return G.unLockTime?Date.now()<G.unLockTime:G.lock||!1},get(N){if(o[N]&&o[N].get&&!s[N])return o[N].get.apply(M)},set(N,G){if(o[N]&&o[N].set&&!s[N]&&typeof G<"u")return o[N].set.apply(M,[G])},apply(N){if(s[N]instanceof Function){const G=Array.from(arguments);return G.shift(),s[N].apply(M,G)}}};E={...E,...H};const q=["playbackRate","volume","currentTime","play","pause"],Z=Object.keys(H);return q.forEach(N=>{Z.forEach(G=>{if(s[N]instanceof Function){if(G==="get"||G==="set")return!0}else if(G==="apply")return!0;E[`${G}${p(N)}`]=function(){return H[G].apply(null,[N,...arguments])}})}),original.map.set.call(f,M,E),E}function v(M){if(g(M)&&!a.includes(M)){a.push(M),y(M);try{u.forEach(E=>{E instanceof Function&&E(M)})}catch{}}}function k(M,E){const H=M&&M.prototype[E];H&&(M.prototype[E]=new original.Proxy(H,{apply(q,Z,N){if(v(Z),["play","pause"].includes(E)){const Q=y(Z);if(Q&&Q.isLock(E))return}return q.apply(Z,N)}}))}function P(M,E){if(!M||!M.prototype||!o[E])return!1;original.Object.defineProperty.call(Object,M.prototype,E,{configurable:!0,enumerable:!0,get:function(){const H=o[E].get.apply(this,arguments),q=y(this);return q&&q.isLock(E)&&E==="playbackRate"?1:H},set:function(H){if(E==="src"&&v(this),["playbackRate","volume","currentTime"].includes(E)){const q=y(this);if(q&&q.isLock(E))return}return o[E].set.apply(this,arguments)}})}function T(M){return y(M)}function O(){return e||(["play","pause","load","addEventListener"].forEach(H=>{k(HTMLMediaElement,H)}),["playbackRate","volume","currentTime","src"].forEach(H=>{P(HTMLMediaElement,H)}),e=!0),e}function B(M){return!(M instanceof Function)||u.includes(M)||(u.push(M),e||O()),a}function W(M){return t?!1:(o=Object.getOwnPropertyDescriptors(HTMLMediaElement.prototype),Object.keys(HTMLMediaElement.prototype).forEach(E=>{try{HTMLMediaElement.prototype[E]instanceof Function&&(s[E]=HTMLMediaElement.prototype[E])}catch{}}),M=M instanceof Function?M:function(){},B(M),t=!0,!0)}return{init:W,mediaPlus:T,mediaChecker:B,originDescriptors:o,originMethods:s,mediaElementList:a}}();/*!
 * @name         utils.js
 * @description  数据类型相关的方法
 * @version      0.0.1
 * @author       Blaze
 * @date         22/03/2019 22:46
 * @github       https://github.com/xxxily
 */function getType(t){return t==null?String(t):typeof t=="object"||typeof t=="function"?t.constructor&&t.constructor.name&&t.constructor.name.toLowerCase()||/function\s(.+?)\(/.exec(t.constructor)[1].toLowerCase():typeof t}const isType=(t,e)=>getType(t)===e,isObj$1=t=>isType(t,"object");/*!
 * @name         object.js
 * @description  对象操作的相关方法
 * @version      0.0.1
 * @author       Blaze
 * @date         21/03/2019 23:10
 * @github       https://github.com/xxxily
 */function clone(t){var e={};if(typeof t!="object")return t;Object.prototype.toString.call(t)==="[object Array]"&&(e=[]),Object.prototype.toString.call(t)==="[object Null]"&&(e=null);for(var o in t)e[o]=typeof t[o]=="object"?clone(t[o]):t[o];return e}function forIn(t,e){e=e||function(){};for(var o in t)Object.hasOwnProperty.call(t,o)&&e(o,t[o])}function mergeObj(t,e,o){function s(f){return Object.prototype.toString.call(f)==="[object Object]"}function a(f){return Object.prototype.toString.call(f)==="[object Array]"}if(!s(t)||!s(e))return t;function u(f,p){return forIn(p,function(g){const y=f[g],v=p[g];typeof y>"u"?f[g]=v:s(y)&&s(v)?f[g]=u(y,v):o&&a(y)&&a(v)?f[g]=y.concat(v):f[g]=v}),f}return u(t,e)}function getValByPath$1(t,e){e=e||"";const o=e.split(".");let s=t;for(let a=0;a<o.length&&s;a++)s=s[o[a]];return s}function setValByPath(t,e,o){if(!t||!e||typeof e!="string")return!1;let s=t;const a=e.split(".");for(let u=0;u<a.length&&s;u++){if(u===a.length-1)return s[a[u]]=o,Number.isNaN(o)?Number.isNaN(s[a[u]]):s[a[u]]===o;s=s[a[u]]}return!1}const quickSort=function(t){if(t.length<=1)return t;for(var e=Math.floor(t.length/2),o=t.splice(e,1)[0],s=[],a=[],u=0;u<t.length;u++)t[u]<o?s.push(t[u]):a.push(t[u]);return quickSort(s).concat([o],quickSort(a))};function hideDom(t,e){setTimeout(function(){const o=document.querySelector(t);o&&(o.style.opacity=0)},e||1e3*5)}function eachParentNode(t,e){let o=t.parentNode;for(;o;){const s=e(o,t);if(o=o.parentNode,s)break}}function loadCSSText(t,e,o){if(e&&document.getElementById(e))return!1;const s=document.createElement("style"),a=o||document.head||document.getElementsByTagName("head")[0];return s.appendChild(document.createTextNode(t)),a.appendChild(s),e&&s.setAttribute("id",e),s}function isEditableTarget(t){const e=t.getAttribute&&t.getAttribute("contenteditable")==="true",o=/INPUT|TEXTAREA|SELECT|LABEL/.test(t.nodeName);return e||o}function isInShadow(t,e){for(;t;t=t.parentNode)if(t.toString()==="[object ShadowRoot]")return e?t:!0;return!1}function isInViewPort(t){const e=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight,{top:s,right:a,bottom:u,left:f}=t.getBoundingClientRect();return s>=0&&f>=0&&a<=e&&u<=o}function observeVisibility(t,e){const o=new IntersectionObserver((s,a)=>{s.forEach(u=>{u.isIntersecting?t(u,a):t(null,a)})});return e&&o.observe(e),o}function isOutOfDocument(t){if(!t||t.offsetParent===null||t.style.visibility==="hidden"||t.style.display==="none")return!0;const{top:e,right:o,bottom:s,left:a,width:u,height:f}=t.getBoundingClientRect();return e===0&&o===0&&s===0&&a===0&&u===0&&f===0}function isCoordinateInElement(t,e,o){if(!o||!o.getBoundingClientRect)return!1;const s=o.getBoundingClientRect();return t>=s.left&&t<=s.right&&e>=s.top&&e<=s.bottom}function createTrustedHTML(t){if(window.trustedTypes&&window.trustedTypes.createPolicy){let e=window.trustedTypes.defaultPolicy||null;return e||(e=window.trustedTypes.createPolicy("default",{createHTML:s=>s})),e.createHTML(t)}else return t}function parseHTML(t,e){if(typeof t!="string")throw new Error("[parseHTML] Input must be a string");const o=createTrustedHTML(t),u=new DOMParser().parseFromString(o,"text/html").body.childNodes,f=[];return e&&e.appendChild&&u.forEach(p=>{const g=p.cloneNode(!0);try{e.appendChild(g)}catch(y){console.error("[parseHTML] appendChild error",y,e,g)}f.push(g)}),f.length?f:u}function inlineStyleToObj(t){if(typeof t!="string")return{};const e={};return t.split(";").forEach(s=>{const a=s.split(":");a.length===2&&(e[a[0].trim()]=a[1].trim())}),e}function objToInlineStyle(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";const e=[];return Object.keys(t).forEach(o=>{e.push(`${o}: ${t[o]}`)}),e.join("; ")}function fakeUA(t){const e=Object.getOwnPropertyDescriptor(Navigator.prototype,"userAgent");Object.defineProperty(Navigator.prototype,"userAgent",{...e,get:function(){return t}})}const userAgentMap={android:{chrome:"Mozilla/5.0 (Linux; Android 9; SM-G960F Build/PPR1.180610.011; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.157 Mobile Safari/537.36",firefox:"Mozilla/5.0 (Android 7.0; Mobile; rv:57.0) Gecko/57.0 Firefox/57.0"},iPhone:{safari:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/111.0.0.0 Mobile/15E148 Safari/604.1",chrome:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/74.0.3729.121 Mobile/15E148 Safari/605.1"},iPad:{safari:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1 Mobile/15E148 Safari/604.1",chrome:"Mozilla/5.0 (iPad; CPU OS 12_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/74.0.3729.155 Mobile/15E148 Safari/605.1"},mac:{safari:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.1.1 Safari/605.1.15",chrome:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Firefox) Chrome/74.0.3729.157 Safari/537.36"}};function isInIframe(){return window!==window.top}function isInCrossOriginFrame(){let t=!0;try{(window.top.localStorage||window.top.location.href)&&(t=!1)}catch{t=!0}return t}function throttle(t,e=80){let o=null;return function(){if(o)return!1;o=setTimeout(()=>{o=null},e),t.apply(this,arguments)}}/*!
 * @name         url.js
 * @description  用于对url进行解析的相关方法
 * @version      0.0.1
 * @author       Blaze
 * @date         27/03/2019 15:52
 * @github       https://github.com/xxxily
 */function parseURL(t){var e=document.createElement("a");return e.href=t||window.location.href,{source:t,protocol:e.protocol.replace(":",""),host:e.hostname,port:e.port,origin:e.origin,search:e.search,query:e.search,file:(e.pathname.match(/\/([^/?#]+)$/i)||["",""])[1],hash:e.hash.replace("#",""),path:e.pathname.replace(/^([^/])/,"/$1"),relative:(e.href.match(/tps?:\/\/[^/]+(.+)/)||["",""])[1],params:function(){for(var o={},s=[],a=e.search.replace(/^\?/,"").split("&"),u=0;u<a.length;u++){var f=a[u];f!==""&&f.indexOf("=")&&s.push(f)}for(var p=0;p<s.length;p++){var g=s[p],y=g.indexOf("="),v=g.substring(0,y),k=g.substring(y+1);v?o[v]=k:o[k]=null}return o}()}}function stringifyParams(t){var e=[];if(!Object.prototype.toString.call(t)==="[object Object]")return"";for(var o in t)if(Object.hasOwnProperty.call(t,o)){var s=t[o],a=Object.prototype.toString.call(s);if(s===""||a==="[object Undefined]")continue;s===null?e.push(o):a==="[object Array]"?e.push(o+"="+s.join(",")):(s=(JSON.stringify(s)||""+s).replace(/(^"|"$)/g,""),e.push(o+"="+s))}return e.join("&")}function stringifyToUrl(t){var e=stringifyParams(t.params)||"";e&&(e="?"+e);var o=t.hash?"#"+t.hash:"";return t.origin+t.path+e+o}const hasUseKey={keyCodeList:[13,16,17,18,27,32,37,38,39,40,49,50,51,52,67,68,69,70,73,74,75,77,78,79,80,81,82,83,84,85,87,88,89,90,97,98,99,100,220],keyList:["enter","shift","control","alt","escape"," ","arrowleft","arrowright","arrowup","arrowdown","1","2","3","4","c","d","e","f","i","j","k","n","o","p","q","r","s","t","u","w","x","y","z","\\","|"],keyMap:{enter:13,shift:16,ctrl:17,alt:18,esc:27,space:32,"\u2190":37,"\u2191":38,"\u2192":39,"\u2193":40,1:49,2:50,3:51,4:52,c:67,d:68,e:69,f:70,i:73,j:74,k:75,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,w:87,x:88,y:89,z:90,pad1:97,pad2:98,pad3:99,pad4:100,"\\":220}};function isRegisterKey(t){const e=t.keyCode,o=t.key.toLowerCase();return hasUseKey.keyCodeList.includes(e)||hasUseKey.keyList.includes(o)}async function getPageWindow(){return new Promise(function(t,e){if(window._pageWindow)return t(window._pageWindow);try{const a=getPageWindowSync();if(a&&a.document&&a.XMLHttpRequest)return window._pageWindow=a,t(a),a}catch{}const o=["load","mousemove","scroll","get-page-window-event"];function s(a){window._pageWindow=this,o.forEach(u=>{window.removeEventListener(u,s,!0)}),t(window._pageWindow)}o.forEach(a=>{window.addEventListener(a,s,!0)}),window.dispatchEvent(new window.Event("get-page-window-event"))})}getPageWindow();function getPageWindowSync(t){if(window.unsafeWindow)return window.unsafeWindow;if(document._win_)return document._win_;try{return t=t||window.__rawFunction__||Function.prototype.constructor,t('return (function(){}.constructor("var getPageWindowSync=1; return this")());')()}catch(e){console.error("getPageWindowSync error",e);const o=document.head||document.querySelector("head"),s=document.createElement("script");return s.appendChild(document.createTextNode("document._win_ = window")),o.appendChild(s),document._win_}}function openInTab(t,e,o){const s=Date.now(),a=`h5player_openTab_${t}`;let u=0;if(window.GM_getValue&&window.GM_setValue){if(u=window.GM_getValue(a,0),u&&s-u<1e3)return;window.GM_setValue(a,s)}else{if(u=sessionStorage.getItem(a),u&&s-parseInt(u)<1e3)return;sessionStorage.setItem(a,s.toString())}if(o){const f=parseURL(t);f.params.referer||(f.params.referer=encodeURIComponent(window.location.href),t=stringifyToUrl(f))}if(window.GM_openInTab)window.GM_openInTab(t,e||{active:!0,insert:!0,setParent:!0});else{const f=document.createElement("a");f.href=t,f.target="_blank",f.rel="noopener noreferrer",f.style.display="inline-block",f.style.width="1px",f.style.height="1px",f.style.opcity=0,document.body.appendChild(f),f.click(),setTimeout(()=>{document.body.removeChild(f)},300)}}function numUp(t){return typeof t=="number"&&t<0&&(t=Math.abs(t)),t}function numDown(t){return typeof t=="number"&&t>0&&(t=-t),t}function isMediaElement(t){return t&&(t instanceof HTMLMediaElement||t.HTMLMediaElement||t.HTMLVideoElement||t.HTMLAudioElement)}function isVideoElement(t){return t&&(t instanceof HTMLVideoElement||t.HTMLVideoElement)}function isAudioElement(t){return t&&(t instanceof HTMLAudioElement||t.HTMLAudioElement)}/*!
 * configManager parse localStorage error * @name         configManager.ts
 * @description  配置统一管理脚本
 * @version      0.0.1
 * @author       xxxily
 * @date         2023/03/06 14:29
 * @github       https://github.com/xxxily
 */function isLocalStorageUsable(){return window.localStorage&&window.localStorage.getItem instanceof Function&&window.localStorage.setItem instanceof Function}function isGlobalStorageUsable(){return window.GM_setValue&&window.GM_getValue&&window.GM_deleteValue&&window.GM_listValues instanceof Function}const rawLocalStorage=function(){const e=["getItem","setItem","removeItem","clear","key"],o={};return e.forEach(s=>{isLocalStorageUsable()?(o[`_${s}_`]=localStorage[s],o[s]=function(){return o[`_${s}_`].apply(localStorage,arguments)}):o[s]=function(){console.error("localStorage unavailable")}}),o}();class ConfigManager{constructor(e){this.opts=e}isLocalStorageUsable=isLocalStorageUsable;isGlobalStorageUsable=isGlobalStorageUsable;getConfKeyName(e=""){return this.opts.prefix+e.replace(/\./g,"_")}getConfPath(e=""){return e.replace(this.opts.prefix,"").replace(/_/g,".")}getConfPathList(e){const o=[];function s(a,u=""){Object.keys(a).forEach(f=>{const p=u?`${u}.${f}`:f;Object.prototype.toString.call(a[f])==="[object Object]"?s(a[f],p):o.push(p)})}return s(e),o}get(e){if(typeof e!="string")return null;const o=this.getLocalStorage(e);if(o!=null)return o;const s=this.getGlobalStorage(e);return s??this.getMemoryStorage(e)}set(e,o){if(typeof e!="string"||typeof o>"u"||o===null)return!1;setValByPath(this.opts.config,e,o);let s=!1;return s=this.setLocalStorage(e,o),s||(s=this.setGlobalStorage(e,o)),s}list(){return{localConf:this.listLocalStorage(),globalConf:this.listGlobalStorage(),defConfig:this.opts.config}}clear(){this.clearLocalStorage(),this.clearGlobalStorage()}getMemoryStorage(e){if(typeof e!="string")return null;const o=this.getConfObj(),s=getValByPath$1(o,e);return typeof s<"u"&&s!==null?s:null}getLocalStorage(e){if(typeof e!="string")return null;const o=this.getConfKeyName(e);if(isLocalStorageUsable()){let s=rawLocalStorage.getItem(o);if(s!=null){try{s=JSON.parse(s)}catch{console.error("configManager parse localStorage error:",o,s)}return s}else return this.getMemoryStorage(e)}return null}getGlobalStorage(e){if(typeof e!="string")return null;const o=this.getConfKeyName(e);if(isGlobalStorageUsable()){const s=window.GM_getValue(o);return s??this.getMemoryStorage(e)}else return this.getLocalStorage(e)}setMemoryStorage(e,o){return typeof e!="string"||typeof o>"u"||o===null?!1:(setValByPath(this.opts.config,e,o),!0)}setLocalStorage(e,o){if(typeof e!="string"||typeof o>"u"||o===null)return!1;setValByPath(this.opts.config,e,o);const s=this.getConfKeyName(e);if(isLocalStorageUsable())try{return(Object.prototype.toString.call(o)==="[object Object]"||Array.isArray(o))&&(o=JSON.stringify(o)),rawLocalStorage.setItem(s,o),!0}catch(a){return console.error("configManager set localStorage error:",s,o,a),!1}else return!1}setGlobalStorage(e,o){if(typeof e!="string"||typeof o>"u"||o===null)return!1;setValByPath(this.opts.config,e,o);const s=this.getConfKeyName(e);if(isGlobalStorageUsable())try{return window.GM_setValue(s,o),!0}catch(a){return console.error("configManager set globalStorage error:",s,o,a),!1}else return this.setLocalStorage(e,o)}listLocalStorage(){if(isLocalStorageUsable()){const e={};return Object.keys(localStorage).forEach(o=>{if(o.startsWith(this.opts.prefix)){const s=this.getConfPath(o);e[s]=this.getLocalStorage(s)}}),e}else return{}}listGlobalStorage(){if(isGlobalStorageUsable()){const e={};return window.GM_listValues().forEach(s=>{if(s.startsWith(this.opts.prefix)){const a=this.getConfPath(s);e[a]=this.getGlobalStorage(a)}}),e}else return{}}getConfObj(){const e=this.list();return Object.keys(e.globalConf).forEach(o=>{setValByPath(this.opts.config,o,e.globalConf[o])}),Object.keys(e.localConf).forEach(o=>{setValByPath(this.opts.config,o,e.localConf[o])}),this.opts.config}setLocalStorageByObj(e){const o=this.getConfObj();this.getConfPathList(e).forEach(a=>{const u=getValByPath$1(o,a),f=getValByPath$1(e,a);u===f||u===void 0||this.setLocalStorage(a,f)})}setGlobalStorageByObj(e){const o=this.getConfObj();this.getConfPathList(e).forEach(a=>{const u=getValByPath$1(o,a),f=getValByPath$1(e,a);u===f||u===void 0||this.setGlobalStorage(a,f)})}clearLocalStorage(){isLocalStorageUsable()&&Object.keys(localStorage).forEach(e=>{e.startsWith(this.opts.prefix)&&rawLocalStorage.removeItem(e)})}clearGlobalStorage(){isGlobalStorageUsable()&&window.GM_listValues().forEach(o=>{o.startsWith(this.opts.prefix)&&window.GM_deleteValue(o)})}mergeDefConf(e){return mergeObj(this.opts.config,e)}}const configManager=new ConfigManager({prefix:"_h5player_",config:{enable:!0,media:{autoPlay:!1,playbackRate:1,volume:1,lastPlaybackRate:1.5,allowRestorePlayProgress:{},progress:{}},enableHotkeys:!0,hotkeys:[{desc:"\u7F51\u9875\u5168\u5C4F",key:"shift+enter",command:"setWebFullScreen",disabled:!1},{desc:"\u5168\u5C4F",key:"enter",command:"setFullScreen"},{desc:"\u5207\u6362\u753B\u4E2D\u753B\u6A21\u5F0F",key:"shift+p",command:"togglePictureInPicture"},{desc:"\u89C6\u9891\u622A\u56FE",key:"shift+s",command:"capture"},{desc:"\u542F\u7528\u6216\u7981\u6B62\u81EA\u52A8\u6062\u590D\u64AD\u653E\u8FDB\u5EA6\u529F\u80FD",key:"shift+r",command:"switchRestorePlayProgressStatus"},{desc:"\u5782\u76F4\u955C\u50CF\u7FFB\u8F6C",key:"shift+m",command:"setMirror",args:[!0]},{desc:"\u6C34\u5E73\u955C\u50CF\u7FFB\u8F6C",key:"m",command:"setMirror"},{desc:"\u4E0B\u8F7D\u97F3\u89C6\u9891\u6587\u4EF6\uFF08\u5B9E\u9A8C\u6027\u529F\u80FD\uFF09",key:"shift+d",command:"mediaDownload"},{desc:"\u7F29\u5C0F\u89C6\u9891\u753B\u9762 -0.05",key:"shift+x",command:"setScaleDown",args:-.05},{desc:"\u653E\u5927\u89C6\u9891\u753B\u9762 +0.05",key:"shift+c",command:"setScaleUp",args:.05},{desc:"\u6062\u590D\u89C6\u9891\u753B\u9762",key:"shift+z",command:"resetTransform"},{desc:"\u753B\u9762\u5411\u53F3\u79FB\u52A810px",key:"shift+arrowright",command:"setTranslateRight",args:10},{desc:"\u753B\u9762\u5411\u5DE6\u79FB\u52A810px",key:"shift+arrowleft",command:"setTranslateLeft",args:-10},{desc:"\u753B\u9762\u5411\u4E0A\u79FB\u52A810px",key:"shift+arrowup",command:"setTranslateUp",args:10},{desc:"\u753B\u9762\u5411\u4E0B\u79FB\u52A810px",key:"shift+arrowdown",command:"setTranslateDown",args:-10},{desc:"\u524D\u8FDB5\u79D2",key:"arrowright",command:"setCurrentTimeUp",args:5},{desc:"\u540E\u90005\u79D2",key:"arrowleft",command:"setCurrentTimeDown",args:-5},{desc:"\u524D\u8FDB30\u79D2",key:"ctrl+arrowright",command:"setCurrentTimeUp",args:[30]},{desc:"\u540E\u900030\u79D2",key:"ctrl+arrowleft",command:"setCurrentTimeDown",args:[-30]},{desc:"\u97F3\u91CF\u5347\u9AD8 5%",key:"arrowup",command:"setVolumeUp",args:[.05]},{desc:"\u97F3\u91CF\u964D\u4F4E 5%",key:"arrowdown",command:"setVolumeDown",args:[-.05]},{desc:"\u97F3\u91CF\u5347\u9AD8 20%",key:"ctrl+arrowup",command:"setVolumeUp",args:[.2]},{desc:"\u97F3\u91CF\u964D\u4F4E 20%",key:"ctrl+arrowdown",command:"setVolumeDown",args:[-.2]},{desc:"\u5207\u6362\u6682\u505C/\u64AD\u653E",key:"space",command:"switchPlayStatus"},{desc:"\u51CF\u901F\u64AD\u653E",key:"x",command:"setPlaybackRateDown",args:-.1},{desc:"\u52A0\u901F\u64AD\u653E",key:"c",command:"setPlaybackRateUp",args:.1},{desc:"\u6B63\u5E38\u901F\u5EA6\u64AD\u653E",key:"z",command:"resetPlaybackRate"},{desc:"\u8BBE\u7F6E1x\u7684\u64AD\u653E\u901F\u5EA6",key:"Digit1",command:"setPlaybackRatePlus",args:1},{desc:"\u8BBE\u7F6E1x\u7684\u64AD\u653E\u901F\u5EA6",key:"Numpad1",command:"setPlaybackRatePlus",args:1},{desc:"\u8BBE\u7F6E2x\u7684\u64AD\u653E\u901F\u5EA6",key:"Digit2",command:"setPlaybackRatePlus",args:2},{desc:"\u8BBE\u7F6E2x\u7684\u64AD\u653E\u901F\u5EA6",key:"Numpad2",command:"setPlaybackRatePlus",args:2},{desc:"\u8BBE\u7F6E3x\u7684\u64AD\u653E\u901F\u5EA6",key:"Digit3",command:"setPlaybackRatePlus",args:3},{desc:"\u8BBE\u7F6E3x\u7684\u64AD\u653E\u901F\u5EA6",key:"Numpad3",command:"setPlaybackRatePlus",args:3},{desc:"\u8BBE\u7F6E4x\u7684\u64AD\u653E\u901F\u5EA6",key:"Digit4",command:"setPlaybackRatePlus",args:4},{desc:"\u8BBE\u7F6E4x\u7684\u64AD\u653E\u901F\u5EA6",key:"Numpad4",command:"setPlaybackRatePlus",args:4},{desc:"\u4E0B\u4E00\u5E27",key:"F",command:"freezeFrame",args:1},{desc:"\u4E0A\u4E00\u5E27",key:"D",command:"freezeFrame",args:-1},{desc:"\u589E\u52A0\u4EAE\u5EA6",key:"E",command:"setBrightnessUp"},{desc:"\u51CF\u5C11\u4EAE\u5EA6",key:"W",command:"setBrightnessDown"},{desc:"\u589E\u52A0\u5BF9\u6BD4\u5EA6",key:"T",command:"setContrastUp"},{desc:"\u51CF\u5C11\u5BF9\u6BD4\u5EA6",key:"R",command:"setContrastDown"},{desc:"\u589E\u52A0\u9971\u548C\u5EA6",key:"U",command:"setSaturationUp"},{desc:"\u51CF\u5C11\u9971\u548C\u5EA6",key:"Y",command:"setSaturationDown"},{desc:"\u589E\u52A0\u8272\u76F8",key:"O",command:"setHueUp"},{desc:"\u51CF\u5C11\u8272\u76F8",key:"I",command:"setHueDown"},{desc:"\u6A21\u7CCA\u589E\u52A0 1 px",key:"K",command:"setBlurUp"},{desc:"\u6A21\u7CCA\u51CF\u5C11 1 px",key:"J",command:"setBlurDown"},{desc:"\u56FE\u50CF\u590D\u4F4D",key:"Q",command:"resetFilterAndTransform"},{desc:"\u753B\u9762\u65CB\u8F6C 90 \u5EA6",key:"S",command:"setRotate"},{desc:"\u64AD\u653E\u4E0B\u4E00\u96C6",key:"N",command:"setNextVideo"},{desc:"\u63D2\u5165debugger\u65AD\u70B9",key:"ctrl+shift+alt+d",command:"debuggerNow"},{desc:"\u6267\u884CJS\u811A\u672C",key:"ctrl+j ctrl+s",command:()=>{alert("\u81EA\u5B9A\u4E49JS\u811A\u672C")},when:""}],mouse:{enable:!1,longPressTime:600},ui:{enable:!0,alwaysShow:!1,mod:{recommend:{enable:!1}}},download:{enable:!0},enhance:{blockSetPlaybackRate:!0,blockSetCurrentTime:!1,blockSetVolume:!1,allowExperimentFeatures:!1,allowExternalCustomConfiguration:!1,allowAcousticGain:!1,allowCrossOriginControl:!0,unfoldMenu:!1},language:"auto",debug:!1,blacklist:{urls:["https://www.bilibili.com/"],domains:["challenges.cloudflare.com"]}}});async function initUiConfigManager(){const t=location.href.indexOf("h5player.anzz.top/tools/json-editor")>-1||location.href.indexOf("h5player.anzz.site/tools/json-editor")>-1,e=location.href.indexOf("saveHandlerName=saveH5PlayerConfig")>-1;if(!t||!e)return;function o(f){const p=JSON.parse(JSON.stringify(configManager.getConfObj()));delete p.recommendList,Array.isArray(p.hotkeys)&&p.hotkeys.forEach(g=>{g.disabled===void 0&&(g.disabled=!1)}),f.jsonEditor.set(p),f.jsonEditor.expandAll&&f.jsonEditor.expandAll(),f.saveH5PlayerConfig=function(g){try{const y=configManager.getConfObj(),v=g.get();v.recommendList=y.recommendList||[],configManager.setGlobalStorageByObj(v),alert("\u914D\u7F6E\u5DF2\u66F4\u65B0")}catch(y){alert(`\u914D\u7F6E\u683C\u5F0F\u5F02\u5E38\uFF0C\u4FDD\u5B58\u5931\u8D25\uFF1A${y}`)}}}let s=0;function a(f){if(!f.JSONEditor){s<30&&setTimeout(()=>{s++,a(f)},200);return}o(f)}const u=await getPageWindow();u&&a(u)}initUiConfigManager();let TCC$1=class{constructor(e,o){this.conf=e||{"demo.demo":{fullScreen:".fullscreen-btn",exitFullScreen:".exit-fullscreen-btn",webFullScreen:function(){},exitWebFullScreen:".exit-fullscreen-btn",autoPlay:".player-start-btn",pause:".player-pause",play:".player-play",switchPlayStatus:".player-play",playbackRate:function(){},currentTime:function(){},addCurrentTime:".add-currenttime",subtractCurrentTime:".subtract-currenttime",shortcuts:{register:["ctrl+shift+alt+c","ctrl+shift+c","ctrl+alt+c","ctrl+c","c"],callback:function(s,a,u){const{event:f,player:p}=u;console.log(f,p)}},include:/^.*/,exclude:/\t/}},this.doTaskFunc=o instanceof Function?o:function(){}}setTaskConf(e){this.conf=e}getDomain(){const e=window.location.host;let o=e;const s=e.split(".");return s.length>2&&(s.shift(),o=s.join(".")),o}formatTCC(e){const o=this,s=Object.keys(o.conf),a=o.getDomain(),u=window.location.host;function f(g){const y={include:/^.*/,exclude:/\t/};return g.include=g.include||y.include,g.exclude=g.exclude||y.exclude,g}const p={};return s.forEach(function(g){let y=o[g];isObj$1(y)&&(e||g===u||g===a)&&(y=f(y),p[g]=y)}),p}isMatch(e){const o=window.location.href;let s=!1;return!e.include&&!e.exclude?s=!0:(e.include&&e.include.test(o)&&(s=!0),e.exclude&&e.exclude.test(o)&&(s=!1)),s}getTaskConfig(){const e=this;e._hasFormatTCC_||(e.formatTCC(),e._hasFormatTCC_=!0);const o=e.getDomain(),s=e.conf[window.location.host]||e.conf[o];return s&&e.isMatch(s)?s:{}}doTask(e,o){const s=this;let a=!1;if(!e)return a;const u=isObj$1(e)?e:s.getTaskConfig();return!isObj$1(u)||!u[e]||u[e]&&(a=s.doTaskFunc(e,u,o)),a}};class Debug{constructor(e={}){this.config={msg:"[Debug Msg]",trace:!1,traceGroup:!0,printTime:!1,color:"#000000",backgroundColor:"transparent",style:"",...e,colorMap:{info:"#2274A5",log:"#95B46A",warn:"#F5A623",error:"#D33F49",...e.colorMap||{}},backgroundColorMap:{info:"",log:"",warn:"",error:"",...e.backgroundColorMap||{}},styleMap:{info:"",log:"",warn:"",error:"",...e.styleMap||{}}},["log","error","info","warn"].forEach(s=>{this[s]=this.createDebugMethod(s)})}create(e){return new Debug(e)}createDebugMethod(e){e=e||"info";const{msg:o,color:s,colorMap:a,backgroundColor:u,backgroundColorMap:f,style:p,styleMap:g,printTime:y,trace:v,traceGroup:k}=this.config,P=a[e]||s,T=f[e]||u,O=g[e]||p;return function(){if(!window._debugMode_)return!1;const B=Array.from(arguments),W=B[0];B.unshift(`color: ${P}; background-color: ${T}; ${O}`);let M="";if(y){const E=new Date,H=E.getHours(),q=E.getMinutes(),Z=E.getSeconds();M=`[${H}:${q}:${Z}] `}if(B.unshift(`%c ${M}${o} `),v)if(k){const E=typeof W=="string"?W:Object.prototype.toString.call(W);console.groupCollapsed(`%c ${M}${o} ${E}`,`color: ${P}; background-color: ${T}; ${O}`),window.console[e].apply(console,B),console.trace(),console.groupEnd()}else window.console[e].apply(console,B),console.trace();else window.console[e].apply(window.console,B)}}isDebugMode(){return!!window._debugMode_}}var Debug$1=new Debug,debug=Debug$1.create({msg:"[H5player Msg]",trace:!1,traceGroup:!0,printTime:!1});const $q=function(t){return document.querySelector(t)},taskConf={"demo.demo":{init:function(t,e){},fullScreen:".fullscreen-btn",exitFullScreen:".exit-fullscreen-btn",webFullScreen:function(){},exitWebFullScreen:".exit-fullscreen-btn",autoPlay:".player-start-btn",pause:".player-pause",play:".player-play",afterPlay:function(t,e){},afterPause:function(t,e){},switchPlayStatus:".player-play",playbackRate:function(){},currentTime:function(){},addCurrentTime:".add-currenttime",subtractCurrentTime:".subtract-currenttime",shortcuts:{register:["ctrl+shift+alt+c","ctrl+shift+c","ctrl+alt+c","ctrl+c","c"],callback:function(t,e,o){const{event:s,player:a}=o;console.log(s,a)}},blockSetPlaybackRate:!0,blockSetCurrentTime:!0,blockSetVolume:!0,include:/^.*/,exclude:/\t/},"youtube.com":{init:function(t,e){if(t.hasBindSkipAdEvents)return;const o=new Date().getTime();let s=0;const a=u=>{if(new Date().getTime()-o<3e3||document.hidden)return!1;u.click(),s++,debug.log("youtube.com ad skip count",s)};ready(".ytp-ad-skip-button",function(u){a(u)}),ready(".ytp-ad-skip-button-modern",function(u){a(u)}),setInterval(function(){const u=document.querySelector(".ytp-ad-skip-button"),f=document.querySelector(".ytp-ad-skip-button-modern");u&&a(u),f&&a(f)},1e3),t.hasBindSkipAdEvents=!0},webFullScreen:"button.ytp-size-button",fullScreen:"button.ytp-fullscreen-button",next:".ytp-next-button",afterPlay:function(t,e){setTimeout(()=>{t.setCurrentTimeUp(.01,!0)},0);const o=t.player(),s=o.closest(".html5-video-player");if(!s)return;if(s.classList.add("ytp-autohide","playing-mode"),clearTimeout(s.autohideTimer),s.autohideTimer=setTimeout(()=>{s.classList.add("ytp-autohide","playing-mode")},1e3),!s.hasBindCustomEvents){const u=p=>{s.classList.remove("ytp-autohide","ytp-hide-info-bar"),clearTimeout(s.mousemoveTimer),s.mousemoveTimer=setTimeout(()=>{o.paused||s.classList.add("ytp-autohide","ytp-hide-info-bar")},2e3)},f=p=>{t.switchPlayStatus(),u()};o.addEventListener("mousemove",u),o.addEventListener("click",f),s.hasBindCustomEvents=!0}const a=s.querySelector(".ytp-spinner");if(a){const u=()=>{a&&(a.style.visibility="hidden")},f=()=>{a&&(a.style.visibility="visible")};u(),clearTimeout(s.spinnerTimer),s.spinnerTimer=setTimeout(()=>{a.style.display="none",f()},1e3)}},afterPause:function(t,e){const s=t.player().closest(".html5-video-player");s&&(s.classList.remove("ytp-autohide","playing-mode"),s.classList.add("paused-mode"),clearTimeout(s.autohideTimer))},shortcuts:{register:["escape"],callback:function(t,e,o){const{event:s}=o;s.keyCode===27&&document.querySelector(".ytp-upnext").style.display!=="none"&&document.querySelector(".ytp-upnext-cancel-button").click()}}},"netflix.com":{fullScreen:"button.button-nfplayerFullscreen",addCurrentTime:"button.button-nfplayerFastForward",subtractCurrentTime:"button.button-nfplayerBackTen",playbackRate:!0,shortcuts:{register:["f"],callback:function(t,e,o){return!0}}},"bilibili.com":{fullScreen:function(){const t=$q(".bpx-player-ctrl-full")||$q(".squirtle-video-fullscreen")||$q(".bilibili-player-video-btn-fullscreen");if(t)return t.click(),!0},webFullScreen:function(){const t=$q(".bilibili-player-video-web-fullscreen"),e=$q(".bpx-player-ctrl-web-enter")||$q(".squirtle-pagefullscreen-inactive"),o=$q(".bpx-player-ctrl-web-leave")||$q(".squirtle-pagefullscreen-active");if(t||e&&o)return(t||(getComputedStyle(o).display==="none"?e:o)).click(),setTimeout(function(){const a=$q(".bpx-player-dm-input")||$q(".bilibili-player-video-danmaku-input");a&&a.blur()},1e3*.1),!0},autoPlay:[".bpx-player-ctrl-play",".squirtle-video-start",".bilibili-player-video-btn-start"],switchPlayStatus:[".bpx-player-ctrl-play",".squirtle-video-start",".bilibili-player-video-btn-start"],next:[".bpx-player-ctrl-next",".squirtle-video-next",".bilibili-player-video-btn-next",'.bpx-player-ctrl-btn[aria-label="\u4E0B\u4E00\u4E2A"]'],init:function(t,e){},shortcuts:{register:["escape"],callback:function(t,e,o){const{event:s}=o;if(s.keyCode===27){const a=$q(".bilibili-player-video-web-fullscreen");if(a&&a.classList.contains("closed"))a.click();else{const u=$q(".bpx-player-ctrl-web-leave")||$q(".squirtle-pagefullscreen-active");getComputedStyle(u).display!=="none"&&u.click()}}}}},"t.bilibili.com":{fullScreen:'button[name="fullscreen-button"]'},"live.bilibili.com":{init:function(){JSON._stringifySource_||(JSON._stringifySource_=JSON.stringify,JSON.stringify=function(t){try{return JSON._stringifySource_.apply(this,arguments)}catch(e){console.error("JSON.stringify \u89E3\u91CA\u51FA\u9519\uFF1A",e,t)}})},fullScreen:".bilibili-live-player-video-controller-fullscreen-btn button",webFullScreen:".bilibili-live-player-video-controller-web-fullscreen-btn button",switchPlayStatus:".bilibili-live-player-video-controller-start-btn button"},"acfun.cn":{fullScreen:'[data-bind-key="screenTip"]',webFullScreen:'[data-bind-key="webTip"]',switchPlayStatus:function(t){const e=t.player(),o=e.paused;setTimeout(function(){o===e.paused&&(e.paused?e.play():e.pause())},200)}},"ixigua.com":{fullScreen:["xg-fullscreen.xgplayer-fullscreen",'.xgplayer-control-item__entry[aria-label="\u5168\u5C4F"]','.xgplayer-control-item__entry[aria-label="\u9000\u51FA\u5168\u5C4F"]'],webFullScreen:["xg-cssfullscreen.xgplayer-cssfullscreen",'.xgplayer-control-item__entry[aria-label="\u5267\u573A\u6A21\u5F0F"]','.xgplayer-control-item__entry[aria-label="\u9000\u51FA\u5267\u573A\u6A21\u5F0F"]']},"tv.sohu.com":{fullScreen:'button[data-title="\u7F51\u9875\u5168\u5C4F"]',webFullScreen:'button[data-title="\u5168\u5C4F"]'},"iqiyi.com":{fullScreen:".iqp-btn-fullscreen",webFullScreen:".iqp-btn-webscreen",next:".iqp-btn-next",init:function(t,e){hideDom(".iqp-logo-box"),window.GM_addStyle(`
          div[templatetype="common_pause"]{ display:none }
          .iqp-logo-box{ display:none !important }
      `)}},"youku.com":{fullScreen:".control-fullscreen-icon",next:".control-next-video",init:function(t,e){hideDom(".youku-layer-logo")}},"ted.com":{fullScreen:"button.Fullscreen"},"qq.com":{pause:".container_inner .txp-shadow-mod",play:".container_inner .txp-shadow-mod",shortcuts:{register:["c","x","z","1","2","3","4"],callback:function(t,e,o){const{event:s}=o,a=s.key.toLowerCase(),u="customShortcuts_"+a;if(t[u]){if(Date.now()-t[u].time<200)return!1;if(t[u]===t.playbackRate||t[u]===!0){if(window.sessionStorage.playbackRate&&/(c|x|z|1|2|3|4)/.test(a)){const f=Number(window.sessionStorage.playbackRate),p=f-.1>=0?f-.1:.1,g=f+.1<=4?f+.1:4;let y=f;switch(a){case"z":y=1;break;case"c":y=g;break;case"x":y=p;break;default:y=Number(a);break}return window.sessionStorage.playbackRate=y,t.setCurrentTimeUp(.01,!0),t.setPlaybackRate(y,!0),!0}t[u]=!0}else t[u]=!1}else return t[u]={time:Date.now(),playbackRate:t.playbackRate},!1}},fullScreen:'txpdiv[data-report="window-fullscreen"]',webFullScreen:'txpdiv[data-report="browser-fullscreen"]',next:'txpdiv[data-report="play-next"]',init:function(t,e){hideDom(".txp-watermark"),hideDom(".txp-watermark-action")},include:/(v.qq|sports.qq)/},"pan.baidu.com":{fullScreen:function(t,e){t.player().parentNode.querySelector(".vjs-fullscreen-control").click()}},"facebook.com":{fullScreen:function(t,e){const o=t.player().parentNode.querySelectorAll("button");if(o&&o.length>3)return o[o.length-2].click(),!0},webFullScreen:function(t,e){const o=t.player().parentNode.querySelectorAll("button");if(o&&o.length>3)return o[o.length-2].click(),!0},shortcuts:{register:["escape"],callback:function(t,e,o){eachParentNode(t.player(),function(s){if(s.getAttribute("data-fullscreen-container")==="true"){const a=s.parentNode.querySelector("div>a>i>u");return a&&a.parentNode.parentNode.click(),!0}})}}},"douyu.com":{fullScreen:function(t,e){const o=t.player(),s=o._fullScreen_.getContainer();return o._isFullScreen_?s.querySelector('div[title="\u9000\u51FA\u7A97\u53E3\u5168\u5C4F"]').click():s.querySelector('div[title="\u7A97\u53E3\u5168\u5C4F"]').click(),o._isFullScreen_=!o._isFullScreen_,!0},webFullScreen:function(t,e){const o=t.player(),s=o._fullScreen_.getContainer();return o._isWebFullScreen_?s.querySelector('div[title="\u9000\u51FA\u7F51\u9875\u5168\u5C4F"]').click():s.querySelector('div[title="\u7F51\u9875\u5168\u5C4F"]').click(),o._isWebFullScreen_=!o._isWebFullScreen_,!0}},"open.163.com":{init:function(t,e){t.player().setAttribute("crossOrigin","anonymous")}},"agefans.tv":{init:function(t,e){t.player().setAttribute("crossOrigin","anonymous")}},"chaoxing.com":{fullScreen:".vjs-fullscreen-control"},"yixi.tv":{init:function(t,e){t.player().setAttribute("crossOrigin","anonymous")}},"douyin.com":{fullScreen:".xgplayer-fullscreen",webFullScreen:".xgplayer-page-full-screen",next:[".xgplayer-playswitch-next"],init:function(t,e){t.player().setAttribute("crossOrigin","anonymous");const o=t.player(),s=o.closest('div[data-e2e="feed-item"]'),a=()=>{if(s&&s.querySelector(".video-info-detail")){const u=s.querySelector(".video-info-detail"),p=u.querySelector(".account-name").innerText.replace(/^@*/,""),v=`${u.querySelector(".title").innerText.trim()} - ${p}`.replace(/[\\/:*?"<>|]/g,"-");s.setAttribute("data-title",v),o.setAttribute("data-title",v),document.title=v,s.removeEventListener("mouseover",a)}};s&&s.addEventListener("mouseover",a),setTimeout(a,1200)}},"live.douyin.com":{fullScreen:".xgplayer-fullscreen",webFullScreen:".xgplayer-page-full-screen",next:[".xgplayer-playswitch-next"],init:function(t,e){t.player().setAttribute("crossOrigin","anonymous")}},"zhihu.com":{fullScreen:['button[aria-label="\u5168\u5C4F"]','button[aria-label="\u9000\u51FA\u5168\u5C4F"]'],play:function(t,e,o){const s=t.player();if(s&&s.parentNode&&s.parentNode.parentNode){const a=s.parentNode.parentNode.querySelector("div~div:nth-child(3)");if(a){const u=a.querySelector("div");u&&u.innerText===""&&u.click()}}},init:function(t,e){t.player().setAttribute("crossOrigin","anonymous")}},"weibo.com":{fullScreen:["button.wbpv-fullscreen-control"],webFullScreen:["div.wbpv-open-layer-button"]},"twitter.com":{init:function(t,e){const o=t.player(),s=o.closest('article[data-testid="tweet"]'),a=()=>{if(s&&!s.getAttribute("data-title")&&s.querySelector('div[data-testid="tweetText"]')){const p=`${s.querySelector('div[data-testid="tweetText"]').innerText.trim()}`.replace(/[\\/:*?"<>|]/g,"-");s.setAttribute("data-title",p),o.setAttribute("data-title",p),s.removeEventListener("mouseover",a)}};s&&s.addEventListener("mouseover",a),setTimeout(a,600)}}};function h5PlayerTccInit(t){return new TCC$1(taskConf,function(e,o,s){try{const a=o[e],u=t.getPlayerWrapDom();if(!a)return;if(e==="shortcuts"){if(isObj$1(a)&&a.callback instanceof Function)return a.callback(t,o,s)}else if(a instanceof Function)try{return a(t,o,s)}catch(f){return debug.error("\u4EFB\u52A1\u914D\u7F6E\u4E2D\u5FC3\u7684\u81EA\u5B9A\u4E49\u51FD\u6570\u6267\u884C\u5931\u8D25\uFF1A",e,o,s,f),!1}else{if(typeof a=="boolean")return a;{const f=Array.isArray(a)?a:[a];for(let p=0;p<f.length;p++){const g=f[p];if(u&&u.querySelector(g))return u.querySelector(g).click(),!0;if(document.querySelector(g))return document.querySelector(g).click(),!0}}}}catch(a){return debug.error("\u4EFB\u52A1\u914D\u7F6E\u4E2D\u5FC3\u7684\u81EA\u5B9A\u4E49\u4EFB\u52A1\u6267\u884C\u5931\u8D25\uFF1A",e,o,s,a),!1}})}function mergeTaskConf(t){return mergeObj(taskConf,t)}const fakeConfig={"open.163.com":userAgentMap.iPhone.chrome,"m.open.163.com":userAgentMap.iPhone.chrome,"pan.baidu.com":userAgentMap.iPhone.safari};function setFakeUA(t){const e=window.location.host;t=t||fakeConfig[e],t&&fakeUA(t)}class FullScreen{constructor(e,o){this.dom=e,this.shadowRoot=null,this.fullStatus=!1,this.pageMode=o||!1;const s=`
      ._webfullscreen_box_size_ {
				width: 100% !important;
				height: 100% !important;
			}
      ._webfullscreen_ {
        display: block !important;
				position: fixed !important;
				width: 100% !important;
				height: 100% !important;
				top: 0 !important;
				left: 0 !important;
				background: #000 !important;
				z-index: 999999 !important;
			}
			._webfullscreen_zindex_ {
				z-index: 999999 !important;
			}
		`;!window._hasInitFullPageStyle_&&window.GM_addStyle&&(window.GM_addStyle(s),window._hasInitFullPageStyle_=!0);const a=isInShadow(e,!0);a&&(this.shadowRoot=a,loadCSSText(s,"fullPageStyle",a));const u=this;window.addEventListener("keyup",f=>{f.key.toLowerCase()==="escape"&&(u.isFull()?u.exit():u.isFullScreen()&&u.exitFullScreen())},!0),this.getContainer()}eachParentNode(e,o){let s=e.parentNode;for(;s&&s.classList;){const a=o(s,e);if(s=s.parentNode,a)break}}getContainer(){const e=this;if(e._container_)return e._container_;const o=e.dom,s=o.getBoundingClientRect();let a=o;return e.eachParentNode(o,function(u){if(!u||!u.getBoundingClientRect||u.getAttribute("data-fullscreen-container"))return a=u,!0;const p=u.getBoundingClientRect();if(p.width<=s.width&&p.height<=s.height)a=u;else return!0}),a.setAttribute("data-fullscreen-container","true"),e._container_=a,a}isFull(){return this.dom.classList.contains("_webfullscreen_")||this.fullStatus}isFullScreen(){const e=document;return!!(e.fullscreen||e.webkitIsFullScreen||e.mozFullScreen||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)}enterFullScreen(){const e=this.getContainer(),o=e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;o&&o.call(e)}enter(){const e=this;if(e.isFull())return;const o=e.getContainer();let s=!1;e.dom===o&&(s=!0);function a(f){e.eachParentNode(f,function(p){p.classList.add("_webfullscreen_"),(o===p||s)&&(s=!0,p.classList.add("_webfullscreen_zindex_"))})}if(a(e.dom),e.dom.parentNode){const f=e.dom.getBoundingClientRect();if(e.dom.parentNode.getBoundingClientRect().width-f.width>=5&&e.dom.classList.add("_webfullscreen_"),e.shadowRoot&&e.shadowRoot._shadowHost){const g=e.shadowRoot._shadowHost;g.getBoundingClientRect().width<=f.width&&(g.classList.add("_webfullscreen_"),a(g))}}!e.pageMode&&e.enterFullScreen(),this.fullStatus=!0}exitFullScreen(){const e=document,o=e.exitFullscreen||e.webkitExitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen;o&&o.call(e)}exit(){const e=this;function o(a){e.eachParentNode(a,function(u){u.classList.remove("_webfullscreen_"),u.classList.remove("_webfullscreen_zindex_")})}if(o(e.dom),e.dom.classList.remove("_webfullscreen_"),e.shadowRoot&&e.shadowRoot._shadowHost){const a=e.shadowRoot._shadowHost;a.classList.remove("_webfullscreen_"),o(a)}(!e.pageMode||e.isFullScreen())&&e.exitFullScreen(),this.fullStatus=!1}toggle(){this.isFull()?this.exit():this.enter()}}/*!
 * @name      videoCapturer.js
 * @version   0.0.1
 * @author    Blaze
 * @date      2019/9/21 12:03
 * @github    https://github.com/xxxily
 */async function setClipboard(t){navigator.clipboard?navigator.clipboard.write([new ClipboardItem({[t.type]:t})]).then(()=>{console.info("[setClipboard] clipboard suc",t.type)}).catch(e=>{console.error("[setClipboard] clipboard err",t.type,e)}):console.error(`\u5F53\u524D\u7F51\u7AD9\u4E0D\u652F\u6301\u5C06\u6570\u636E\u5199\u5165\u5230\u526A\u8D34\u677F\u91CC\uFF0C\u89C1\uFF1A
 https://developer.mozilla.org/en-US/docs/Web/API/Clipboard`)}var videoCapturer={capture(t,e,o){if(!t)return!1;const s=this,a=`${Math.floor(t.currentTime/60)}'${(t.currentTime%60).toFixed(3)}''`,u=o||`${document.title}_${a}`;t.setAttribute("crossorigin","anonymous");const f=document.createElement("canvas");return f.width=t.videoWidth,f.height=t.videoHeight,f.getContext("2d").drawImage(t,0,0,f.width,f.height),e?s.download(f,u,t):s.previe(f,u),f},previe(t,e){t.style="max-width:100%";const o=window.open("","_blank");o.document.title=`capture previe - ${e||"Untitled"}`,o.document.body.style.textAlign="center",o.document.body.style.background="#000",o.document.body.appendChild(t)},download(t,e,o){e=e||"videoCapturer_"+Date.now();try{t.toBlob(function(s){setClipboard(s)},"image/png",.99)}catch(s){console.error("\u65E0\u6CD5\u5C06\u622A\u56FE\u590D\u5236\u5230\u526A\u8D34\u677F\u3002",s)}try{t.toBlob(function(s){const a=document.createElement("a");a.download=`${e}.jpg`,a.href=URL.createObjectURL(s),a.click()},"image/jpeg",.99)}catch(s){videoCapturer.previe(t,e),console.error(`\u89C6\u9891\u6E90\u53D7CORS\u6807\u8BC6\u9650\u5236\uFF0C\u65E0\u6CD5\u76F4\u63A5\u4E0B\u8F7D\u622A\u56FE\uFF0C\u89C1\uFF1A
 https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS`),console.error(o,s)}}};class MouseObserver{constructor(e){this.observer=new IntersectionObserver(o=>{o.forEach(s=>{s.target.IntersectionObserverEntry=s})},e||{}),this.observeList=[]}_observe(e){let o=!1;for(let s=0;s<this.observeList.length;s++){const a=this.observeList[s];if(e===a){o=!0;break}}o||(this.observer.observe(e),this.observeList.push(e))}_unobserve(e){this.observer.unobserve(e);const o=[];this.observeList.forEach(s=>{s!==e&&o.push(s)}),this.observeList=o}on(e,o,s,a){const u=this;u._observe(e),e.MouseObserverEvent||(e.MouseObserverEvent={}),e.MouseObserverEvent[o]=!0,u._mouseObserver_||(u._mouseObserver_={}),u._mouseObserver_[o]||(u._mouseObserver_[o]=[],window.addEventListener(o,f=>{u.observeList.forEach(p=>{const g=p.IntersectionObserverEntry&&p.IntersectionObserverEntry.intersectionRatio>0,y=p.MouseObserverEvent[f.type]===!0;if(g&&y){const v=p.getBoundingClientRect(),k=f.x-v.x,P=f.y-v.y;k<=v.width&&k>=0&&P<=v.height&&P>=0&&u._mouseObserver_[o].forEach(B=>{B instanceof Function&&B.call(u,f,{x:k,y:P},p)})}})},a)),s instanceof Function&&u._mouseObserver_[o].push(s)}off(e,o,s){const a=this;if(!e||!o||!s||!a._mouseObserver_||!a._mouseObserver_[o]||!e.MouseObserverEvent||!e.MouseObserverEvent[o])return!1;const u=[],f=a._mouseObserver_[o];let p=!1;f.forEach(g=>{g===s?p=!0:u.push(g)}),p&&(a._mouseObserver_[o]=u,u.length===0&&delete e.MouseObserverEvent[o],JSON.stringify(e.MouseObserverEvent[o])==="{}"&&a._unobserve(e))}}class I18n{constructor(e){this._languages={},this._locale=this.getClientLang(),this._defaultLanguage="",this.init(e)}init(e){if(!e)return!1;const o=this;o._locale=e.locale||o._locale,o._languages=e.languages||o._languages,o._defaultLanguage=e.defaultLanguage||o._defaultLanguage}use(){}t(e){const o=this;let s=o.getValByPath(o._languages[o._locale]||{},e);return!s&&o._locale!==o._defaultLanguage&&(s=o.getValByPath(o._languages[o._defaultLanguage]||{},e)),s||""}language(){return this._locale}languages(){return this._languages}changeLanguage(e){return this._languages[e]?(this._locale=e,e):!1}isMatchCurLang(e){const o=this.language()||"",s=o.replace("-",""),a=o.replace("-","_"),u=o.split("-")[0];return e&&!Array.isArray(e)&&(e=[e]),e.includes(o)||e.includes(s)||e.includes(a)||e.includes(u)}getValByPath(e,o){o=o||"";const s=o.split(".");let a=e;for(let u=0;u<s.length&&a;u++)a=a[s[u]];return a}getClientLang(){return navigator.languages?navigator.languages[0]:navigator.language}}var zhCN={website:"\u{1F3E0}\u811A\u672C\u5B98\u7F51",about:"\u5173\u4E8E",issues:"\u95EE\u9898\u53CD\u9988",faq:"\u5E38\u89C1\u95EE\u9898",setting:"\u8BBE\u7F6E",hotkeys:"\u5FEB\u6377\u952E",keyboardControl:"\u952E\u76D8\u63A7\u5236",mouseControl:"\u9F20\u6807\u63A7\u5236",hotkeysDocs:"\u5FEB\u6377\u952E\u6587\u6863",enable:"\u542F\u7528",disable:"\u7981\u7528",toggleStates:"\u542F\u7528/\u7981\u7528",disableHotkeysTemporarily:"\u4E34\u65F6\u7981\u7528\u5FEB\u6377\u952E",toggleHotkeysTemporarily:"\u4E34\u65F6\u542F\u7528/\u7981\u7528\u5FEB\u6377\u952E",enableHotkeys:"\u542F\u7528\u5FEB\u6377\u952E",disableHotkeys:"\u7981\u7528\u5FEB\u6377\u952E",enableMouseControl:"\u542F\u7528\u9F20\u6807\u63A7\u5236",disableMouseControl:"\u7981\u7528\u9F20\u6807\u63A7\u5236",donate:"\u{1F44D}\u8BF7\u4F5C\u8005\u559D\u676F\u5496\u5561",aboutDonate:"100\u4E07\u7EA7\u5B89\u88C5\u91CF\u7684\u4F5C\u54C1\uFF0C\u6709\u591A\u5C11\u6253\u8D4F\uFF1F",aboutAuthor:"\u5173\u4E8E\u4F5C\u8005",recommend:"\u2764\uFE0F \u514D\u8D39ChatGPT-4 \u2764\uFE0F",enableScript:"\u542F\u7528\u811A\u672C",disableScript:"\u7981\u7528\u811A\u672C",disableCurrentInstanceGUI:"\u5173\u95ED\u5F53\u524D\u56FE\u5F62\u7528\u6237\u754C\u9762",disableGUITemporarily:"\u4E34\u65F6\u7981\u7528\u56FE\u5F62\u7528\u6237\u754C\u9762",enableGUI:"\u542F\u7528\u56FE\u5F62\u7528\u6237\u754C\u9762",disableGUI:"\u7981\u7528\u56FE\u5F62\u7528\u6237\u754C\u9762",graphicalInterface:"\u56FE\u5F62\u754C\u9762",alwaysShowGraphicalInterface:"\u59CB\u7EC8\u663E\u793A\u56FE\u5F62\u754C\u9762",openCrossOriginFramePage:"\u5355\u72EC\u6253\u5F00\u8DE8\u57DF\u7684\u9875\u9762",disableInitAutoPlay:"\u7981\u6B62\u5728\u6B64\u7F51\u7AD9\u81EA\u52A8\u64AD\u653E\u89C6\u9891",enableInitAutoPlay:"\u5141\u8BB8\u5728\u6B64\u7F51\u7AD9\u81EA\u52A8\u64AD\u653E\u89C6\u9891",restoreConfiguration:"\u8FD8\u539F\u5168\u5C40\u7684\u9ED8\u8BA4\u914D\u7F6E",blockSetPlaybackRate:"\u7981\u7528\u9ED8\u8BA4\u901F\u5EA6\u8C03\u8282\u903B\u8F91",blockSetCurrentTime:"\u7981\u7528\u9ED8\u8BA4\u64AD\u653E\u8FDB\u5EA6\u63A7\u5236\u903B\u8F91",blockSetVolume:"\u7981\u7528\u9ED8\u8BA4\u97F3\u91CF\u63A7\u5236\u903B\u8F91",unblockSetPlaybackRate:"\u5141\u8BB8\u9ED8\u8BA4\u901F\u5EA6\u8C03\u8282\u903B\u8F91",unblockSetCurrentTime:"\u5141\u8BB8\u9ED8\u8BA4\u64AD\u653E\u8FDB\u5EA6\u63A7\u5236\u903B\u8F91",unblockSetVolume:"\u5141\u8BB8\u9ED8\u8BA4\u97F3\u91CF\u63A7\u5236\u903B\u8F91",allowAcousticGain:"\u5F00\u542F\u97F3\u91CF\u589E\u76CA\u80FD\u529B",notAllowAcousticGain:"\u7981\u7528\u97F3\u91CF\u589E\u76CA\u80FD\u529B",allowCrossOriginControl:"\u5F00\u542F\u8DE8\u57DF\u63A7\u5236\u80FD\u529B",notAllowCrossOriginControl:"\u7981\u7528\u8DE8\u57DF\u63A7\u5236\u80FD\u529B",allowExperimentFeatures:"\u5F00\u542F\u5B9E\u9A8C\u6027\u529F\u80FD",notAllowExperimentFeatures:"\u7981\u7528\u5B9E\u9A8C\u6027\u529F\u80FD",experimentFeaturesWarning:"\u5B9E\u9A8C\u6027\u529F\u80FD\u5BB9\u6613\u9020\u6210\u4E00\u4E9B\u4E0D\u786E\u5B9A\u7684\u95EE\u9898\uFF0C\u8BF7\u8C28\u614E\u5F00\u542F",useMediaDownloadTips:`\u4F7F\u7528\u4E0B\u8F7D\u529F\u80FD\uFF0C\u9700\u5F00\u542F\u5B9E\u9A8C\u6027\u529F\u80FD\uFF0C
\u5B9E\u9A8C\u6027\u529F\u80FD\u5BB9\u6613\u9020\u6210\u4E00\u4E9B\u4E0D\u786E\u5B9A\u7684\u95EE\u9898\uFF0C\u786E\u5B9A\u8981\u5F00\u542F\u5417\uFF1F`,allowExternalCustomConfiguration:"\u5F00\u542F\u5916\u90E8\u81EA\u5B9A\u4E49\u80FD\u529B",notAllowExternalCustomConfiguration:"\u5173\u95ED\u5916\u90E8\u81EA\u5B9A\u4E49\u80FD\u529B",changeLog:"\u66F4\u65B0\u65E5\u5FD7",currentVersion:"\u5F53\u524D\u7248\u672C",checkVersion:"\u68C0\u67E5\u662F\u5426\u6709\u65B0\u7248\u672C\uFF1F",configFail:"\u914D\u7F6E\u5931\u8D25",globalSetting:"\u5168\u5C40\u8BBE\u7F6E",openCustomConfigurationEditor:"\u6253\u5F00\u81EA\u5B9A\u4E49\u914D\u7F6E\u7F16\u8F91\u5668",localSetting:"\u4EC5\u7528\u4E8E\u6B64\u7F51\u7AD9",openDebugMode:"\u5F00\u542F\u8C03\u8BD5\u6A21\u5F0F",closeDebugMode:"\u5173\u95ED\u8C03\u8BD5\u6A21\u5F0F",unfoldMenu:"\u5C55\u5F00\u83DC\u5355",foldMenu:"\u6298\u53E0\u83DC\u5355",addGroupChat:"\u{1F4AC}\u6DFB\u52A0\u7FA4\u804A",speed:"\u500D\u901F",capture:"\u622A\u56FE",download:"\u4E0B\u8F7D",mediaDownload:{enable:"\u5F00\u542F\u5A92\u4F53\u4E0B\u8F7D",disable:"\u5173\u95ED\u5A92\u4F53\u4E0B\u8F7D",downloadOptions:"\u4E0B\u8F7D\u9009\u9879",downloading:"\u6587\u4EF6\u6B63\u5728\u4E0B\u8F7D\u4E2D\uFF0C\u786E\u5B9A\u91CD\u590D\u6267\u884C\u6B64\u64CD\u4F5C\uFF1F",hasDownload:"\u6587\u4EF6\u5DF2\u7ECF\u4E0B\u8F7D\uFF0C\u786E\u5B9A\u91CD\u590D\u6267\u884C\u6B64\u64CD\u4F5C\uFF1F",confirmTitle:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D",notSupport:"\u5F53\u524D\u5A92\u4F53\u6587\u4EF6\u65E0\u6CD5\u4E0B\u8F7D\uFF0C\u4E0B\u8F7D\u529F\u80FD\u5F85\u4F18\u5316\u5B8C\u5584",notEndOfStream:"\u5A92\u4F53\u6570\u636E\u8FD8\u6CA1\u5B8C\u5168\u5C31\u7EEA\uFF0C\u786E\u5B9A\u8981\u6267\u884C\u4E0B\u8F7D\u64CD\u4F5C\uFF1F",cancelAutoDownload:"\u662F\u5426\u53D6\u6D88\u81EA\u52A8\u4E0B\u8F7D\uFF1F",autoDownload:"\u5A92\u4F53\u6570\u636E\u5B8C\u5168\u5C31\u7EEA\u540E\uFF0C\u662F\u5426\u81EA\u52A8\u4E0B\u8F7D\uFF1F",notFoundMediaSource:"\u672A\u627E\u5230\u5BF9\u5E94\u7684\u5A92\u4F53\u6D41\u6570\u636E\uFF0C\u6570\u636E\u53EF\u80FD\u88AB\u6E05\u7406\u6216\u8005\u5A92\u4F53\u5143\u7D20\u5DF2\u7ECF\u88AB\u79FB\u9664\uFF0C\u5EFA\u8BAE\u5237\u65B0\u9875\u9762\u540E\u91CD\u8BD5"},menu:"\u83DC\u5355",more:"\u66F4\u591A",moreActions:"\u66F4\u591A\u64CD\u4F5C",videoFilter:"\u753B\u9762\u6EE4\u955C",resetFilterAndTransform:"\u56FE\u50CF\u590D\u4F4D",brightnessUp:"\u589E\u52A0\u4EAE\u5EA6",brightnessDown:"\u51CF\u5C11\u4EAE\u5EA6",contrastUp:"\u589E\u52A0\u5BF9\u6BD4\u5EA6",contrastDown:"\u51CF\u5C11\u5BF9\u6BD4\u5EA6",saturationUp:"\u589E\u52A0\u9971\u548C\u5EA6",saturationDown:"\u51CF\u5C11\u9971\u548C\u5EA6",hueUp:"\u589E\u52A0\u8272\u76F8",hueDown:"\u51CF\u5C11\u8272\u76F8",blurUp:"\u589E\u52A0\u6A21\u7CCA\u5EA6",blurDown:"\u51CF\u5C11\u6A21\u7CCA\u5EA6",rotateAndMirror:"\u65CB\u8F6C\u955C\u50CF",rotate90:"\u753B\u9762\u65CB\u8F6C 90 \u5EA6",horizontalMirror:"\u753B\u9762\u6C34\u5E73\u955C\u50CF\u7FFB\u8F6C",verticalMirror:"\u753B\u9762\u5782\u76F4\u955C\u50CF\u7FFB\u8F6C",videoTransform:"\u753B\u9762\u4F4D\u79FB",translateRight:"\u753B\u9762\u5411\u53F3\u79FB\u52A8",translateLeft:"\u753B\u9762\u5411\u5DE6\u79FB\u52A8",translateUp:"\u753B\u9762\u5411\u4E0A\u79FB\u52A8",translateDown:"\u753B\u9762\u5411\u4E0B\u79FB\u52A8",languageSettings:"\u8BED\u8A00\u8BBE\u7F6E",default:"\u9ED8\u8BA4",autoChoose:"\u81EA\u52A8\u9009\u62E9",comingSoon:"\u66F4\u591A\u529F\u80FD\u6B63\u5728\u5B8C\u5584\u4E2D\uFF0C\u656C\u8BF7\u671F\u5F85",ffmpegScript:"\u97F3\u89C6\u9891\u5408\u5E76/\u8F6C\u6362\u811A\u672C",autoGotoBufferedTime:"\u81EA\u52A8\u8DDF\u968F\u8DF3\u8F6C\u5230\u7F13\u51B2\u533A\u65F6\u95F4",disableAutoGotoBufferedTime:"\u7981\u7528\u81EA\u52A8\u8DDF\u968F\u8DF3\u8F6C\u5230\u7F13\u51B2\u533A\u65F6\u95F4",mouse:{enable:"\u542F\u7528\u9F20\u6807\u63A7\u5236",disable:"\u7981\u7528\u9F20\u6807\u63A7\u5236",longPressTime:"\u957F\u6309\u591A\u4E45\u54CD\u5E94\u9F20\u6807\u957F\u6309\u4E8B\u4EF6"},tipsMsg:{playspeed:"\u64AD\u653E\u901F\u5EA6\uFF1A",forward:"\u524D\u8FDB\uFF1A",backward:"\u540E\u9000\uFF1A",seconds:"\u79D2",volume:"\u97F3\u91CF\uFF1A",nextframe:"\u5B9A\u4F4D\uFF1A\u4E0B\u4E00\u5E27",previousframe:"\u5B9A\u4F4D\uFF1A\u4E0A\u4E00\u5E27",stopframe:"\u5B9A\u683C\u5E27\u753B\u9762\uFF1A",play:"\u64AD\u653E",pause:"\u6682\u505C",arpl:"\u5141\u8BB8\u81EA\u52A8\u6062\u590D\u64AD\u653E\u8FDB\u5EA6",drpl:"\u7981\u6B62\u81EA\u52A8\u6062\u590D\u64AD\u653E\u8FDB\u5EA6",brightness:"\u56FE\u50CF\u4EAE\u5EA6\uFF1A",contrast:"\u56FE\u50CF\u5BF9\u6BD4\u5EA6\uFF1A",saturation:"\u56FE\u50CF\u9971\u548C\u5EA6\uFF1A",hue:"\u56FE\u50CF\u8272\u76F8\uFF1A",blur:"\u56FE\u50CF\u6A21\u7CCA\u5EA6\uFF1A",imgattrreset:"\u56FE\u50CF\u5C5E\u6027\uFF1A\u590D\u4F4D",imgrotate:"\u753B\u9762\u65CB\u8F6C\uFF1A",onplugin:"\u542F\u7528h5Player\u63D2\u4EF6",offplugin:"\u7981\u7528h5Player\u63D2\u4EF6",globalmode:"\u5168\u5C40\u6A21\u5F0F\uFF1A",playbackrestored:"\u4E3A\u4F60\u6062\u590D\u4E0A\u6B21\u64AD\u653E\u8FDB\u5EA6",playbackrestoreoff:"\u6062\u590D\u64AD\u653E\u8FDB\u5EA6\u529F\u80FD\u5DF2\u7981\u7528\uFF0C\u6309 SHIFT+R \u53EF\u5F00\u542F\u8BE5\u529F\u80FD",horizontal:"\u6C34\u5E73\u4F4D\u79FB\uFF1A",vertical:"\u5782\u76F4\u4F4D\u79FB\uFF1A",horizontalMirror:"\u6C34\u5E73\u955C\u50CF",verticalMirror:"\u5782\u76F4\u955C\u50CF",videozoom:"\u89C6\u9891\u7F29\u653E\u7387\uFF1A"},faqList:{}},enUS={website:"\u{1F3E0}Script Homepage",about:"About",issues:"Issues",faq:"FAQ",setting:"Setting",hotkeys:"Hotkeys",keyboardControl:"Keyboard Control",mouseControl:"Mouse Control",hotkeysDocs:"Hotkeys Docs",enable:"Enable",disable:"Disable",toggleStates:"Enable/Disable",disableHotkeysTemporarily:"Disable hotkeys temporarily",toggleHotkeysTemporarily:"Toggle hotkeys temporarily",enableHotkeys:"Enable hotkeys",disableHotkeys:"Disable hotkeys",donate:"\u{1F44D}Donate",aboutDonate:"How much the author has received?",aboutAuthor:"About the author",enableScript:"Enable script",disableScript:"Disable script",disableCurrentInstanceGUI:"Close the current graphical user interface",disableGUITemporarily:"Temporarily disable the graphical interface",enableGUI:"Enable Graphical User Interface",disableGUI:"Disable Graphical User Interface",graphicalInterface:"Graphical Interface",alwaysShowGraphicalInterface:"Always show graphical interface",openCrossOriginFramePage:"Open cross-domain pages alone",disableInitAutoPlay:"Prohibit autoplay of videos on this site",enableInitAutoPlay:"Allow autoplay videos on this site",restoreConfiguration:"Restore the global default configuration",blockSetPlaybackRate:"Disable default speed regulation logic",blockSetCurrentTime:"Disable default playback progress control logic",blockSetVolume:"Disable default volume control logic",unblockSetPlaybackRate:"Allow default speed adjustment logic",unblockSetCurrentTime:"Allow default playback progress control logic",unblockSetVolume:"Allow default volume control logic",allowAcousticGain:"Turn on volume boost",notAllowAcousticGain:"Disable volume boost ability",allowCrossOriginControl:"Enable cross-domain control capability",notAllowCrossOriginControl:"Disable cross-domain control capabilities",allowExperimentFeatures:"Turn on experimental features",notAllowExperimentFeatures:"Disable experimental features",experimentFeaturesWarning:"Experimental features are likely to cause some uncertain problems, please turn on with caution",useMediaDownloadTips:`To use the download capability, you need to enable experimental features.
Experimental features can easily cause some uncertain problems. Are you sure you want to enable it?`,allowExternalCustomConfiguration:"Enable external customization capabilities",notAllowExternalCustomConfiguration:"Turn off external customization capabilities",changeLog:"Change log",currentVersion:"Current version",checkVersion:"Check for new version ?",configFail:"Configuration failed",globalSetting:"Global Settings",openCustomConfigurationEditor:"Open custom configuration editor",localSetting:"For this site only",openDebugMode:"Enable debug mode",closeDebugMode:"Turn off debug mode",unfoldMenu:"Expand menu",foldMenu:"Collapse menu",addGroupChat:"\u{1F4AC}Add chat group",speed:"Speed",capture:"Capture",download:"Download",mediaDownload:{enable:"Enable media download",disable:"Disable media download",downloadOptions:"Download options",downloading:"The file is being downloaded. Are you sure you want to execute this operation again?",hasDownload:"The file has been downloaded. Are you sure you want to execute this operation again?",confirmTitle:"Please enter the file name",notSupport:"The current media file cannot be downloaded. The download function needs to be optimized and improved",notEndOfStream:"The media data is not fully ready, are you sure you want to download it?",cancelAutoDownload:"Cancel automatic download?",autoDownload:"The media data is not fully ready, do you want to automatically download it when it is ready?",notFoundMediaSource:"The corresponding media stream data was not found, the data may have been cleared or the media element has been removed, it is recommended to refresh the page and try again"},menu:"Menu",more:"More",moreActions:"More actions",videoFilter:"Video filter",resetFilterAndTransform:"Reset filter and transform",brightnessUp:"Increase brightness",brightnessDown:"Decrease brightness",contrastUp:"Increase contrast",contrastDown:"Decrease contrast",saturationUp:"Increase saturation",saturationDown:"Decrease saturation",hueUp:"Increase hue",hueDown:"Decrease hue",blurUp:"Increase blur",blurDown:"Decrease blur",rotateAndMirror:"Rotate and mirror",rotate90:"Rotate 90 degrees",horizontalMirror:"Horizontal mirror flip",verticalMirror:"Vertical mirror flip",videoTransform:"Video displacement",translateRight:"Move the screen to the right",translateLeft:"Move the screen to the left",translateUp:"Move the screen up",translateDown:"Move the screen down",languageSettings:"Language settings",default:"Default",autoChoose:"Auto choose",comingSoon:"More features are being improved, stay tuned",ffmpegScript:"Audio and video merge/convert script",autoGotoBufferedTime:"Automatically jump to the buffered time",disableAutoGotoBufferedTime:"Disable automatic jump to the buffered time",mouse:{enable:"Enable mouse control",disable:"Disable mouse control",longPressTime:"How long to respond to mouse long press events"},tipsMsg:{playspeed:"Speed: ",forward:"Forward: ",backward:"Backward: ",seconds:"sec",volume:"Volume: ",nextframe:"Next frame",previousframe:"Previous frame",stopframe:"Stopframe: ",play:"Play",pause:"Pause",arpl:"Allow auto resume playback progress",drpl:"Disable auto resume playback progress",brightness:"Brightness: ",contrast:"Contrast: ",saturation:"Saturation: ",hue:"HUE: ",blur:"Blur: ",imgattrreset:"Attributes: reset",imgrotate:"Picture rotation: ",onplugin:"ON h5Player plugin",offplugin:"OFF h5Player plugin",globalmode:"Global mode: ",playbackrestored:"Restored the last playback progress for you",playbackrestoreoff:"The function of restoring the playback progress is disabled. Press SHIFT+R to turn on the function",horizontal:"Horizontal displacement: ",vertical:"Vertical displacement: ",horizontalMirror:"Horizontal mirror",verticalMirror:"vertical mirror",videozoom:"Video zoom: "},demo:"demo-test"},ru={website:"\u{1F3E0}\u043E\u0444\u0438\u0446\u0438\u0430\u043B\u044C\u043D\u044B\u0439 \u0441\u0430\u0439\u0442 \u0441\u043A\u0440\u0438\u043F\u0442\u0430",about:"\u043E\u043A\u043E\u043B\u043E",issues:"\u043E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C",faq:"\u0447\u0430\u0441\u0442\u043E \u0437\u0430\u0434\u0430\u0432\u0430\u0435\u043C\u044B\u0435 \u0432\u043E\u043F\u0440\u043E\u0441\u044B",setting:"\u0443\u0441\u0442\u0430\u043D\u043E\u0432\u043A\u0430",hotkeys:"\u0433\u043E\u0440\u044F\u0447\u0438\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438",keyboardControl:"\u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043A\u043B\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u043E\u0439",mouseControl:"\u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043C\u044B\u0448\u044C\u044E",hotkeysDocs:"\u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B \u0433\u043E\u0440\u044F\u0447\u0438\u0445 \u043A\u043B\u0430\u0432\u0438\u0448",enable:"\u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C",disable:"\u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C",toggleStates:"\u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C/\u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C",disableHotkeysTemporarily:"\u0432\u0440\u0435\u043C\u0435\u043D\u043D\u043E \u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0433\u043E\u0440\u044F\u0447\u0438\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438",toggleHotkeysTemporarily:"\u0432\u0440\u0435\u043C\u0435\u043D\u043D\u043E \u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C/\u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0433\u043E\u0440\u044F\u0447\u0438\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438",enableHotkeys:"\u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0433\u043E\u0440\u044F\u0447\u0438\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438",disableHotkeys:"\u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0433\u043E\u0440\u044F\u0447\u0438\u0435 \u043A\u043B\u0430\u0432\u0438\u0448\u0438",donate:"\u{1F44D}\u043F\u043E\u0436\u0435\u0440\u0442\u0432\u043E\u0432\u0430\u0442\u044C",aboutDonate:"\u0421\u043A\u043E\u043B\u044C\u043A\u043E \u0430\u0432\u0442\u043E\u0440 \u043F\u043E\u043B\u0443\u0447\u0438\u043B?",aboutAuthor:"\u043E \u0430\u0432\u0442\u043E\u0440\u0435",enableScript:"\u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0441\u043A\u0440\u0438\u043F\u0442",disableScript:"\u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0441\u043A\u0440\u0438\u043F\u0442",disableCurrentInstanceGUI:"\u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0442\u0435\u043A\u0443\u0449\u0438\u0439 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",disableGUITemporarily:"\u0412\u0440\u0435\u043C\u0435\u043D\u043D\u043E \u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",enableGUI:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",disableGUI:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F",graphicalInterface:"\u0413\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441",alwaysShowGraphicalInterface:"\u0412\u0441\u0435\u0433\u0434\u0430 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0438\u043D\u0442\u0435\u0440\u0444\u0435\u0439\u0441",openCrossOriginFramePage:"\u041E\u0442\u043A\u0440\u044B\u0432\u0430\u0442\u044C \u0442\u043E\u043B\u044C\u043A\u043E \u043C\u0435\u0436\u0434\u043E\u043C\u0435\u043D\u043D\u044B\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u044B",disableInitAutoPlay:"\u0417\u0430\u043F\u0440\u0435\u0442\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0432\u0438\u0434\u0435\u043E \u043D\u0430 \u044D\u0442\u043E\u043C \u0441\u0430\u0439\u0442\u0435",enableInitAutoPlay:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u0435 \u0432\u0438\u0434\u0435\u043E \u043D\u0430 \u044D\u0442\u043E\u043C \u0441\u0430\u0439\u0442\u0435",restoreConfiguration:"\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u0433\u043B\u043E\u0431\u0430\u043B\u044C\u043D\u0443\u044E \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044E \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",blockSetPlaybackRate:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043B\u043E\u0433\u0438\u043A\u0443 \u0440\u0435\u0433\u0443\u043B\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u044F \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u0438 \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",blockSetCurrentTime:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043B\u043E\u0433\u0438\u043A\u0443 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0445\u043E\u0434\u043E\u043C \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",blockSetVolume:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u043B\u043E\u0433\u0438\u043A\u0443 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0433\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u044C\u044E \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",unblockSetPlaybackRate:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043B\u043E\u0433\u0438\u043A\u0443 \u0440\u0435\u0433\u0443\u043B\u0438\u0440\u043E\u0432\u043A\u0438 \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u0438 \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",unblockSetCurrentTime:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043B\u043E\u0433\u0438\u043A\u0443 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0445\u043E\u0434\u043E\u043C \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",unblockSetVolume:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u043B\u043E\u0433\u0438\u043A\u0443 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0433\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u044C\u044E \u043F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",allowAcousticGain:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u0435 \u0443\u0441\u0438\u043B\u0435\u043D\u0438\u0435 \u0433\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u0438",notAllowAcousticGain:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C \u0443\u0432\u0435\u043B\u0438\u0447\u0435\u043D\u0438\u044F \u0433\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u0438",allowCrossOriginControl:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u044C \u043C\u0435\u0436\u0434\u043E\u043C\u0435\u043D\u043D\u043E\u0433\u043E \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044F",notAllowCrossOriginControl:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u043C\u0435\u0436\u0434\u043E\u043C\u0435\u043D\u043D\u043E\u0433\u043E \u043A\u043E\u043D\u0442\u0440\u043E\u043B\u044F",allowExperimentFeatures:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u044D\u043A\u0441\u043F\u0435\u0440\u0438\u043C\u0435\u043D\u0442\u0430\u043B\u044C\u043D\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438",notAllowExperimentFeatures:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u044D\u043A\u0441\u043F\u0435\u0440\u0438\u043C\u0435\u043D\u0442\u0430\u043B\u044C\u043D\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438",experimentFeaturesWarning:"\u042D\u043A\u0441\u043F\u0435\u0440\u0438\u043C\u0435\u043D\u0442\u0430\u043B\u044C\u043D\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u043C\u043E\u0433\u0443\u0442 \u0432\u044B\u0437\u0432\u0430\u0442\u044C \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u043D\u044B\u0435 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u044B, \u0432\u043A\u043B\u044E\u0447\u0430\u0439\u0442\u0435 \u0438\u0445 \u0441 \u043E\u0441\u0442\u043E\u0440\u043E\u0436\u043D\u043E\u0441\u0442\u044C\u044E.",useMediaDownloadTips:`\u0427\u0442\u043E\u0431\u044B \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0444\u0443\u043D\u043A\u0446\u0438\u044E \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438, \u0432\u0430\u043C \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u044D\u043A\u0441\u043F\u0435\u0440\u0438\u043C\u0435\u043D\u0442\u0430\u043B\u044C\u043D\u0443\u044E \u0444\u0443\u043D\u043A\u0446\u0438\u044E.
\u042D\u043A\u0441\u043F\u0435\u0440\u0438\u043C\u0435\u043D\u0442\u0430\u043B\u044C\u043D\u044B\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0438 \u043C\u043E\u0433\u0443\u0442 \u043B\u0435\u0433\u043A\u043E \u0432\u044B\u0437\u0432\u0430\u0442\u044C \u043D\u0435\u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u043D\u0435\u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0435\u043D\u043D\u044B\u0435 \u043F\u0440\u043E\u0431\u043B\u0435\u043C\u044B. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0435\u0435?`,allowExternalCustomConfiguration:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0432\u043D\u0435\u0448\u043D\u0435\u0439 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",notAllowExternalCustomConfiguration:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E\u0441\u0442\u0438 \u0432\u043D\u0435\u0448\u043D\u0435\u0439 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",changeLog:"\u0416\u0443\u0440\u043D\u0430\u043B \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u0439",currentVersion:"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0432\u0435\u0440\u0441\u0438\u044F",checkVersion:"\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C \u043D\u0430\u043B\u0438\u0447\u0438\u0435 \u043D\u043E\u0432\u043E\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 ?",configFail:"\u041E\u0448\u0438\u0431\u043A\u0430 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438",globalSetting:"\u0413\u043B\u043E\u0431\u0430\u043B\u044C\u043D\u044B\u0435 \u043D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",openCustomConfigurationEditor:"\u041E\u0442\u043A\u0440\u044B\u0442\u044C \u0440\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044C\u0441\u043A\u043E\u0439 \u043A\u043E\u043D\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438",localSetting:"\u0442\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u044D\u0442\u043E\u0433\u043E \u0441\u0430\u0439\u0442\u0430",openDebugMode:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0440\u0435\u0436\u0438\u043C \u043E\u0442\u043B\u0430\u0434\u043A\u0438",closeDebugMode:"\u043E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0440\u0435\u0436\u0438\u043C \u043E\u0442\u043B\u0430\u0434\u043A\u0438",unfoldMenu:"\u0440\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u043C\u0435\u043D\u044E",foldMenu:"\u0441\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u043C\u0435\u043D\u044E",addGroupChat:"\u{1F4AC}\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0433\u0440\u0443\u043F\u043F\u0443 \u0447\u0430\u0442\u0430",speed:"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C",capture:"\u0417\u0430\u0445\u0432\u0430\u0442",download:"\u0421\u043A\u0430\u0447\u0430\u0442\u044C",mediaDownload:{enable:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0443 \u043C\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043B\u043E\u0432",disable:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0443 \u043C\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043B\u043E\u0432",downloadOptions:"\u041E\u043F\u0446\u0438\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438",downloading:"\u0418\u0434\u0435\u0442 \u0441\u043A\u0430\u0447\u0438\u0432\u0430\u043D\u0438\u0435 \u0444\u0430\u0439\u043B\u0430. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u044D\u0442\u0443 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E?",hasDownload:"\u0424\u0430\u0439\u043B \u0441\u043A\u0430\u0447\u0430\u043D. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u044D\u0442\u0443 \u043E\u043F\u0435\u0440\u0430\u0446\u0438\u044E?",confirmTitle:"\u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043C\u044F \u0444\u0430\u0439\u043B\u0430",notSupport:"\u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u043C\u0435\u0434\u0438\u0430\u0444\u0430\u0439\u043B \u043D\u0435\u0432\u043E\u0437\u043C\u043E\u0436\u043D\u043E \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C, \u0430 \u0444\u0443\u043D\u043A\u0446\u0438\u044E \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u043E \u043E\u043F\u0442\u0438\u043C\u0438\u0437\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0438 \u0443\u043B\u0443\u0447\u0448\u0438\u0442\u044C.",notEndOfStream:"\u041C\u0435\u0434\u0438\u0430\u0434\u0430\u043D\u043D\u044B\u0435 \u0435\u0449\u0435 \u043D\u0435 \u043F\u043E\u043B\u043D\u043E\u0441\u0442\u044C\u044E \u0433\u043E\u0442\u043E\u0432\u044B. \u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B, \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0438\u0445 \u0441\u043A\u0430\u0447\u0430\u0442\u044C?",cancelAutoDownload:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0443\u044E \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0443?",autoDownload:"\u0411\u0443\u0434\u0443\u0442 \u043B\u0438 \u043C\u0435\u0434\u0438\u0430\u0434\u0430\u043D\u043D\u044B\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044C\u0441\u044F \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u043F\u043E\u0441\u043B\u0435 \u0438\u0445 \u043F\u043E\u043B\u043D\u043E\u0439 \u0433\u043E\u0442\u043E\u0432\u043D\u043E\u0441\u0442\u0438?",notFoundMediaSource:"\u0421\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0449\u0438\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u043C\u0435\u0434\u0438\u0430\u043F\u043E\u0442\u043E\u043A\u0430 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B. \u0412\u043E\u0437\u043C\u043E\u0436\u043D\u043E, \u0434\u0430\u043D\u043D\u044B\u0435 \u0431\u044B\u043B\u0438 \u043E\u0447\u0438\u0449\u0435\u043D\u044B \u0438\u043B\u0438 \u043C\u0435\u0434\u0438\u0430-\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B \u0443\u0434\u0430\u043B\u0435\u043D\u044B. \u0420\u0435\u043A\u043E\u043C\u0435\u043D\u0434\u0443\u0435\u0442\u0441\u044F \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443 \u0438 \u043F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u043F\u043E\u043F\u044B\u0442\u043A\u0443."},menu:"\u041C\u0435\u043D\u044E",more:"\u0411\u043E\u043B\u044C\u0448\u0435",moreActions:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F",videoFilter:"\u0412\u0438\u0434\u0435\u043E\u0444\u0438\u043B\u044C\u0442\u0440",resetFilterAndTransform:"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C \u0444\u0438\u043B\u044C\u0442\u0440 \u0438 \u0442\u0440\u0430\u043D\u0441\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E",brightnessUp:"\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u044F\u0440\u043A\u043E\u0441\u0442\u044C",brightnessDown:"\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C \u044F\u0440\u043A\u043E\u0441\u0442\u044C",contrastUp:"\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u043A\u043E\u043D\u0442\u0440\u0430\u0441\u0442",contrastDown:"\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C \u043A\u043E\u043D\u0442\u0440\u0430\u0441\u0442",saturationUp:"\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u043D\u0430\u0441\u044B\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u044C",saturationDown:"\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C \u043D\u0430\u0441\u044B\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u044C",hueUp:"\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u043E\u0442\u0442\u0435\u043D\u043E\u043A",hueDown:"\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C \u043E\u0442\u0442\u0435\u043D\u043E\u043A",blurUp:"\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u0440\u0430\u0437\u043C\u044B\u0442\u0438\u0435",blurDown:"\u0423\u043C\u0435\u043D\u044C\u0448\u0438\u0442\u044C \u0440\u0430\u0437\u043C\u044B\u0442\u0438\u0435",rotateAndMirror:"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0438 \u043E\u0442\u0440\u0430\u0437\u0438\u0442\u044C",rotate90:"\u041F\u043E\u0432\u0435\u0440\u043D\u0443\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u043D\u0430 90 \u0433\u0440\u0430\u0434\u0443\u0441\u043E\u0432",horizontalMirror:"\u0413\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u0442\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",verticalMirror:"\u0412\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E\u0435 \u043E\u0442\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F",videoTransform:"\u0412\u0438\u0434\u0435\u043E \u0442\u0440\u0430\u043D\u0441\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",translateRight:"\u0421\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u044D\u043A\u0440\u0430\u043D \u0432\u043F\u0440\u0430\u0432\u043E",translateLeft:"\u0421\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u044D\u043A\u0440\u0430\u043D \u0432\u043B\u0435\u0432\u043E",translateUp:"\u0421\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u044D\u043A\u0440\u0430\u043D \u0432\u0432\u0435\u0440\u0445",translateDown:"\u0421\u0434\u0432\u0438\u043D\u0443\u0442\u044C \u044D\u043A\u0440\u0430\u043D \u0432\u043D\u0438\u0437",languageSettings:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u044F\u0437\u044B\u043A\u0430",default:"\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",autoChoose:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u0432\u044B\u0431\u043E\u0440",comingSoon:"\u0411\u043E\u043B\u044C\u0448\u0435 \u0444\u0443\u043D\u043A\u0446\u0438\u0439 \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u0441\u044F \u0432 \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u0435 \u0443\u043B\u0443\u0447\u0448\u0435\u043D\u0438\u044F, \u0441\u043B\u0435\u0434\u0438\u0442\u0435 \u0437\u0430 \u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F\u043C\u0438",ffmpegScript:"\u0421\u043A\u0440\u0438\u043F\u0442 \u0441\u043B\u0438\u044F\u043D\u0438\u044F/\u043F\u0440\u0435\u043E\u0431\u0440\u0430\u0437\u043E\u0432\u0430\u043D\u0438\u044F \u0430\u0443\u0434\u0438\u043E \u0438 \u0432\u0438\u0434\u0435\u043E",autoGotoBufferedTime:"\u0410\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438 \u043F\u0435\u0440\u0435\u0439\u0442\u0438 \u043A \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0431\u0443\u0444\u0435\u0440\u0430",disableAutoGotoBufferedTime:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043F\u0435\u0440\u0435\u0445\u043E\u0434 \u043A \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u0431\u0443\u0444\u0435\u0440\u0430",mouse:{enable:"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043C\u044B\u0448\u044C\u044E",disable:"\u041E\u0442\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043C\u044B\u0448\u044C\u044E",longPressTime:"\u041A\u0430\u043A \u0434\u043E\u043B\u0433\u043E \u0440\u0435\u0430\u0433\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u043D\u0430 \u0434\u043E\u043B\u0433\u0438\u0435 \u043D\u0430\u0436\u0430\u0442\u0438\u044F \u043C\u044B\u0448\u0438"},tipsMsg:{playspeed:"\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C: ",forward:"\u0412\u043F\u0435\u0440\u0451\u0434: ",backward:"\u041D\u0430\u0437\u0430\u0434: ",seconds:" \u0441\u0435\u043A",volume:"\u0413\u0440\u043E\u043C\u043A\u043E\u0441\u0442\u044C: ",nextframe:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439 \u043A\u0430\u0434\u0440",previousframe:"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0438\u0439 \u043A\u0430\u0434\u0440",stopframe:"\u0421\u0442\u043E\u043F-\u043A\u0430\u0434\u0440: ",play:"\u0417\u0430\u043F\u0443\u0441\u043A",pause:"\u041F\u0430\u0443\u0437\u0430",arpl:"\u0420\u0430\u0437\u0440\u0435\u0448\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0432\u043E\u0437\u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441\u0430 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F",drpl:"\u0417\u0430\u043F\u0440\u0435\u0442\u0438\u0442\u044C \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u0432\u043E\u0437\u043E\u0431\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441\u0430 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F",brightness:"\u042F\u0440\u043A\u043E\u0441\u0442\u044C: ",contrast:"\u041A\u043E\u043D\u0442\u0440\u0430\u0441\u0442: ",saturation:"\u041D\u0430\u0441\u044B\u0449\u0435\u043D\u043D\u043E\u0441\u0442\u044C: ",hue:"\u041E\u0442\u0442\u0435\u043D\u043E\u043A: ",blur:"\u0420\u0430\u0437\u043C\u044B\u0442\u0438\u0435: ",imgattrreset:"\u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044B: \u0441\u0431\u0440\u043E\u0441",imgrotate:"\u041F\u043E\u0432\u043E\u0440\u043E\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F: ",onplugin:"\u0412\u041A\u041B: \u043F\u043B\u0430\u0433\u0438\u043D \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F",offplugin:"\u0412\u042B\u041A\u041B: \u043F\u043B\u0430\u0433\u0438\u043D \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F",globalmode:"\u0413\u043B\u043E\u0431\u0430\u043B\u044C\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C:",playbackrestored:"\u0412\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D \u043F\u043E\u0441\u043B\u0435\u0434\u043D\u0438\u0439 \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F",playbackrestoreoff:"\u0424\u0443\u043D\u043A\u0446\u0438\u044F \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u0438\u044F \u043F\u0440\u043E\u0433\u0440\u0435\u0441\u0441\u0430 \u0432\u043E\u0441\u043F\u0440\u043E\u0438\u0437\u0432\u0435\u0434\u0435\u043D\u0438\u044F \u043E\u0442\u043A\u043B\u044E\u0447\u0435\u043D\u0430. \u041D\u0430\u0436\u043C\u0438\u0442\u0435 SHIFT + R, \u0447\u0442\u043E\u0431\u044B \u0432\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0444\u0443\u043D\u043A\u0446\u0438\u044E",horizontal:"\u0413\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E\u0435 \u0441\u043C\u0435\u0449\u0435\u043D\u0438\u0435: ",vertical:"\u0412\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E\u0435 \u0441\u043C\u0435\u0449\u0435\u043D\u0438\u0435: ",horizontalMirror:"\u0413\u043E\u0440\u0438\u0437\u043E\u043D\u0442\u0430\u043B\u044C\u043D\u043E\u0435 \u0437\u0435\u0440\u043A\u0430\u043B\u043E",verticalMirror:"\u0432\u0435\u0440\u0442\u0438\u043A\u0430\u043B\u044C\u043D\u043E\u0435 \u0437\u0435\u0440\u043A\u0430\u043B\u043E",videozoom:"\u0423\u0432\u0435\u043B\u0438\u0447\u0438\u0442\u044C \u0432\u0438\u0434\u0435\u043E: "}},zhTW={website:"\u{1F3E0}\u8173\u672C\u5B98\u7DB2",about:"\u95DC\u65BC",issues:"\u53CD\u994B",faq:"\u5E38\u898B\u554F\u984C",setting:"\u8A2D\u7F6E",hotkeys:"\u5FEB\u6377\u9375",keyboardControl:"\u9375\u76E4\u63A7\u5236",mouseControl:"\u9F20\u6A19\u63A7\u5236",hotkeysDocs:"\u5FEB\u6377\u9375\u6587\u6A94",enable:"\u555F\u7528",disable:"\u7981\u7528",toggleStates:"\u555F\u7528/\u7981\u7528",disableHotkeysTemporarily:"\u81E8\u6642\u7981\u7528\u5FEB\u6377\u9375",toggleHotkeysTemporarily:"\u81E8\u6642\u555F\u7528/\u7981\u7528\u5FEB\u6377\u9375",enableHotkeys:"\u555F\u7528\u5FEB\u6377\u9375",disableHotkeys:"\u7981\u7528\u5FEB\u6377\u9375",donate:"\u{1F44D}\u8B9A\u8CDE",aboutDonate:"100\u842C\u7D1A\u5B89\u88DD\u91CF\u7684\u4F5C\u54C1\uFF0C\u6709\u591A\u5C11\u6253\u8CDE\uFF1F",aboutAuthor:"\u95DC\u65BC\u4F5C\u8005",enableScript:"\u555F\u7528\u8173\u672C",disableScript:"\u7981\u7528\u8173\u672C",disableCurrentInstanceGUI:"\u95DC\u9589\u7576\u524D\u5716\u5F62\u7528\u6236\u754C\u9762",disableGUITemporarily:"\u81E8\u6642\u7981\u7528\u5716\u5F62\u7528\u6236\u754C\u9762",enableGUI:"\u555F\u7528\u5716\u5F62\u7528\u6236\u754C\u9762",disableGUI:"\u7981\u7528\u5716\u5F62\u7528\u6236\u754C\u9762",graphicalInterface:"\u5716\u5F62\u754C\u9762",alwaysShowGraphicalInterface:"\u59CB\u7D42\u986F\u793A\u5716\u5F62\u754C\u9762",openCrossOriginFramePage:"\u55AE\u7368\u6253\u958B\u8DE8\u57DF\u7684\u9801\u9762",disableInitAutoPlay:"\u7981\u6B62\u5728\u6B64\u7DB2\u7AD9\u81EA\u52D5\u64AD\u653E\u8996\u983B",enableInitAutoPlay:"\u5141\u8A31\u5728\u6B64\u7DB2\u7AD9\u81EA\u52D5\u64AD\u653E\u8996\u983B",restoreConfiguration:"\u9084\u539F\u5168\u5C40\u7684\u9ED8\u8A8D\u914D\u7F6E",blockSetPlaybackRate:"\u7981\u7528\u9ED8\u8A8D\u901F\u5EA6\u8ABF\u7BC0\u908F\u8F2F",blockSetCurrentTime:"\u7981\u7528\u9ED8\u8A8D\u64AD\u653E\u9032\u5EA6\u63A7\u5236\u908F\u8F2F",blockSetVolume:"\u7981\u7528\u9ED8\u8A8D\u97F3\u91CF\u63A7\u5236\u908F\u8F2F",unblockSetPlaybackRate:"\u5141\u8A31\u9ED8\u8A8D\u901F\u5EA6\u8ABF\u7BC0\u908F\u8F2F",unblockSetCurrentTime:"\u5141\u8A31\u9ED8\u8A8D\u64AD\u653E\u9032\u5EA6\u63A7\u5236\u908F\u8F2F",unblockSetVolume:"\u5141\u8A31\u9ED8\u8A8D\u97F3\u91CF\u63A7\u5236\u908F\u8F2F",allowAcousticGain:"\u958B\u555F\u97F3\u91CF\u589E\u76CA\u80FD\u529B",notAllowAcousticGain:"\u7981\u7528\u97F3\u91CF\u589E\u76CA\u80FD\u529B",allowCrossOriginControl:"\u958B\u555F\u8DE8\u57DF\u63A7\u5236\u80FD\u529B",notAllowCrossOriginControl:"\u7981\u7528\u8DE8\u57DF\u63A7\u5236\u80FD\u529B",allowExperimentFeatures:"\u958B\u555F\u5BE6\u9A57\u6027\u529F\u80FD",notAllowExperimentFeatures:"\u7981\u7528\u5BE6\u9A57\u6027\u529F\u80FD",experimentFeaturesWarning:"\u5BE6\u9A57\u6027\u529F\u80FD\u5BB9\u6613\u9020\u6210\u4E00\u4E9B\u4E0D\u78BA\u5B9A\u7684\u554F\u984C\uFF0C\u8ACB\u8B39\u614E\u958B\u555F",useMediaDownloadTips:`\u4F7F\u7528\u4E0B\u8F09\u529F\u80FD\uFF0C\u9700\u958B\u555F\u5BE6\u9A57\u529F\u80FD\uFF0C
\u5BE6\u9A57\u529F\u80FD\u5BB9\u6613\u9020\u6210\u4E00\u4E9B\u4E0D\u78BA\u5B9A\u7684\u554F\u984C\uFF0C\u78BA\u5B9A\u8981\u958B\u555F\u55CE\uFF1F`,allowExternalCustomConfiguration:"\u958B\u555F\u5916\u90E8\u81EA\u5B9A\u7FA9\u80FD\u529B",notAllowExternalCustomConfiguration:"\u95DC\u9589\u5916\u90E8\u81EA\u5B9A\u7FA9\u80FD\u529B",changeLog:"\u66F4\u65B0\u65E5\u8A8C",currentVersion:"\u7576\u524D\u7248\u672C",checkVersion:"\u6AA2\u67E5\u662F\u5426\u6709\u65B0\u7248\u672C\uFF1F",configFail:"\u914D\u7F6E\u5931\u6557",globalSetting:"\u5168\u5C40\u8A2D\u7F6E",openCustomConfigurationEditor:"\u6253\u958B\u81EA\u5B9A\u7FA9\u914D\u7F6E\u7DE8\u8F2F\u5668",localSetting:"\u50C5\u7528\u65BC\u6B64\u7DB2\u7AD9",openDebugMode:"\u958B\u555F\u8ABF\u8A66\u6A21\u5F0F",closeDebugMode:"\u95DC\u9589\u8ABF\u8A66\u6A21\u5F0F",unfoldMenu:"\u5C55\u958B\u83DC\u55AE",foldMenu:"\u6298\u758A\u83DC\u55AE",addGroupChat:"\u{1F4AC}\u65B0\u589E\u7FA4\u804A",speed:"\u500D\u901F",capture:"\u622A\u5716",download:"\u4E0B\u8F09",mediaDownload:{enable:"\u958B\u555F\u5A92\u9AD4\u4E0B\u8F09",disable:"\u95DC\u9589\u5A92\u9AD4\u4E0B\u8F09",downloadOptions:"\u4E0B\u8F09\u9078\u9805",downloading:"\u6587\u4EF6\u6B63\u5728\u4E0B\u8F09\u4E2D\uFF0C\u78BA\u5B9A\u91CD\u8907\u57F7\u884C\u6B64\u64CD\u4F5C\uFF1F",hasDownload:"\u6587\u4EF6\u5DF2\u7D93\u4E0B\u8F09\uFF0C\u78BA\u5B9A\u91CD\u8907\u57F7\u884C\u6B64\u64CD\u4F5C\uFF1F",confirmTitle:"\u8ACB\u8F38\u5165\u6587\u4EF6\u540D",notSupport:"\u76EE\u524D\u5A92\u9AD4\u6A94\u6848\u7121\u6CD5\u4E0B\u8F09\uFF0C\u4E0B\u8F09\u529F\u80FD\u8981\u512A\u5316\u5B8C\u5584",notEndOfStream:"\u5A92\u9AD4\u8CC7\u6599\u9084\u6C92\u5B8C\u5168\u5C31\u7DD2\uFF0C\u78BA\u5B9A\u8981\u57F7\u884C\u4E0B\u8F09\u64CD\u4F5C\uFF1F",cancelAutoDownload:"\u662F\u5426\u53D6\u6D88\u81EA\u52D5\u4E0B\u8F09\uFF1F",autoDownload:"\u5A92\u9AD4\u8CC7\u6599\u5B8C\u5168\u5C31\u7DD2\u5F8C\uFF0C\u662F\u5426\u81EA\u52D5\u4E0B\u8F09\uFF1F",notFoundMediaSource:"\u672A\u627E\u5230\u5C0D\u61C9\u7684\u5A92\u9AD4\u6D41\u6578\u64DA\uFF0C\u6578\u64DA\u53EF\u80FD\u88AB\u6E05\u7406\u6216\u5A92\u9AD4\u5143\u7D20\u5DF2\u7D93\u88AB\u79FB\u9664\uFF0C\u5EFA\u8B70\u5237\u65B0\u9801\u9762\u5F8C\u91CD\u8A66"},menu:"\u83DC\u55AE",more:"\u66F4\u591A",moreActions:"\u66F4\u591A\u64CD\u4F5C",videoFilter:"\u8996\u983B\u6FFE\u93E1",resetFilterAndTransform:"\u5716\u50CF\u5FA9\u4F4D",brightnessUp:"\u589E\u52A0\u4EAE\u5EA6",brightnessDown:"\u6E1B\u5C11\u4EAE\u5EA6",contrastUp:"\u589E\u52A0\u5C0D\u6BD4\u5EA6",contrastDown:"\u6E1B\u5C11\u5C0D\u6BD4\u5EA6",saturationUp:"\u589E\u52A0\u98FD\u548C\u5EA6",saturationDown:"\u6E1B\u5C11\u98FD\u548C\u5EA6",hueUp:"\u589E\u52A0\u8272\u76F8",hueDown:"\u6E1B\u5C11\u8272\u76F8",blurUp:"\u589E\u52A0\u6A21\u7CCA\u5EA6",blurDown:"\u6E1B\u5C11\u6A21\u7CCA\u5EA6",rotateAndMirror:"\u65CB\u8F49\u548C\u93E1\u50CF",rotate90:"\u756B\u9762\u65CB\u8F49 90 \u5EA6",horizontalMirror:"\u756B\u9762\u6C34\u5E73\u93E1\u50CF\u7FFB\u8F49",verticalMirror:"\u756B\u9762\u5782\u76F4\u93E1\u50CF\u7FFB\u8F49",videoTransform:"\u756B\u9762\u4F4D\u79FB",translateRight:"\u756B\u9762\u5411\u53F3\u79FB\u52D5",translateLeft:"\u756B\u9762\u5411\u5DE6\u79FB\u52D5",translateUp:"\u756B\u9762\u5411\u4E0A\u79FB\u52D5",translateDown:"\u756B\u9762\u5411\u4E0B\u79FB\u52D5",languageSettings:"\u8A9E\u8A00\u8A2D\u7F6E",default:"\u9ED8\u8A8D",autoChoose:"\u81EA\u52D5\u9078\u64C7",comingSoon:"\u66F4\u591A\u529F\u80FD\u6B63\u5728\u5B8C\u5584\u4E2D\uFF0C\u656C\u8ACB\u671F\u5F85",ffmpegScript:"\u97F3\u8996\u983B\u5408\u4F75/\u8F49\u63DB\u8173\u672C",autoGotoBufferedTime:"\u81EA\u52D5\u8DDF\u96A8\u8DF3\u8F49\u5230\u7DE9\u885D\u5340\u6642\u9593",disableAutoGotoBufferedTime:"\u7981\u7528\u81EA\u52D5\u8DDF\u96A8\u8DF3\u8F49\u5230\u7DE9\u885D\u5340\u6642\u9593",mouse:{enable:"\u555F\u7528\u9F20\u6A19\u63A7\u5236",disable:"\u7981\u7528\u9F20\u6A19\u63A7\u5236",longPressTime:"\u9577\u6309\u591A\u4E45\u97FF\u61C9\u9F20\u6A19\u9577\u6309\u4E8B\u4EF6"},tipsMsg:{playspeed:"\u64AD\u653E\u901F\u5EA6\uFF1A",forward:"\u5411\u524D\uFF1A",backward:"\u5411\u5F8C\uFF1A",seconds:"\u79D2",volume:"\u97F3\u91CF\uFF1A",nextframe:"\u5B9A\u4F4D\uFF1A\u4E0B\u4E00\u5E40",previousframe:"\u5B9A\u4F4D\uFF1A\u4E0A\u4E00\u5E40",stopframe:"\u5B9A\u683C\u5E40\u756B\u9762\uFF1A",play:"\u64AD\u653E",pause:"\u66AB\u505C",arpl:"\u5141\u8A31\u81EA\u52D5\u6062\u5FA9\u64AD\u653E\u9032\u5EA6",drpl:"\u7981\u6B62\u81EA\u52D5\u6062\u5FA9\u64AD\u653E\u9032\u5EA6",brightness:"\u5716\u50CF\u4EAE\u5EA6\uFF1A",contrast:"\u5716\u50CF\u5C0D\u6BD4\u5EA6\uFF1A",saturation:"\u5716\u50CF\u98FD\u548C\u5EA6\uFF1A",hue:"\u5716\u50CF\u8272\u76F8\uFF1A",blur:"\u5716\u50CF\u6A21\u7CCA\u5EA6\uFF1A",imgattrreset:"\u5716\u50CF\u5C6C\u6027\uFF1A\u5FA9\u4F4D",imgrotate:"\u756B\u9762\u65CB\u8F49\uFF1A",onplugin:"\u555F\u7528h5Player\u63D2\u4EF6",offplugin:"\u7981\u7528h5Player\u63D2\u4EF6",globalmode:"\u5168\u5C40\u6A21\u5F0F\uFF1A",playbackrestored:"\u70BA\u4F60\u6062\u5FA9\u4E0A\u6B21\u64AD\u653E\u9032\u5EA6",playbackrestoreoff:"\u6062\u5FA9\u64AD\u653E\u9032\u5EA6\u529F\u80FD\u5DF2\u7981\u7528\uFF0C\u6309 SHIFT+R \u53EF\u958B\u555F\u8A72\u529F\u80FD",horizontal:"\u6C34\u5E73\u4F4D\u79FB\uFF1A",vertical:"\u5782\u76F4\u4F4D\u79FB\uFF1A",horizontalMirror:"\u6C34\u5E73\u93E1\u50CF",verticalMirror:"\u5782\u76F4\u93E1\u50CF",videozoom:"\u8996\u983B\u7E2E\u653E\u7387\uFF1A"}};const messages={"zh-CN":zhCN,zh:zhCN,"zh-HK":zhTW,"zh-TW":zhTW,"en-US":enUS,en:enUS,ru},i18n=new I18n({defaultLanguage:"en",languages:messages}),lang=configManager.get("language");lang&&i18n.changeLanguage(lang);let __globalId__=0;function getId(){if(window.GM_getValue&&window.GM_setValue){let t=window.GM_getValue("_global_id_");return t||(t=0),t=Number(t)+1,window.GM_setValue("_global_id_",t),t}else return __globalId__=Number(__globalId__)+1,__globalId__}let curTabId=null;function getTabId(){return new Promise((t,e)=>{window.GM_getTab instanceof Function?window.GM_getTab(function(o){o.tabId||(o.tabId=getId(),window.GM_saveTab(o)),curTabId=o.tabId,t(o.tabId)}):t(Date.now())})}getTabId();/*!
 * @name      monkeyMsg.js
 * @version   0.0.1
 * @author    Blaze
 * @date      2019/9/21 14:22
 */function extractDatafromOb(t,e){if(e=e||1,e>3)return{};const o={};if(typeof t=="object")for(const s in t){const a=t[s],u=typeof a;u==="number"||u==="string"||u==="boolean"?Object.defineProperty(o,s,{value:a,writable:!0,configurable:!0,enumerable:!0}):u==="object"&&Object.prototype.propertyIsEnumerable.call(t,s)?o[s]=extractDatafromOb(a,e+1):u==="array"&&(o[s]=a)}return o}const monkeyMsg={send(t,e,o=80){if(!window.GM_getValue||!window.GM_setValue)return!1;const s=window.GM_getValue(t);if(s&&s.updateTime&&Math.abs(Date.now()-s.updateTime)<o)return!1;const a={data:e,tabId:curTabId||"undefined",title:document.title,referrer:extractDatafromOb(window.location),updateTime:Date.now()};typeof e=="object"&&(a.data=extractDatafromOb(e)),window.GM_setValue(t,a)},set:(t,e)=>monkeyMsg.send(t,e),get:t=>window.GM_getValue&&window.GM_getValue(t),on:(t,e)=>window.GM_addValueChangeListener&&window.GM_addValueChangeListener(t,function(o,s,a,u){a.originTab=a.tabId===curTabId,e instanceof Function&&e.apply(null,arguments)}),off:t=>window.GM_removeValueChangeListener&&window.GM_removeValueChangeListener(t),broadcast(t){const e="__monkeyMsgBroadcast__";return monkeyMsg._monkeyMsgBroadcastHandler_=monkeyMsg._monkeyMsgBroadcastHandler_||[],t instanceof Function&&monkeyMsg._monkeyMsgBroadcastHandler_.push(t),monkeyMsg._hasMonkeyMsgBroadcast_||(monkeyMsg.on(e,function(){monkeyMsg._monkeyMsgBroadcastHandler_.forEach(o=>{o.apply(null,arguments)})}),setInterval(function(){const o=monkeyMsg.get(e);if(o&&Date.now()-o.updateTime<1e3*2)return!1;monkeyMsg.send(e,{})},1e3*2)),e}};/*!
 * @name         crossTabCtl.js
 * @description  跨Tab控制脚本逻辑
 * @version      0.0.1
 * @author       Blaze
 * @date         2019/11/21 上午11:56
 * @github       https://github.com/xxxily
 */const crossTabCtl={excludeShortcuts(t){if(!t||typeof t.keyCode>"u")return!1;const e=["c","v","f","d"];if(t.ctrlKey||t.metaKey){const o=t.key.toLowerCase();return!!e.includes(o)}else return!1},updatePictureInPictureInfo(){setInterval(function(){document.pictureInPictureElement&&monkeyMsg.send("globalPictureInPictureInfo",{usePictureInPicture:!0})},1e3*1.5),monkeyMsg.broadcast(function(){document.pictureInPictureElement&&monkeyMsg.send("globalPictureInPictureInfo",{usePictureInPicture:!0})})},hasOpenPictureInPicture(){const t=monkeyMsg.get("globalPictureInPictureInfo");return t&&t.data?t.data.usePictureInPicture?Math.abs(Date.now()-t.updateTime)<1e3*3:Math.abs(Date.now()-t.updateTime)<1e3*15:!1},isNeedSendCrossTabCtlEvent(){const t=crossTabCtl,e=monkeyMsg.get("globalPictureInPictureInfo");return!!(t.hasOpenPictureInPicture()&&e.tabId!==curTabId)},crossTabKeydownEvent(t){const e=crossTabCtl,o=t.composedPath&&t.composedPath()[0]||t.target;if(!isEditableTarget(o)&&e.isNeedSendCrossTabCtlEvent()&&isRegisterKey(t)&&!e.excludeShortcuts(t))return t.stopPropagation(),t.preventDefault(),!0},bindCrossTabEvent(){const t=crossTabCtl;t._hasBindEvent_||(document.removeEventListener("keydown",t.crossTabKeydownEvent),document.addEventListener("keydown",t.crossTabKeydownEvent,!0),t._hasBindEvent_=!0)},init(){const t=crossTabCtl;t.updatePictureInPictureInfo(),t.bindCrossTabEvent()}};/*!
 * @name         index.js
 * @description  hookJs JS AOP切面编程辅助库
 * @version      0.0.1
 * @author       Blaze
 * @date         2020/10/22 17:40
 * @github       https://github.com/xxxily
 */const win=typeof window>"u"?global:window,toStr=Function.prototype.call.bind(Object.prototype.toString),toBoolean=Boolean.originMethod?Boolean.originMethod:Boolean,util={toStr,isObj:t=>toStr(t)==="[object Object]",isRef:t=>typeof t=="object",isReg:t=>toStr(t)==="[object RegExp]",isFn:t=>t instanceof Function,isAsyncFn:t=>toStr(t)==="[object AsyncFunction]",isPromise:t=>toStr(t)==="[object Promise]",firstUpperCase:t=>t.replace(/^\S/,e=>e.toUpperCase()),toArr:t=>Array.from(Array.isArray(t)?t:[t]),debug:{log(){let t=win.console.log;t.originMethod&&(t=t.originMethod),win._debugMode_&&t.apply(win.console,arguments)}},getAllKeys(t){const e=[];for(const s in t)e.push(s);return Array.from(new Set(e.concat(Reflect.ownKeys(t))))}};class HookJs{constructor(e){this.useProxy=e||!1,this.hookPropertiesKeyName="_hookProperties"+Date.now()}hookJsPro(){return new HookJs(!0)}_addHook(e,o,s,a){const u=s+"Hooks",f=e[this.hookPropertiesKeyName];f[u]||(f[u]=[]);let p=!1;for(let g=0;g<f[u].length;g++)if(o===f[u][g]){p=!0;break}p||(o.classHook=a||!1,f[u].push(o))}_runHooks(e,o,s,a,u,f,p,g,y){const v=a[y],k=v.beforeHooks||[],P=v.afterHooks||[],T=v.errorHooks||[],O=v.hangUpHooks||[],B=v.replaceHooks||[],W={result:null,error:null,args:p,type:""};function M(q,Z){let N=null;if(W.type=Z||"",Array.isArray(q))for(let G=0;G<q.length;G++){const Q=q[G];if(util.isFn(Q)&&g===Q.classHook&&(N=Q(p,e,o,s,W,f),N==="STOP-INVOKE"))return N}return N}const E=g?function(){return new u(...p)}:function(){return u.apply(f,p)},H=M(k,"before");if(H==="STOP-INVOKE")return H;if(O.length||B.length)M(O,"hangUp"),M(B,"replace");else if(T.length)try{W.result=E()}catch(q){if(W.error=q,M(T,"error")!=="SKIP-ERROR")throw q}else W.result=E();return M(P,"after"),W.result}_proxyMethodcGenerator(e,o,s,a,u,f){const p=this,g=p.useProxy;let y=null;if(p.isHook(s)?y=s:s[p.hookPropertiesKeyName]&&p.isHook(s[p.hookPropertiesKeyName].hookMethod)&&(y=s[p.hookPropertiesKeyName].hookMethod),y)return y[p.hookPropertiesKeyName].isHook||(y[p.hookPropertiesKeyName].isHook=!0,util.debug.log(`[hook method] ${util.toStr(e)} ${o}`)),y;if(g&&Proxy){const k={...f};a?k.construct=function(P,T,O){return u=u||this,p._runHooks(e,o,s,y,P,u,T,!0,p.hookPropertiesKeyName)}:k.apply=function(P,T,O){return T=u||T,p._runHooks(e,o,s,y,P,T,O,!1,p.hookPropertiesKeyName)},y=new Proxy(s,k)}else y=function(){const P=u||this;return p._runHooks(e,o,s,y,s,P,arguments,a,p.hookPropertiesKeyName)},Reflect.ownKeys(s).forEach(P=>{try{Object.defineProperty(y,P,{get:function(){return s[P]},set:function(T){s[P]=T},configurable:!0})}catch(T){util.debug.log(`[proxyMethodcGenerator] hookMethod defineProperty abnormal.  hookMethod:${o}, definePropertyName:${P}`,T)}}),y.prototype=s.prototype;const v=y[p.hookPropertiesKeyName]={};return v.originMethod=s,v.hookMethod=y,v.isHook=!0,v.classHook=a,util.debug.log(`[hook method] ${util.toStr(e)} ${o}`),y}_getObjKeysByRule(e,o){let s=null,a=o;return util.isObj(o)&&o.include&&(s=o.exclude,o=o.include,a=o),o==="*"?a=Object.keys(e):o==="**"?a=Reflect.ownKeys(e):o==="***"?a=util.getAllKeys(e):util.isReg(o)&&(a=util.getAllKeys(e).filter(u=>o.test(u))),s&&(a=Array.isArray(a)?a:[a],util.isReg(s)?a=a.filter(u=>!s.test(u)):Array.isArray(s)?a=a.filter(u=>!s.includes(u)):a=a.filter(u=>s!==u)),util.toArr(a)}isHook(e){if(!e||!e[this.hookPropertiesKeyName])return!1;const o=e[this.hookPropertiesKeyName];return util.isFn(o.originMethod)&&e!==o.originMethod}isAllowHook(e,o){try{if(!e[o])return!1}catch{return!1}const s=Object.getOwnPropertyDescriptor(e,o);return!(s&&s.configurable===!1)}hook(e,o,s,a,u,f,p){const g=arguments[0];if(util.isObj(g)&&g.parentObj&&g.hookMethods&&(e=g.parentObj,o=g.hookMethods,s=g.fn,a=g.type,u=g.classHook,f=g.context,p=g.proxyHandler),u=toBoolean(u),a=a||"before",!util.isRef(e)&&!util.isFn(e)||!util.isFn(s)||!o)return!1;const y=this;o=y._getObjKeysByRule(e,o),o.forEach(v=>{if(!y.isAllowHook(e,v))return util.debug.log(`${util.toStr(e)} [${v}] does not support modification`),!1;const k=Object.getOwnPropertyDescriptor(e,v);k&&k.writable===!1&&Object.defineProperty(e,v,{writable:!0});const P=e[v];let T=null;if(!util.isFn(P))return!1;if(T=y._proxyMethodcGenerator(e,v,P,u,f,p),T[y.hookPropertiesKeyName].classHook!==u)return util.debug.log(`${util.toStr(e)} [${v}] Cannot support functions hook and classes hook at the same time `),!1;e[v]!==T&&(e[v]=T),y._addHook(T,s,a,u)})}hookClass(e,o,s,a,u,f){return this.hook(e,o,s,a,!0,u,f)}unHook(e,o,s,a){if(!util.isRef(e)||!o)return!1;const u=this;o=u._getObjKeysByRule(e,o),o.forEach(f=>{if(!u.isAllowHook(e,f))return!1;const p=e[f];if(!u.isHook(p))return!1;const g=p[u.hookPropertiesKeyName],y=g.originMethod;if(s){const v=s+"Hooks",k=g[v]||[];if(a){for(let T=0;T<k.length;T++)if(a===k[T]){delete a.classHook,g[v].splice(T,1),util.debug.log(`[unHook ${v} func] ${util.toStr(e)} ${f}`,a);break}["beforeHooks","afterHooks","errorHooks","hangUpHooks","replaceHooks"].some(T=>Array.isArray(g[T])&&g[T].length>0)||(e[f]=y,delete e[f][u.hookPropertiesKeyName])}else Array.isArray(g[v])&&(g[v].forEach(P=>{delete P.classHook}),g[v]=[],util.debug.log(`[unHook all ${v}] ${util.toStr(e)} ${f}`))}else util.isFn(y)&&(["beforeHooks","afterHooks","errorHooks","hangUpHooks","replaceHooks"].forEach(v=>{Array.isArray(g[v])&&(g[v].forEach(k=>{delete k.classHook}),g[v]=[])}),e[f]=y,delete e[f][u.hookPropertiesKeyName],util.debug.log(`[unHook method] ${util.toStr(e)} ${f}`))})}_hook(e,o){const s=this;return function(a,u,f,p,g,y){const v=e[0];return util.isObj(v)&&v.parentObj&&v.hookMethods&&(v.type=o),s.hook.apply(s,e)}}before(e,o,s,a,u,f){return this.hook(e,o,s,"before",a,u,f)}after(e,o,s,a,u,f){return this.hook(e,o,s,"after",a,u,f)}replace(e,o,s,a,u,f){return this.hook(e,o,s,"replace",a,u,f)}error(e,o,s,a,u,f){return this.hook(e,o,s,"error",a,u,f)}hangUp(e,o,s,a,u,f){return this.hook(e,o,s,"hangUp",a,u,f)}}const hookJs=new HookJs(!0);function hackDefineProperCore(t,e,o){if(o&&t&&t instanceof Element&&typeof e=="string"&&e.indexOf("on")>=0&&(o.configurable=!0),t instanceof HTMLVideoElement&&["playbackRate","currentTime","volume","muted"].includes(e))try{debug.log(`\u7981\u6B62\u5BF9${e}\u8FDB\u884C\u9501\u5B9A`),o.configurable=!0,e=e+"_hack"}catch(a){debug.error(`\u7981\u6B62\u9501\u5B9A${e}\u5931\u8D25\uFF01`,a)}return[t,e,o]}function hackDefineProperOnError(t,e,o,s,a,u){return debug.error(`${o} error:`,a.error),"SKIP-ERROR"}function hackDefineProperty(){hookJs.before(Object,"defineProperty",function(t,e,o,s,a,u){const f=t[2],p=t[0],g=t[1];hackDefineProperCore(p,g,f).forEach((v,k)=>{t[k]=v})}),hookJs.before(Object,"defineProperties",function(t,e,o,s,a,u){const f=t[1],p=t[0];p&&p instanceof Element&&Object.keys(f).forEach(g=>{const y=f[g],v=hackDefineProperCore(p,g,y);t[0]=v[0],delete f[g],f[v[1]]=v[2]})}),hookJs.error(Object,"defineProperty",hackDefineProperOnError),hookJs.error(Object,"defineProperties",hackDefineProperOnError)}/*!
 * @name      menuCommand.js
 * @version   0.0.1
 * @author    Blaze
 * @date      2019/9/21 14:22
 */const monkeyMenu={menuIds:{},on(t,e,o){if(t instanceof Function&&(t=t()),window.GM_registerMenuCommand){const s=window.GM_registerMenuCommand(t,e,o);return this.menuIds[s]={title:t,fn:e,accessKey:o},s}},off(t){window.GM_unregisterMenuCommand&&delete this.menuIds[t]},clear(){Object.keys(this.menuIds).forEach(t=>{this.off(t)})},build(t){if(this.clear(),Array.isArray(t))t.forEach(e=>{e.disable!==!0&&this.on(e.title,e.fn,e.accessKey)});else if(t instanceof Function){const e=t();Array.isArray(e)?(this._menuBuilder_=t,e.forEach(o=>{if(o.disable===!0)return;const s=()=>{try{o.fn.apply(o,arguments)}catch(a){console.error("[monkeyMenu]",o.title,a)}setTimeout(()=>{this.build(this._menuBuilder_)},100)};this.on(o.title,s,o.accessKey)})):console.error("monkeyMenu build error, no menuList return",t)}}},version="4.2.7";function refreshPage(t){t=t||"\u914D\u7F6E\u5DF2\u66F4\u6539\uFF0C\u9A6C\u4E0A\u5237\u65B0\u9875\u9762\u8BA9\u914D\u7F6E\u751F\u6548\uFF1F",confirm(t)&&window.location.reload()}const isChinese=()=>i18n.language().indexOf("zh")>-1;function getHomePage(){const t=["https://h5player.anzz.site/zh/","https://h5player.anzz.top"];return isChinese()?t[0]:t[1]}function openDocsByPath(t){if(typeof t!="string"||t.startsWith("http")===!0)return!1;t.startsWith("/")||(t="/"+t);const e=isChinese(),o=e?"https://h5player.anzz.site":"https://h5player.anzz.top";let s=o+t;e&&!t.startsWith("/zh")&&(s=o+"/zh"+t),openInTab(s)}const globalFunctional={openInTab,getHomePageLink:{title:i18n.t("website"),desc:i18n.t("website"),fn:()=>getHomePage()},openWebsite:{title:i18n.t("website"),desc:i18n.t("website"),fn:()=>openInTab(getHomePage())},openAuthorHomePage:{title:i18n.t("aboutAuthor"),desc:i18n.t("aboutAuthor"),fn:()=>{openInTab("https://github.com/xxxily")}},openHotkeysPage:{title:i18n.t("hotkeysDocs"),desc:i18n.t("hotkeysDocs"),fn:()=>{const t=["https://h5player.anzz.site/zh/home/quickStart#%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%88%97%E8%A1%A8","https://h5player.anzz.top/home/quickStart#shortcut-key-list"];openInTab(isChinese()?t[0]:t[1])}},openProjectGithub:{title:"GitHub",desc:"GitHub",fn:()=>openInTab("https://github.com/xxxily/h5player")},openIssuesPage:{title:i18n.t("issues"),desc:i18n.t("issues"),fn:()=>openInTab("https://github.com/xxxily/h5player/issues")},openDonatePage:{title:i18n.t("donate"),desc:i18n.t("donate"),fn:()=>openDocsByPath("/home/rewardTheAuthor")},openAboutDonatePage:{title:i18n.t("aboutDonate"),desc:i18n.t("aboutDonate"),fn:()=>openDocsByPath("/home/aboutDonate")},openAddGroupChatPage:{title:i18n.t("addGroupChat"),desc:i18n.t("addGroupChat"),fn:()=>{const t=isChinese()?"https://h5player.anzz.site/zh/home/quickStart#%E4%BA%A4%E6%B5%81%E7%BE%A4":"https://h5player.anzz.top/home/quickStart#discussion-groups";openInTab(t)}},openChangeLogPage:{title:i18n.t("changeLog"),desc:i18n.t("changeLog"),fn:()=>openDocsByPath("/home/changeLog")},openCheckVersionPage:{title:i18n.t("checkVersion"),desc:i18n.t("checkVersion"),fn:()=>{window.confirm(`${i18n.t("currentVersion")}\u300C${version}\u300D
${i18n.t("checkVersion")}`)&&openInTab("https://greasyfork.org/zh-CN/scripts/381682/versions")}},openRecommendPage:{title:i18n.t("recommend"),desc:i18n.t("recommend"),fn:()=>{function t(){return Math.floor(Math.random()*2)}t()?openInTab("https://hello-ai.anzz.top/home/"):openInTab("https://github.com/xxxily/hello-ai")}},openCustomConfigurationEditor:{title:i18n.t("openCustomConfigurationEditor"),desc:i18n.t("openCustomConfigurationEditor"),fn:()=>{const t=isChinese()?"https://h5player.anzz.site/tools/json-editor/index.html?mode=tree&saveHandlerName=saveH5PlayerConfig&expandAll=true&json=":"https://h5player.anzz.top/tools/json-editor/index.html?mode=tree&saveHandlerName=saveH5PlayerConfig&expandAll=true&json=";openInTab(t)}},openDocsLink:{title:i18n.t("openDocsLink"),desc:i18n.t("openDocsLink"),fn:t=>openDocsByPath(t)},toggleExpandedOrCollapsedStateOfMonkeyMenu:{title:`${configManager.get("enhance.unfoldMenu")?i18n.t("foldMenu"):i18n.t("unfoldMenu")} \u300C${i18n.t("globalSetting")}\u300D`,desc:`${configManager.get("enhance.unfoldMenu")?i18n.t("foldMenu"):i18n.t("unfoldMenu")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(configManager.get("enhance.unfoldMenu")?i18n.t("foldMenu"):i18n.t("unfoldMenu"))&&(configManager.setGlobalStorage("enhance.unfoldMenu",!configManager.get("enhance.unfoldMenu")),window.location.reload())}},toggleScriptEnableState:{title:`${(configManager.get("blacklist.domains")||[]).includes(location.host)?i18n.t("enableScript"):i18n.t("disableScript")} \u300C${i18n.t("localSetting")}\u300D`,desc:`${(configManager.get("blacklist.domains")||[]).includes(location.host)?i18n.t("enableScript"):i18n.t("disableScript")} \u300C${i18n.t("localSetting")}\u300D`,fn:()=>{const t=configManager.get("blacklist.domains")||[],e=t.includes(location.host);window.confirm(e?i18n.t("enableScript"):i18n.t("disableScript"))&&(e?configManager.setGlobalStorage("blacklist.domains",t.filter(s=>s!==location.host)):configManager.setGlobalStorage("blacklist.domains",t.concat(location.host)),window.location.reload())}},toggleSetCurrentTimeFunctional:{title:()=>`${configManager.get("enhance.blockSetCurrentTime")?i18n.t("unblockSetCurrentTime"):i18n.t("blockSetCurrentTime")} \u300C${i18n.t("localSetting")}\u300D`,desc:()=>`${configManager.get("enhance.blockSetCurrentTime")?i18n.t("unblockSetCurrentTime"):i18n.t("blockSetCurrentTime")} \u300C${i18n.t("localSetting")}\u300D`,fn:()=>{window.confirm(configManager.get("enhance.blockSetCurrentTime")?i18n.t("unblockSetCurrentTime"):i18n.t("blockSetCurrentTime"))&&(configManager.setLocalStorage("enhance.blockSetCurrentTime",!configManager.get("enhance.blockSetCurrentTime")),window.location.reload())}},toggleSetVolumeFunctional:{title:()=>`${configManager.get("enhance.blockSetVolume")?i18n.t("unblockSetVolume"):i18n.t("blockSetVolume")} \u300C${i18n.t("localSetting")}\u300D`,desc:()=>`${configManager.get("enhance.blockSetVolume")?i18n.t("unblockSetVolume"):i18n.t("blockSetVolume")} \u300C${i18n.t("localSetting")}\u300D`,fn:()=>{window.confirm(configManager.get("enhance.blockSetVolume")?i18n.t("unblockSetVolume"):i18n.t("blockSetVolume"))&&(configManager.setLocalStorage("enhance.blockSetVolume",!configManager.get("enhance.blockSetVolume")),window.location.reload())}},toggleSetPlaybackRateFunctional:{title:()=>`${configManager.get("enhance.blockSetPlaybackRate")?i18n.t("unblockSetPlaybackRate"):i18n.t("blockSetPlaybackRate")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.get("enhance.blockSetPlaybackRate")?i18n.t("unblockSetPlaybackRate"):i18n.t("blockSetPlaybackRate")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(configManager.get("enhance.blockSetPlaybackRate")?i18n.t("unblockSetPlaybackRate"):i18n.t("blockSetPlaybackRate"))&&(configManager.setGlobalStorage("enhance.blockSetPlaybackRate",!configManager.get("enhance.blockSetPlaybackRate")),window.location.reload())}},toggleAcousticGainFunctional:{title:()=>`${configManager.get("enhance.allowAcousticGain")?i18n.t("notAllowAcousticGain"):i18n.t("allowAcousticGain")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.get("enhance.allowAcousticGain")?i18n.t("notAllowAcousticGain"):i18n.t("allowAcousticGain")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(configManager.get("enhance.allowAcousticGain")?i18n.t("notAllowAcousticGain"):i18n.t("allowAcousticGain"))&&(configManager.setGlobalStorage("enhance.allowAcousticGain",!configManager.getGlobalStorage("enhance.allowAcousticGain")),window.location.reload())}},toggleCrossOriginControlFunctional:{title:()=>`${configManager.get("enhance.allowCrossOriginControl")?i18n.t("notAllowCrossOriginControl"):i18n.t("allowCrossOriginControl")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.get("enhance.allowCrossOriginControl")?i18n.t("notAllowCrossOriginControl"):i18n.t("allowCrossOriginControl")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(configManager.get("enhance.allowCrossOriginControl")?i18n.t("notAllowCrossOriginControl"):i18n.t("allowCrossOriginControl"))&&(configManager.setGlobalStorage("enhance.allowCrossOriginControl",!configManager.getGlobalStorage("enhance.allowCrossOriginControl")),window.location.reload())}},toggleExperimentFeatures:{title:()=>`${configManager.get("enhance.allowExperimentFeatures")?i18n.t("notAllowExperimentFeatures"):i18n.t("allowExperimentFeatures")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.get("enhance.allowExperimentFeatures")?i18n.t("notAllowExperimentFeatures"):i18n.t("allowExperimentFeatures")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(configManager.get("enhance.allowExperimentFeatures")?i18n.t("notAllowExperimentFeatures"):i18n.t("experimentFeaturesWarning"))&&(configManager.setGlobalStorage("enhance.allowExperimentFeatures",!configManager.get("enhance.allowExperimentFeatures")),window.location.reload())}},toggleExternalCustomConfiguration:{title:()=>`${configManager.get("enhance.allowExternalCustomConfiguration")?i18n.t("notAllowExternalCustomConfiguration"):i18n.t("allowExternalCustomConfiguration")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.get("enhance.allowExternalCustomConfiguration")?i18n.t("notAllowExternalCustomConfiguration"):i18n.t("allowExternalCustomConfiguration")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(configManager.get("enhance.allowExternalCustomConfiguration")?i18n.t("notAllowExternalCustomConfiguration"):i18n.t("allowExternalCustomConfiguration"))&&(configManager.setGlobalStorage("enhance.allowExternalCustomConfiguration",!configManager.getGlobalStorage("enhance.allowExternalCustomConfiguration")),window.location.reload())}},toggleDebugMode:{title:()=>`${configManager.getGlobalStorage("debug")?i18n.t("closeDebugMode"):i18n.t("openDebugMode")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.getGlobalStorage("debug")?i18n.t("closeDebugMode"):i18n.t("openDebugMode")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(configManager.getGlobalStorage("debug")?i18n.t("closeDebugMode"):i18n.t("openDebugMode"))&&(configManager.setGlobalStorage("debug",!configManager.getGlobalStorage("debug")),window.location.reload())}},restoreGlobalConfiguration:{title:i18n.t("restoreConfiguration"),desc:i18n.t("restoreConfiguration"),fn:()=>{configManager.clear(),refreshPage()}},openCrossOriginFramePage:{title:i18n.t("openCrossOriginFramePage"),desc:i18n.t("openCrossOriginFramePage"),fn:()=>{openInTab(location.href)}},toggleGUIStatus:{title:()=>`${configManager.getGlobalStorage("ui.enable")===!1?i18n.t("enableGUI"):i18n.t("disableGUI")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.getGlobalStorage("ui.enable")===!1?i18n.t("enableGUI"):i18n.t("disableGUI")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(`${configManager.getGlobalStorage("ui.enable")===!1?i18n.t("enableGUI"):i18n.t("disableGUI")} \u300C${i18n.t("globalSetting")}\u300D`)&&(configManager.setGlobalStorage("ui.enable",!configManager.getGlobalStorage("ui.enable")),window.location.reload())}},toggleGUIStatusUnderCurrentSite:{title:()=>`${configManager.getLocalStorage("ui.enable")===!1?i18n.t("enableGUI"):i18n.t("disableGUI")} \u300C${i18n.t("localSetting")}\u300D`,desc:()=>`${configManager.getLocalStorage("ui.enable")===!1?i18n.t("enableGUI"):i18n.t("disableGUI")} \u300C${i18n.t("localSetting")}\u300D`,fn:()=>{window.confirm(`${configManager.getLocalStorage("ui.enable")===!1?i18n.t("enableGUI"):i18n.t("disableGUI")} \u300C${i18n.t("localSetting")}\u300D`)&&(configManager.setLocalStorage("ui.enable",!configManager.getLocalStorage("ui.enable")),window.location.reload())}},alwaysShowGraphicalInterface:{title:`${i18n.t("toggleStates")}${i18n.t("alwaysShowGraphicalInterface")} \u300C${i18n.t("globalSetting")}\u300D`,desc:`${i18n.t("toggleStates")}${i18n.t("alwaysShowGraphicalInterface")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{const t=configManager.getGlobalStorage("ui.alwaysShow");window.confirm(t===!0?`${i18n.t("disable")}${i18n.t("alwaysShowGraphicalInterface")} \u300C${i18n.t("globalSetting")}\u300D`:`${i18n.t("alwaysShowGraphicalInterface")} \u300C${i18n.t("globalSetting")}\u300D`)&&(configManager.setGlobalStorage("ui.alwaysShow",!t),window.location.reload())}},toggleHotkeysStatus:{title:()=>`${configManager.getGlobalStorage("enableHotkeys")===!1?i18n.t("enableHotkeys"):i18n.t("disableHotkeys")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.getGlobalStorage("enableHotkeys")===!1?i18n.t("enableHotkeys"):i18n.t("disableHotkeys")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(`${configManager.getGlobalStorage("enableHotkeys")===!1?i18n.t("enableHotkeys"):i18n.t("disableHotkeys")} \u300C${i18n.t("globalSetting")}\u300D`)&&(configManager.setGlobalStorage("enableHotkeys",!configManager.getGlobalStorage("enableHotkeys")),window.location.reload())}},toggleHotkeysStatusUnderCurrentSite:{title:()=>`${configManager.getLocalStorage("enableHotkeys")===!1?i18n.t("enableHotkeys"):i18n.t("disableHotkeys")} \u300C${i18n.t("localSetting")}\u300D`,desc:()=>`${configManager.getLocalStorage("enableHotkeys")===!1?i18n.t("enableHotkeys"):i18n.t("disableHotkeys")} \u300C${i18n.t("localSetting")}\u300D`,fn:()=>{window.confirm(`${configManager.getLocalStorage("enableHotkeys")===!1?i18n.t("enableHotkeys"):i18n.t("disableHotkeys")} \u300C${i18n.t("localSetting")}\u300D`)&&(configManager.setLocalStorage("enableHotkeys",!configManager.getLocalStorage("enableHotkeys")),window.location.reload())}},toggleMouseControl:{title:()=>`${configManager.getGlobalStorage("mouse.enable")===!1?i18n.t("mouse.enable"):i18n.t("mouse.disable")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.getGlobalStorage("mouse.enable")===!1?i18n.t("mouse.enable"):i18n.t("mouse.disable")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(`${configManager.getGlobalStorage("mouse.enable")===!1?i18n.t("mouse.enable"):i18n.t("mouse.disable")} \u300C${i18n.t("globalSetting")}\u300D`)&&(configManager.setGlobalStorage("mouse.enable",!configManager.getGlobalStorage("mouse.enable")),window.location.reload())}},toggleMouseControlUnderCurrentSite:{title:()=>`${configManager.getLocalStorage("mouse.enable")===!1?i18n.t("mouse.enable"):i18n.t("mouse.disable")} \u300C${i18n.t("localSetting")}\u300D`,desc:()=>`${configManager.getLocalStorage("mouse.enable")===!1?i18n.t("mouse.enable"):i18n.t("mouse.disable")} \u300C${i18n.t("localSetting")}\u300D`,fn:()=>{window.confirm(`${configManager.getLocalStorage("mouse.enable")===!1?i18n.t("mouse.enable"):i18n.t("mouse.disable")} \u300C${i18n.t("localSetting")}\u300D`)&&(configManager.setLocalStorage("mouse.enable",!configManager.getLocalStorage("mouse.enable")),window.location.reload())}},setMouseLongPressTime:{title:`${i18n.t("mouse.longPressTime")}\u300C${i18n.t("globalSetting")}\u300D`,desc:`${i18n.t("mouse.longPressTime")}\u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{const t=prompt(`${i18n.t("mouse.longPressTime")}\u300C${i18n.t("globalSetting")}\u300D`,configManager.getGlobalStorage("mouse.longPressTime")||600);t&&(configManager.setGlobalStorage("mouse.longPressTime",Number(t)),window.location.reload())}},toggleDownloadControl:{title:()=>`${configManager.getGlobalStorage("download.enable")===!1?i18n.t("mediaDownload.enable"):i18n.t("mediaDownload.disable")} \u300C${i18n.t("globalSetting")}\u300D`,desc:()=>`${configManager.getGlobalStorage("download.enable")===!1?i18n.t("mediaDownload.enable"):i18n.t("mediaDownload.disable")} \u300C${i18n.t("globalSetting")}\u300D`,fn:()=>{window.confirm(`${configManager.getGlobalStorage("download.enable")===!1?i18n.t("mediaDownload.enable"):i18n.t("mediaDownload.disable")} \u300C${i18n.t("globalSetting")}\u300D`)&&(configManager.setGlobalStorage("download.enable",!configManager.getGlobalStorage("download.enable")),window.location.reload())}},toggleDownloadControlUnderCurrentSite:{title:()=>`${configManager.getLocalStorage("download.enable")===!1?i18n.t("mediaDownload.enable"):i18n.t("mediaDownload.disable")} \u300C${i18n.t("localSetting")}\u300D`,desc:()=>`${configManager.getLocalStorage("download.enable")===!1?i18n.t("mediaDownload.enable"):i18n.t("mediaDownload.disable")} \u300C${i18n.t("localSetting")}\u300D`,fn:()=>{window.confirm(`${configManager.getLocalStorage("download.enable")===!1?i18n.t("mediaDownload.enable"):i18n.t("mediaDownload.disable")} \u300C${i18n.t("localSetting")}\u300D`)&&(configManager.setLocalStorage("download.enable",!configManager.getLocalStorage("download.enable")),window.location.reload())}},setLanguage:{title:`${i18n.t("languageSettings")}\u300C${i18n.t("globalSetting")}\u300D`,desc:`${i18n.t("languageSettings")}\u300C${i18n.t("globalSetting")}\u300D`,fn:t=>{window.confirm(`${i18n.t("languageSettings")}[${t}] ?`)&&(t==="auto"||i18n.languages()[t]?(configManager.setGlobalStorage("language",t),window.location.reload()):alert("Language not found"))}},cleanRemoteHelperInfo:{title:i18n.t("cleanRemoteHelperInfo"),desc:i18n.t("cleanRemoteHelperInfo"),fn:()=>{configManager.setGlobalStorage("recommendList",!1),configManager.setGlobalStorage("contactRemoteHelperSuccessTime",!1),configManager.setGlobalStorage("lastContactRemoteHelperTime",!1),window.location.reload()}}};/*!
 * @name         menuManager.js
 * @description  菜单管理器
 * @version      0.0.1
 * @author       xxxily
 * @date         2022/08/11 10:05
 * @github       https://github.com/xxxily
 */let monkeyMenuList=[{...globalFunctional.openWebsite},{...globalFunctional.openIssuesPage,disable:!configManager.get("enhance.unfoldMenu")},{...globalFunctional.openDonatePage},{...globalFunctional.toggleScriptEnableState},{...globalFunctional.toggleGUIStatusUnderCurrentSite,disable:configManager.getLocalStorage("ui.enable")!==!1},{...globalFunctional.toggleGUIStatus,disable:configManager.getGlobalStorage("ui.enable")===!1?!1:!configManager.get("enhance.unfoldMenu")},{...globalFunctional.toggleHotkeysStatusUnderCurrentSite,disable:configManager.getLocalStorage("enableHotkeys")!==!1},{...globalFunctional.toggleHotkeysStatus,disable:configManager.get("enableHotkeys")!==!1},{...globalFunctional.openCustomConfigurationEditor},{...globalFunctional.toggleExpandedOrCollapsedStateOfMonkeyMenu},{...globalFunctional.restoreGlobalConfiguration,disable:!configManager.get("enhance.unfoldMenu")}];function menuBuilder(){return monkeyMenuList}function menuRegister(){monkeyMenu.build(menuBuilder)}function addMenu(t,e){t=Array.isArray(t)?t:[t],t=t.filter(o=>o.title&&!o.disabled),e?monkeyMenuList=t.concat(monkeyMenuList):monkeyMenuList=monkeyMenuList.concat(t),menuRegister()}function registerH5playerMenus(t){const e=t,o=e.player(),s=!configManager.get("enhance.unfoldMenu");if(o&&!e._hasRegisterH5playerMenus_){const a=[{...globalFunctional.openCrossOriginFramePage,disable:s||!isInCrossOriginFrame()},{...globalFunctional.toggleSetCurrentTimeFunctional,type:"local",disable:s},{...globalFunctional.toggleSetVolumeFunctional,type:"local",disable:s},{...globalFunctional.toggleSetPlaybackRateFunctional,type:"global",disable:s},{...globalFunctional.toggleAcousticGainFunctional,type:"global",disable:s},{...globalFunctional.toggleCrossOriginControlFunctional,type:"global",disable:s},{...globalFunctional.toggleExperimentFeatures,type:"global",disable:s},{...globalFunctional.toggleExternalCustomConfiguration,type:"global",disable:s},{...globalFunctional.toggleDebugMode,disable:s}];let u="";isInIframe()&&(u=`[${location.hostname}]`,a.forEach(f=>{const p=f.title;p instanceof Function&&f.type==="local"&&(f.title=()=>u+p())})),addMenu(a),e._hasRegisterH5playerMenus_=!0}}function proxyHTMLMediaElementEvent(){if(HTMLMediaElement.prototype._rawAddEventListener_)return!1;HTMLMediaElement.prototype._rawAddEventListener_=HTMLMediaElement.prototype.addEventListener,HTMLMediaElement.prototype._rawRemoveEventListener_=HTMLMediaElement.prototype.removeEventListener,HTMLMediaElement.prototype.addEventListener=new Proxy(HTMLMediaElement.prototype.addEventListener,{apply(t,e,o){const s=o[0],a=o[1];return a instanceof Function&&s==="ratechange"&&(o[1]=new Proxy(a,{apply(u,f,p){if(f&&f.playbackRate&&s==="ratechange"){if(f._hasBlockRatechangeEvent_)return!0;const g=f.playbackRate,y=Date.now(),v=u.apply(f,p),k=g!==f.playbackRate||Date.now()-y>1e3,P=f._setPlaybackRate_&&f._setPlaybackRate_.value!==f.playbackRate;return k||P?(debug.info(`[execVideoEvent][${s}]\u68C0\u6D4B\u5230\u53EF\u80FD\u5B58\u5728\u963B\u6B62\u8C03\u901F\u7684\u884C\u4E3A\uFF0C\u5DF2\u7981\u6B62${s}\u4E8B\u4EF6\u7684\u6267\u884C`,a),f._hasBlockRatechangeEvent_=!0,!0):v}try{return u.apply(f,p)}catch(g){debug.error(`[proxyPlayerEvent][${s}]`,a,g)}}})),t.apply(e,o)}})}const mediaSource=function(){let t=!1;const e={},o={},s=new original.Map,a=new original.Map;function u(k){const P=k.currentSrc||k.src;if(!P)return!1;s.forEach(T=>{T.mediaSource.__objURL__&&P===T.mediaSource.__objURL__&&(T.mediaElement=k)})}function f(){function k(P){console.log("[cleanMediaSourceData][removeMediaSourceData]",P.mediaUrl||P.mediaSource.__objURL__),P.sourceBuffer&&P.sourceBuffer.length&&(P.sourceBuffer.forEach(T=>{T.bufferData=[],T.originAppendBuffer=null}),P.sourceBuffer=[]),P.mediaElement=null,original.map.delete.call(s,P.mediaSource),original.map.delete.call(a,P.mediaSource)}s.forEach(P=>{(!P.mediaElement||!(P.mediaElement instanceof HTMLMediaElement)||isOutOfDocument(P.mediaElement))&&k(P)})}function p(){if(!e.addSourceBuffer||!e.endOfStream)return!1;o.createObjectURL=o.createObjectURL||URL.prototype.constructor.createObjectURL,URL.prototype.constructor.createObjectURL=new original.Proxy(o.createObjectURL,{apply(k,P,T){const O=T[0],B=k.apply(P,T);return O instanceof MediaSource&&!original.map.has.call(a,O)&&(O.__objURL__=B,original.map.set.call(a,O,B)),B}}),MediaSource.prototype.addSourceBuffer=new original.Proxy(e.addSourceBuffer,{apply(k,P,T){original.map.has.call(s,P)||original.map.set.call(s,P,{mediaSource:P,createTime:Date.now(),sourceBuffer:[],endOfStream:!1});const O=original.map.get.call(s,P),B=T[0]||"",W=k.apply(P,T),M={mimeCodecs:B,originAppendBuffer:W.appendBuffer,bufferData:[],mediaInfo:{}};try{const E=M.mediaInfo,H=M.mimeCodecs.split(";");E.type=H[0].split("/")[0],E.format=H[0].split("/")[1],E.codecs=H[1].trim().replace("codecs=","").replace(/["']/g,"")}catch(E){original.console.error("[addSourceBuffer][mediaInfo] \u5A92\u4F53\u4FE1\u606F\u89E3\u6790\u51FA\u9519",M,E)}return O.sourceBuffer.push(M),W.appendBuffer=new original.Proxy(M.originAppendBuffer,{apply(E,H,q){const Z=q[0];return O.endOfStream||M.bufferData.push(Z),original.map.get.call(a,P)&&(O.mediaUrl=original.map.get.call(a,P)),original.map.get.call(s,P)||original.map.set.call(s,P,O),E.apply(H,q)}}),W}}),MediaSource.prototype.endOfStream=new original.Proxy(e.endOfStream,{apply(k,P,T){const O=original.map.get.call(s,P);return O&&(O.endOfStream=!0,O.mediaElement&&O.autoDownload&&!O.hasDownload&&g(O.mediaElement)),k.apply(P,T)}})}function g(k,P){const T=k.currentSrc||k.src;if(!T)return original.alert(i18n.t("mediaDownload.notSupport")),!1;let O=!1;s.forEach(B=>{const W=B.mediaSource;if(!W.__objURL__)return console.error("no objURL",W,B),!1;if(T!==W.__objURL__||(O=!0,B.mediaElement=k,B.hasDownload&&!original.confirm(i18n.t("mediaDownload.hasDownload"))))return!1;if(!B.hasDownload&&!B.endOfStream&&!original.confirm(i18n.t("mediaDownload.notEndOfStream")))return B.autoDownload?original.confirm(i18n.t("mediaDownload.cancelAutoDownload"))&&(B.autoDownload=!1):original.confirm(i18n.t("mediaDownload.autoDownload"))&&(B.autoDownload=!0),!1;let M=null;B.sourceBuffer.forEach(E=>{if(!E.mimeCodecs||E.mimeCodecs.toString().indexOf(";")===-1){const H="[downloadMediaSource][mimeCodecs][error] mimeCodecs\u4E0D\u5B58\u5728\u6216\u4FE1\u606F\u5F02\u5E38\uFF0C\u65E0\u6CD5\u4E0B\u8F7D";return original.console.error(H,E),original.alert(H),!1}try{let H=`${M||E.mediaInfo.title||P||k.getAttribute("data-title")||document.title||Date.now()}`;if(!M&&!E.mediaInfo.title){if(H=original.prompt(i18n.t("mediaDownload.confirmTitle"),H),!H)return!1;E.mediaInfo.title=H}M=H,H=`${H}_${E.mediaInfo.type}.${E.mediaInfo.format}`;const q=document.createElement("a"),Z=URL.createObjectURL(new Blob(E.bufferData));q.href=Z,q.download=H;try{q.click(),B.hasDownload=!0}finally{URL.revokeObjectURL(Z),E.bufferData=[]}}catch(H){B.hasDownload=!1;const q="[downloadMediaSource][error]";original.console.error(q,H),original.alert(q)}})}),O||original.alert(i18n.t("mediaDownload.notFoundMediaSource"))}function y(){return t}function v(){if(t||!window.MediaSource)return!1;Object.keys(MediaSource.prototype).forEach(k=>{try{MediaSource.prototype[k]instanceof Function&&(e[k]=MediaSource.prototype[k])}catch{}}),p(),t=!0}return{init:v,hasInit:y,originMethods:e,originURLMethods:o,mediaSourceMap:s,objectURLMap:a,downloadMediaSource:g,cleanMediaSourceData:f,connectMediaSourceWithMediaElement:u}}();/*!
 * @name         hotkeysRunner.js
 * @description  热键运行器，实现类似vscode的热键配置方式
 * @version      0.0.1
 * @author       xxxily
 * @date         2022/11/23 18:22
 * @github       https://github.com/xxxily
 */const Map$1=window.Map,WeakMap$1=window.WeakMap;function isObj(t){return Object.prototype.toString.call(t)==="[object Object]"}function getValByPath(t,e){e=e||"";const o=e.split(".");let s=t;for(let a=0;a<o.length&&s;a++)s=s[o[a]];return s}function toArrArgs(t){return Array.isArray(t)?t:typeof t>"u"?[]:[t]}function isModifierKey(t){return["ctrl","controlleft","controlright","shift","shiftleft","shiftright","alt","altleft","altright","meta","metaleft","metaright","capsLock"].includes(t.toLowerCase())}const keyAlias={ControlLeft:"ctrl",ControlRight:"ctrl",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta"},combinationKeysMonitor=function(){const t=new Map$1,e=new WeakMap$1;function o(a=window){if(!a||a!==a.self||!a.addEventListener||e.get(a))return!1;const u={};function f(g){isModifierKey(g.code)&&t.set(g.code,!0)}function p(g){if(!(g instanceof KeyboardEvent))return t.forEach((y,v)=>{t.set(v,!1)}),!0;isModifierKey(g.code)&&(clearTimeout(u[g.code]),u[g.code]=setTimeout(()=>{t.set(g.code,!1)},50))}a.addEventListener("keydown",f,!0),a.addEventListener("keypress",f,!0),a.addEventListener("keyup",p,!0),a.addEventListener("blur",p,!0),e.set(a,!0)}function s(){const a=new Map$1;return t.forEach((u,f)=>{u===!0&&a.set(f,u)}),a}return{combinationKeysState:t,getCombinationKeys:s,init:o}}();class HotkeysRunner{constructor(e,o=window){this.window=o,this.windowList=[o],this.MOD=typeof navigator=="object"&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"Meta":"Ctrl",this.prevPress=null,this._prevTimer_=null,this.setHotkeys(e),combinationKeysMonitor.init(o)}setCombinationKeysMonitor(e){this.window=e,this.windowList.includes(e)||this.windowList.push(e),combinationKeysMonitor.init(e)}hotkeysPreprocess(e){return Array.isArray(e)?(e.forEach(o=>{if(!isObj(o)||!o.key||typeof o.key!="string")return!1;const s=o.key.trim().toLowerCase(),a=this.MOD.toLowerCase();o.keyBindings=s.split(" ").map(u=>{const f=u.split(/\b\+/),p=[];let g="";return f.forEach(y=>{y=y==="$mod"?a:y,isModifierKey(y)?p.push(y):g=y}),[p,g]})}),e):!1}setHotkeys(e){this.hotkeys=this.hotkeysPreprocess(e)||[]}isMatch(e,o){if(!e||!Array.isArray(o))return!1;const s=e.combinationKeys||combinationKeysMonitor.getCombinationKeys(),a=o[0],u=o[1];if(a.length!==s.size||u&&e.key.toLowerCase()!==u&&e.code.toLowerCase()!==u)return!1;let f=!0;const p=new Map$1;return s.forEach((g,y)=>{p.set(y,g),p.set(y.toLowerCase(),g),keyAlias[y]&&p.set(keyAlias[y],g)}),a.forEach(g=>{p.has(g)||(f=!1)}),f}isMatchPrevPress(e){return this.isMatch(this.prevPress,e)}run(e={}){if(!this.windowList.map(p=>p.KeyboardEvent).includes(e.event.constructor))return!1;const s=e.event,a=e.target||null,u=e.conditionHandler||e.whenHandler;let f=null;return this.hotkeys.forEach(p=>{if(p.disabled||!p.keyBindings)return!1;let g=p.keyBindings[0];if(this.prevPress&&(p.keyBindings.length<=1||!this.isMatchPrevPress(g))||(this.prevPress&&p.keyBindings.length>1&&this.isMatchPrevPress(g)&&(g=p.keyBindings[1]),!this.isMatch(s,g)))return!1;f=p;const v=e.stopPropagation||p.stopPropagation,k=e.preventDefault||p.preventDefault;if(v&&s.stopPropagation(),k&&s.preventDefault(),g===p.keyBindings[0]&&p.keyBindings.length>1)return this.prevPress={combinationKeys:combinationKeysMonitor.getCombinationKeys(),code:s.code,key:s.key,keyCode:s.keyCode,altKey:s.altKey,shiftKey:s.shiftKey,ctrlKey:s.ctrlKey,metaKey:s.metaKey},clearTimeout(this._prevTimer_),this._prevTimer_=setTimeout(()=>{this.prevPress=null},1e3),!0;p.keyBindings.length>1&&g!==p.keyBindings[0]&&setTimeout(()=>{this.prevPress=null},0);const P=toArrArgs(p.args);let T=p.command;if(a&&typeof p.command=="string"&&(T=getValByPath(a,p.command)),!(T instanceof Function)&&a)throw new Error(`[hotkeysRunner] \u672A\u627E\u5230command: ${p.command} \u5BF9\u5E94\u7684\u51FD\u6570`);p.when&&u instanceof Function?u.apply(a,toArrArgs(p.when))===!0&&T.apply(a,P):T.apply(a,P)}),f}binding(e={}){if(!isObj(e)||!Array.isArray(e.hotkeys))throw new Error("[hotkeysRunner] \u63D0\u4F9B\u7ED9binding\u7684\u53C2\u6570\u4E0D\u6B63\u786E");e.el=e.el||this.window,e.type=e.type||"keydown",e.debug&&(this.debug=!0),this.setHotkeys(e.hotkeys),typeof e.el=="string"&&(e.el=document.querySelector(e.el)),e.el.addEventListener(e.type,o=>{e.event=o,this.run(e)},!0)}}/**
 * @license Copyright 2017 - Chris West - MIT Licensed
 * Prototype to easily set the volume (actual and perceived), loudness,
 * decibels, and gain value.
 * https://cwestblog.com/2017/08/22/web-audio-api-controlling-audio-video-loudness/
 */function MediaElementAmplifier(t){this._context=new(window.AudioContext||window.webkitAudioContext),this._source=this._context.createMediaElementSource(this._element=t),this._source.connect(this._gain=this._context.createGain()),this._gain.connect(this._context.destination)}["getContext","getSource","getGain","getElement",["getVolume",function(t){return(t?this.getLoudness():1)*this._element.volume}],["setVolume",function(t,e){var o=t/(e?this.getLoudness():1);o>1&&(this.setLoudness(this.getLoudness()*o),o=1),this._element.volume=o}],["getGainValue",function(){return this._gain.gain.value}],["setGainValue",function(t){this._gain.gain.value=t}],["getDecibels",function(){return 20*Math.log10(this.getGainValue())}],["setDecibels",function(t){this.setGainValue(Math.pow(10,t/20))}],["getLoudness",function(){return Math.pow(2,this.getDecibels()/10)}],["setLoudness",function(t){this.setDecibels(10*Math.log2(t))}]].forEach(function(t,e){typeof t=="string"?e=function(){return this[t.replace("get","").toLowerCase()]}:(e=t[1],t=t[0]),MediaElementAmplifier.prototype[t]=e});const downloadState=new Map;function download(t,e){const o=document.createElement("a");o.href=t,o.target="_blank",o.download=e,o.click()}function mediaDownload(t,e,o){const s=t.src||t.currentSrc,a=downloadState.get(s)||{};if(t&&s&&!s.startsWith("blob:")){const u={type:t instanceof HTMLVideoElement?"video":"audio",format:t instanceof HTMLVideoElement?"mp4":"mp3"};let f=`${e||t.getAttribute("data-title")||document.title||Date.now()}_${u.type}.${u.format}`;if(o==="blob"||t.duration<60*5){if(a.downloading){if(Date.now()-a.downloading<1e3*1)return!1;if(!original.confirm(i18n.t("mediaDownload.downloading")))return!1}if(a.hasDownload&&!original.confirm(i18n.t("mediaDownload.hasDownload"))||(f=original.prompt(i18n.t("mediaDownload.confirmTitle"),f),!f))return!1;f.endsWith(u.format)||(f=f+"."+u.format);let p=s;s.startsWith("http://")&&location.href.startsWith("https://")&&(p=s.replace("http://","https://")),a.downloading=Date.now(),downloadState.set(s,a),fetch(p).then(g=>{g.blob().then(y=>{const v=window.URL.createObjectURL(y);download(v,f),a.hasDownload=!0,delete a.downloading,downloadState.set(s,a),window.URL.revokeObjectURL(v)})}).catch(g=>{original.console.error("fetch\u4E0B\u8F7D\u64CD\u4F5C\u5931\u8D25:",g),download(s,f),delete a.downloading,a.hasDownload=!0,downloadState.set(s,a)})}else download(s,f)}else mediaSource.hasInit()?mediaSource.downloadMediaSource(t,e):original.alert(i18n.t("mediaDownload.notSupport"))}const device={isMobile:()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isTablet:()=>/iPad/i.test(navigator.userAgent),isDesktop:()=>!device.isMobile()&&!device.isTablet(),isChrome:()=>/Chrome/i.test(navigator.userAgent),isFirefox:()=>/Firefox/i.test(navigator.userAgent),isSafari:()=>/Safari/i.test(navigator.userAgent),isEdge:()=>/Edge/i.test(navigator.userAgent)},h5playerUIProvider={version,originalMethods,parseHTML,observeVisibility,isOutOfDocument,i18n,debug,configManager,globalFunctional,device},windowSandbox=new Proxy({},{get:function(t,e){return e==="h5playerUIProvider"?h5playerUIProvider:e==="HTMLElement"?originalMethods.HTMLElement:window[e]}}),remoteHelperUrl="https://h5player.anzz.site/h5p-helper/index.html",remoteHelper={init(){if(this.remoteHandler(),isInIframe()||!configManager.isGlobalStorageUsable())return!1;const t=configManager.getGlobalStorage("contactRemoteHelperSuccessTime");let e=configManager.getGlobalStorage("lastContactRemoteHelperTime");e||(configManager.setGlobalStorage("lastContactRemoteHelperTime",Date.now()),e=Date.now());const o=configManager.getGlobalStorage("remoteHelperSyncInterval")||1e3*60*60*12;if(t&&Date.now()-t<o||Date.now()-e<1e3*60)return!1;this.establishRemoteConnection()},establishRemoteConnection(){const t=configManager.getGlobalStorage("contactRemoteHelperSuccessTime")||"0",e=new Date().toISOString().split("T")[0].replace(/-/g,"")+new Date().getHours()+""+new Date().getMinutes(),o=document.createElement("iframe");o.src=`${remoteHelperUrl}?t=${e}&v=${version}&lst=${t}`,o.style.cssText="width:0; height:0; border:none; visibility:hidden; opacity:0;";const s=()=>{document.body.appendChild(o),configManager.setGlobalStorage("lastContactRemoteHelperTime",Date.now())};!document.body||!document.body.appendChild?window.addEventListener("DOMContentLoaded",s,{once:!0}):s(),setTimeout(()=>{document.body.removeChild(o)},1e4)},async remoteHandler(){if(!location.href.startsWith(remoteHelperUrl)||!configManager.isGlobalStorageUsable())return!1;function t(a){a.recommendList&&configManager.setGlobalStorage("recommendList",a.recommendList),a.remoteVersion&&configManager.setGlobalStorage("remoteVersion",a.remoteVersion),a.remoteHelperSyncInterval&&configManager.setGlobalStorage("remoteHelperSyncInterval",a.remoteHelperSyncInterval),configManager.setGlobalStorage("contactRemoteHelperSuccessTime",Date.now())}let e=0;function o(a){if(!Array.isArray(a.recommendList)){e<30&&setTimeout(()=>{e++,o(a)},200);return}t(a)}const s=await getPageWindow();s&&o(s)}};function isCloudflareChallengePage(){const t=document.title.includes("Just a moment")||document.title.includes("Cloudflare")||document.title.includes("challenge"),e=!!document.querySelector('meta[http-equiv="refresh"]'),o=!!document.querySelector('meta[name="robots"][content*="noindex"]'),s=!!document.querySelector('.main-wrapper[role="main"]'),a=!!document.querySelector("#challenge-error-text"),u=document.body&&document.body.classList?document.body.classList.contains("no-js"):!1,f=document.styleSheets.length>0&&(document.documentElement.innerHTML.includes("background-image: url(data:image/svg+xml;base64,")||document.documentElement.innerHTML.includes("challenge")),p=e||o,g=s||a||u;return t&&p||t&&g||g&&s+a+(u?1:0)>=2&&p||f&&(t||p||g)}function registerMouseEvent(t){const e=t,o=configManager.get("mouse.longPressTime")||600;let s=null,a=!1,u=!1,f=1;document.addEventListener("mousedown",function(p){const g=e.player();if(!g||!(g instanceof HTMLVideoElement)||(u=g.paused,!isCoordinateInElement(p.clientX,p.clientY,g)))return;const y=g.getBoundingClientRect();p.clientY>y.bottom-80||p.button===0&&(s=setTimeout(()=>{a=!0,f=e.getPlaybackRate(),e.unLockPlaybackRate(),e.setPlaybackRate(3),e.lockPlaybackRate(800),p.preventDefault(),p.stopPropagation()},o))},!0),document.addEventListener("mouseup",function(p){s&&clearTimeout(s),a&&(a=!1,p.preventDefault(),p.stopPropagation(),u?e.mediaPlusApi.lockPlay(600):e.mediaPlusApi.lockPause(600),e.unLockPlaybackRate(),e.setPlaybackRate(f),e.lockPlaybackRate(800))},!0)}const h5playerUI=function(t){var e=function(){const o=new CSSStyleSheet;o.replaceSync(`:root,
:host,
.sl-theme-light {
  color-scheme: light;

  --sl-color-gray-50: hsl(0 0% 97.5%);
  --sl-color-gray-100: hsl(240 4.8% 95.9%);
  --sl-color-gray-200: hsl(240 5.9% 90%);
  --sl-color-gray-300: hsl(240 4.9% 83.9%);
  --sl-color-gray-400: hsl(240 5% 64.9%);
  --sl-color-gray-500: hsl(240 3.8% 46.1%);
  --sl-color-gray-600: hsl(240 5.2% 33.9%);
  --sl-color-gray-700: hsl(240 5.3% 26.1%);
  --sl-color-gray-800: hsl(240 3.7% 15.9%);
  --sl-color-gray-900: hsl(240 5.9% 10%);
  --sl-color-gray-950: hsl(240 7.3% 8%);

  --sl-color-red-50: hsl(0 85.7% 97.3%);
  --sl-color-red-100: hsl(0 93.3% 94.1%);
  --sl-color-red-200: hsl(0 96.3% 89.4%);
  --sl-color-red-300: hsl(0 93.5% 81.8%);
  --sl-color-red-400: hsl(0 90.6% 70.8%);
  --sl-color-red-500: hsl(0 84.2% 60.2%);
  --sl-color-red-600: hsl(0 72.2% 50.6%);
  --sl-color-red-700: hsl(0 73.7% 41.8%);
  --sl-color-red-800: hsl(0 70% 35.3%);
  --sl-color-red-900: hsl(0 62.8% 30.6%);
  --sl-color-red-950: hsl(0 60% 19.6%);

  --sl-color-orange-50: hsl(33.3 100% 96.5%);
  --sl-color-orange-100: hsl(34.3 100% 91.8%);
  --sl-color-orange-200: hsl(32.1 97.7% 83.1%);
  --sl-color-orange-300: hsl(30.7 97.2% 72.4%);
  --sl-color-orange-400: hsl(27 96% 61%);
  --sl-color-orange-500: hsl(24.6 95% 53.1%);
  --sl-color-orange-600: hsl(20.5 90.2% 48.2%);
  --sl-color-orange-700: hsl(17.5 88.3% 40.4%);
  --sl-color-orange-800: hsl(15 79.1% 33.7%);
  --sl-color-orange-900: hsl(15.3 74.6% 27.8%);
  --sl-color-orange-950: hsl(15.2 69.1% 19%);

  --sl-color-amber-50: hsl(48 100% 96.1%);
  --sl-color-amber-100: hsl(48 96.5% 88.8%);
  --sl-color-amber-200: hsl(48 96.6% 76.7%);
  --sl-color-amber-300: hsl(45.9 96.7% 64.5%);
  --sl-color-amber-400: hsl(43.3 96.4% 56.3%);
  --sl-color-amber-500: hsl(37.7 92.1% 50.2%);
  --sl-color-amber-600: hsl(32.1 94.6% 43.7%);
  --sl-color-amber-700: hsl(26 90.5% 37.1%);
  --sl-color-amber-800: hsl(22.7 82.5% 31.4%);
  --sl-color-amber-900: hsl(21.7 77.8% 26.5%);
  --sl-color-amber-950: hsl(22.9 74.1% 16.7%);

  --sl-color-yellow-50: hsl(54.5 91.7% 95.3%);
  --sl-color-yellow-100: hsl(54.9 96.7% 88%);
  --sl-color-yellow-200: hsl(52.8 98.3% 76.9%);
  --sl-color-yellow-300: hsl(50.4 97.8% 63.5%);
  --sl-color-yellow-400: hsl(47.9 95.8% 53.1%);
  --sl-color-yellow-500: hsl(45.4 93.4% 47.5%);
  --sl-color-yellow-600: hsl(40.6 96.1% 40.4%);
  --sl-color-yellow-700: hsl(35.5 91.7% 32.9%);
  --sl-color-yellow-800: hsl(31.8 81% 28.8%);
  --sl-color-yellow-900: hsl(28.4 72.5% 25.7%);
  --sl-color-yellow-950: hsl(33.1 69% 13.9%);

  --sl-color-lime-50: hsl(78.3 92% 95.1%);
  --sl-color-lime-100: hsl(79.6 89.1% 89.2%);
  --sl-color-lime-200: hsl(80.9 88.5% 79.6%);
  --sl-color-lime-300: hsl(82 84.5% 67.1%);
  --sl-color-lime-400: hsl(82.7 78% 55.5%);
  --sl-color-lime-500: hsl(83.7 80.5% 44.3%);
  --sl-color-lime-600: hsl(84.8 85.2% 34.5%);
  --sl-color-lime-700: hsl(85.9 78.4% 27.3%);
  --sl-color-lime-800: hsl(86.3 69% 22.7%);
  --sl-color-lime-900: hsl(87.6 61.2% 20.2%);
  --sl-color-lime-950: hsl(86.5 60.6% 13.9%);

  --sl-color-green-50: hsl(138.5 76.5% 96.7%);
  --sl-color-green-100: hsl(140.6 84.2% 92.5%);
  --sl-color-green-200: hsl(141 78.9% 85.1%);
  --sl-color-green-300: hsl(141.7 76.6% 73.1%);
  --sl-color-green-400: hsl(141.9 69.2% 58%);
  --sl-color-green-500: hsl(142.1 70.6% 45.3%);
  --sl-color-green-600: hsl(142.1 76.2% 36.3%);
  --sl-color-green-700: hsl(142.4 71.8% 29.2%);
  --sl-color-green-800: hsl(142.8 64.2% 24.1%);
  --sl-color-green-900: hsl(143.8 61.2% 20.2%);
  --sl-color-green-950: hsl(144.3 60.7% 12%);

  --sl-color-emerald-50: hsl(151.8 81% 95.9%);
  --sl-color-emerald-100: hsl(149.3 80.4% 90%);
  --sl-color-emerald-200: hsl(152.4 76% 80.4%);
  --sl-color-emerald-300: hsl(156.2 71.6% 66.9%);
  --sl-color-emerald-400: hsl(158.1 64.4% 51.6%);
  --sl-color-emerald-500: hsl(160.1 84.1% 39.4%);
  --sl-color-emerald-600: hsl(161.4 93.5% 30.4%);
  --sl-color-emerald-700: hsl(162.9 93.5% 24.3%);
  --sl-color-emerald-800: hsl(163.1 88.1% 19.8%);
  --sl-color-emerald-900: hsl(164.2 85.7% 16.5%);
  --sl-color-emerald-950: hsl(164.3 87.5% 9.4%);

  --sl-color-teal-50: hsl(166.2 76.5% 96.7%);
  --sl-color-teal-100: hsl(167.2 85.5% 89.2%);
  --sl-color-teal-200: hsl(168.4 83.8% 78.2%);
  --sl-color-teal-300: hsl(170.6 76.9% 64.3%);
  --sl-color-teal-400: hsl(172.5 66% 50.4%);
  --sl-color-teal-500: hsl(173.4 80.4% 40%);
  --sl-color-teal-600: hsl(174.7 83.9% 31.6%);
  --sl-color-teal-700: hsl(175.3 77.4% 26.1%);
  --sl-color-teal-800: hsl(176.1 69.4% 21.8%);
  --sl-color-teal-900: hsl(175.9 60.8% 19%);
  --sl-color-teal-950: hsl(176.5 58.6% 11.4%);

  --sl-color-cyan-50: hsl(183.2 100% 96.3%);
  --sl-color-cyan-100: hsl(185.1 95.9% 90.4%);
  --sl-color-cyan-200: hsl(186.2 93.5% 81.8%);
  --sl-color-cyan-300: hsl(187 92.4% 69%);
  --sl-color-cyan-400: hsl(187.9 85.7% 53.3%);
  --sl-color-cyan-500: hsl(188.7 94.5% 42.7%);
  --sl-color-cyan-600: hsl(191.6 91.4% 36.5%);
  --sl-color-cyan-700: hsl(192.9 82.3% 31%);
  --sl-color-cyan-800: hsl(194.4 69.6% 27.1%);
  --sl-color-cyan-900: hsl(196.4 63.6% 23.7%);
  --sl-color-cyan-950: hsl(196.8 61% 16.1%);

  --sl-color-sky-50: hsl(204 100% 97.1%);
  --sl-color-sky-100: hsl(204 93.8% 93.7%);
  --sl-color-sky-200: hsl(200.6 94.4% 86.1%);
  --sl-color-sky-300: hsl(199.4 95.5% 73.9%);
  --sl-color-sky-400: hsl(198.4 93.2% 59.6%);
  --sl-color-sky-500: hsl(198.6 88.7% 48.4%);
  --sl-color-sky-600: hsl(200.4 98% 39.4%);
  --sl-color-sky-700: hsl(201.3 96.3% 32.2%);
  --sl-color-sky-800: hsl(201 90% 27.5%);
  --sl-color-sky-900: hsl(202 80.3% 23.9%);
  --sl-color-sky-950: hsl(202.3 73.8% 16.5%);

  --sl-color-blue-50: hsl(213.8 100% 96.9%);
  --sl-color-blue-100: hsl(214.3 94.6% 92.7%);
  --sl-color-blue-200: hsl(213.3 96.9% 87.3%);
  --sl-color-blue-300: hsl(211.7 96.4% 78.4%);
  --sl-color-blue-400: hsl(213.1 93.9% 67.8%);
  --sl-color-blue-500: hsl(217.2 91.2% 59.8%);
  --sl-color-blue-600: hsl(221.2 83.2% 53.3%);
  --sl-color-blue-700: hsl(224.3 76.3% 48%);
  --sl-color-blue-800: hsl(225.9 70.7% 40.2%);
  --sl-color-blue-900: hsl(224.4 64.3% 32.9%);
  --sl-color-blue-950: hsl(226.2 55.3% 18.4%);

  --sl-color-indigo-50: hsl(225.9 100% 96.7%);
  --sl-color-indigo-100: hsl(226.5 100% 93.9%);
  --sl-color-indigo-200: hsl(228 96.5% 88.8%);
  --sl-color-indigo-300: hsl(229.7 93.5% 81.8%);
  --sl-color-indigo-400: hsl(234.5 89.5% 73.9%);
  --sl-color-indigo-500: hsl(238.7 83.5% 66.7%);
  --sl-color-indigo-600: hsl(243.4 75.4% 58.6%);
  --sl-color-indigo-700: hsl(244.5 57.9% 50.6%);
  --sl-color-indigo-800: hsl(243.7 54.5% 41.4%);
  --sl-color-indigo-900: hsl(242.2 47.4% 34.3%);
  --sl-color-indigo-950: hsl(243.5 43.6% 22.9%);

  --sl-color-violet-50: hsl(250 100% 97.6%);
  --sl-color-violet-100: hsl(251.4 91.3% 95.5%);
  --sl-color-violet-200: hsl(250.5 95.2% 91.8%);
  --sl-color-violet-300: hsl(252.5 94.7% 85.1%);
  --sl-color-violet-400: hsl(255.1 91.7% 76.3%);
  --sl-color-violet-500: hsl(258.3 89.5% 66.3%);
  --sl-color-violet-600: hsl(262.1 83.3% 57.8%);
  --sl-color-violet-700: hsl(263.4 70% 50.4%);
  --sl-color-violet-800: hsl(263.4 69.3% 42.2%);
  --sl-color-violet-900: hsl(263.5 67.4% 34.9%);
  --sl-color-violet-950: hsl(265.1 61.5% 21.4%);

  --sl-color-purple-50: hsl(270 100% 98%);
  --sl-color-purple-100: hsl(268.7 100% 95.5%);
  --sl-color-purple-200: hsl(268.6 100% 91.8%);
  --sl-color-purple-300: hsl(269.2 97.4% 85.1%);
  --sl-color-purple-400: hsl(270 95.2% 75.3%);
  --sl-color-purple-500: hsl(270.7 91% 65.1%);
  --sl-color-purple-600: hsl(271.5 81.3% 55.9%);
  --sl-color-purple-700: hsl(272.1 71.7% 47.1%);
  --sl-color-purple-800: hsl(272.9 67.2% 39.4%);
  --sl-color-purple-900: hsl(273.6 65.6% 32%);
  --sl-color-purple-950: hsl(276 59.5% 16.5%);

  --sl-color-fuchsia-50: hsl(289.1 100% 97.8%);
  --sl-color-fuchsia-100: hsl(287 100% 95.5%);
  --sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);
  --sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);
  --sl-color-fuchsia-400: hsl(292 91.4% 72.5%);
  --sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);
  --sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);
  --sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);
  --sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);
  --sl-color-fuchsia-900: hsl(296.7 63.6% 28%);
  --sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);

  --sl-color-pink-50: hsl(327.3 73.3% 97.1%);
  --sl-color-pink-100: hsl(325.7 77.8% 94.7%);
  --sl-color-pink-200: hsl(325.9 84.6% 89.8%);
  --sl-color-pink-300: hsl(327.4 87.1% 81.8%);
  --sl-color-pink-400: hsl(328.6 85.5% 70.2%);
  --sl-color-pink-500: hsl(330.4 81.2% 60.4%);
  --sl-color-pink-600: hsl(333.3 71.4% 50.6%);
  --sl-color-pink-700: hsl(335.1 77.6% 42%);
  --sl-color-pink-800: hsl(335.8 74.4% 35.3%);
  --sl-color-pink-900: hsl(335.9 69% 30.4%);
  --sl-color-pink-950: hsl(336.2 65.4% 15.9%);

  --sl-color-rose-50: hsl(355.7 100% 97.3%);
  --sl-color-rose-100: hsl(355.6 100% 94.7%);
  --sl-color-rose-200: hsl(352.7 96.1% 90%);
  --sl-color-rose-300: hsl(352.6 95.7% 81.8%);
  --sl-color-rose-400: hsl(351.3 94.5% 71.4%);
  --sl-color-rose-500: hsl(349.7 89.2% 60.2%);
  --sl-color-rose-600: hsl(346.8 77.2% 49.8%);
  --sl-color-rose-700: hsl(345.3 82.7% 40.8%);
  --sl-color-rose-800: hsl(343.4 79.7% 34.7%);
  --sl-color-rose-900: hsl(341.5 75.5% 30.4%);
  --sl-color-rose-950: hsl(341.3 70.1% 17.1%);

  --sl-color-primary-50: var(--sl-color-sky-50);
  --sl-color-primary-100: var(--sl-color-sky-100);
  --sl-color-primary-200: var(--sl-color-sky-200);
  --sl-color-primary-300: var(--sl-color-sky-300);
  --sl-color-primary-400: var(--sl-color-sky-400);
  --sl-color-primary-500: var(--sl-color-sky-500);
  --sl-color-primary-600: var(--sl-color-sky-600);
  --sl-color-primary-700: var(--sl-color-sky-700);
  --sl-color-primary-800: var(--sl-color-sky-800);
  --sl-color-primary-900: var(--sl-color-sky-900);
  --sl-color-primary-950: var(--sl-color-sky-950);

  --sl-color-success-50: var(--sl-color-green-50);
  --sl-color-success-100: var(--sl-color-green-100);
  --sl-color-success-200: var(--sl-color-green-200);
  --sl-color-success-300: var(--sl-color-green-300);
  --sl-color-success-400: var(--sl-color-green-400);
  --sl-color-success-500: var(--sl-color-green-500);
  --sl-color-success-600: var(--sl-color-green-600);
  --sl-color-success-700: var(--sl-color-green-700);
  --sl-color-success-800: var(--sl-color-green-800);
  --sl-color-success-900: var(--sl-color-green-900);
  --sl-color-success-950: var(--sl-color-green-950);

  --sl-color-warning-50: var(--sl-color-amber-50);
  --sl-color-warning-100: var(--sl-color-amber-100);
  --sl-color-warning-200: var(--sl-color-amber-200);
  --sl-color-warning-300: var(--sl-color-amber-300);
  --sl-color-warning-400: var(--sl-color-amber-400);
  --sl-color-warning-500: var(--sl-color-amber-500);
  --sl-color-warning-600: var(--sl-color-amber-600);
  --sl-color-warning-700: var(--sl-color-amber-700);
  --sl-color-warning-800: var(--sl-color-amber-800);
  --sl-color-warning-900: var(--sl-color-amber-900);
  --sl-color-warning-950: var(--sl-color-amber-950);

  --sl-color-danger-50: var(--sl-color-red-50);
  --sl-color-danger-100: var(--sl-color-red-100);
  --sl-color-danger-200: var(--sl-color-red-200);
  --sl-color-danger-300: var(--sl-color-red-300);
  --sl-color-danger-400: var(--sl-color-red-400);
  --sl-color-danger-500: var(--sl-color-red-500);
  --sl-color-danger-600: var(--sl-color-red-600);
  --sl-color-danger-700: var(--sl-color-red-700);
  --sl-color-danger-800: var(--sl-color-red-800);
  --sl-color-danger-900: var(--sl-color-red-900);
  --sl-color-danger-950: var(--sl-color-red-950);

  --sl-color-neutral-50: var(--sl-color-gray-50);
  --sl-color-neutral-100: var(--sl-color-gray-100);
  --sl-color-neutral-200: var(--sl-color-gray-200);
  --sl-color-neutral-300: var(--sl-color-gray-300);
  --sl-color-neutral-400: var(--sl-color-gray-400);
  --sl-color-neutral-500: var(--sl-color-gray-500);
  --sl-color-neutral-600: var(--sl-color-gray-600);
  --sl-color-neutral-700: var(--sl-color-gray-700);
  --sl-color-neutral-800: var(--sl-color-gray-800);
  --sl-color-neutral-900: var(--sl-color-gray-900);
  --sl-color-neutral-950: var(--sl-color-gray-950);

  --sl-color-neutral-0: hsl(0, 0%, 100%);
  --sl-color-neutral-1000: hsl(0, 0%, 0%);

  --sl-border-radius-small: 0.1875rem;
  --sl-border-radius-medium: 0.25rem;
  --sl-border-radius-large: 0.5rem;
  --sl-border-radius-x-large: 1rem;

  --sl-border-radius-circle: 50%;
  --sl-border-radius-pill: 9999px;

  --sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);
  --sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);
  --sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);
  --sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);
  --sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);

  --sl-spacing-3x-small: 0.125rem;
  --sl-spacing-2x-small: 0.25rem;
  --sl-spacing-x-small: 0.5rem;
  --sl-spacing-small: 0.75rem;
  --sl-spacing-medium: 1rem;
  --sl-spacing-large: 1.25rem;
  --sl-spacing-x-large: 1.75rem;
  --sl-spacing-2x-large: 2.25rem;
  --sl-spacing-3x-large: 3rem;
  --sl-spacing-4x-large: 4.5rem;

  --sl-transition-x-slow: 1000ms;
  --sl-transition-slow: 500ms;
  --sl-transition-medium: 250ms;
  --sl-transition-fast: 150ms;
  --sl-transition-x-fast: 50ms;

  --sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
  --sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
    "Segoe UI Symbol";
  --sl-font-serif: Georgia, "Times New Roman", serif;

  --sl-font-size-2x-small: 0.625rem;
  --sl-font-size-x-small: 0.75rem;
  --sl-font-size-small: 0.875rem;
  --sl-font-size-medium: 1rem;
  --sl-font-size-large: 1.25rem;
  --sl-font-size-x-large: 1.5rem;
  --sl-font-size-2x-large: 2.25rem;
  --sl-font-size-3x-large: 3rem;
  --sl-font-size-4x-large: 4.5rem;

  --sl-font-weight-light: 300;
  --sl-font-weight-normal: 400;
  --sl-font-weight-semibold: 500;
  --sl-font-weight-bold: 700;

  --sl-letter-spacing-denser: -0.03em;
  --sl-letter-spacing-dense: -0.015em;
  --sl-letter-spacing-normal: normal;
  --sl-letter-spacing-loose: 0.075em;
  --sl-letter-spacing-looser: 0.15em;

  --sl-line-height-denser: 1;
  --sl-line-height-dense: 1.4;
  --sl-line-height-normal: 1.8;
  --sl-line-height-loose: 2.2;
  --sl-line-height-looser: 2.6;

  --sl-focus-ring-color: var(--sl-color-primary-600);
  --sl-focus-ring-style: solid;
  --sl-focus-ring-width: 3px;
  --sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width)
    var(--sl-focus-ring-color);
  --sl-focus-ring-offset: 1px;

  --sl-button-font-size-small: var(--sl-font-size-x-small);
  --sl-button-font-size-medium: var(--sl-font-size-small);
  --sl-button-font-size-large: var(--sl-font-size-medium);

  --sl-input-height-small: 1.875rem;
  --sl-input-height-medium: 2.5rem;
  --sl-input-height-large: 3.125rem;

  --sl-input-background-color: var(--sl-color-neutral-0);
  --sl-input-background-color-hover: var(--sl-input-background-color);
  --sl-input-background-color-focus: var(--sl-input-background-color);
  --sl-input-background-color-disabled: var(--sl-color-neutral-100);
  --sl-input-border-color: var(--sl-color-neutral-300);
  --sl-input-border-color-hover: var(--sl-color-neutral-400);
  --sl-input-border-color-focus: var(--sl-color-primary-500);
  --sl-input-border-color-disabled: var(--sl-color-neutral-300);
  --sl-input-border-width: 1px;
  --sl-input-required-content: "*";
  --sl-input-required-content-offset: -2px;
  --sl-input-required-content-color: var(--sl-input-label-color);

  --sl-input-border-radius-small: var(--sl-border-radius-medium);
  --sl-input-border-radius-medium: var(--sl-border-radius-medium);
  --sl-input-border-radius-large: var(--sl-border-radius-medium);

  --sl-input-font-family: var(--sl-font-sans);
  --sl-input-font-weight: var(--sl-font-weight-normal);
  --sl-input-font-size-small: var(--sl-font-size-small);
  --sl-input-font-size-medium: var(--sl-font-size-medium);
  --sl-input-font-size-large: var(--sl-font-size-large);
  --sl-input-letter-spacing: var(--sl-letter-spacing-normal);

  --sl-input-color: var(--sl-color-neutral-700);
  --sl-input-color-hover: var(--sl-color-neutral-700);
  --sl-input-color-focus: var(--sl-color-neutral-700);
  --sl-input-color-disabled: var(--sl-color-neutral-900);
  --sl-input-icon-color: var(--sl-color-neutral-500);
  --sl-input-icon-color-hover: var(--sl-color-neutral-600);
  --sl-input-icon-color-focus: var(--sl-color-neutral-600);
  --sl-input-placeholder-color: var(--sl-color-neutral-500);
  --sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);
  --sl-input-spacing-small: var(--sl-spacing-small);
  --sl-input-spacing-medium: var(--sl-spacing-medium);
  --sl-input-spacing-large: var(--sl-spacing-large);

  --sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);
  --sl-input-focus-ring-offset: 0;

  --sl-input-filled-background-color: var(--sl-color-neutral-100);
  --sl-input-filled-background-color-hover: var(--sl-color-neutral-100);
  --sl-input-filled-background-color-focus: var(--sl-color-neutral-100);
  --sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);
  --sl-input-filled-color: var(--sl-color-neutral-800);
  --sl-input-filled-color-hover: var(--sl-color-neutral-800);
  --sl-input-filled-color-focus: var(--sl-color-neutral-700);
  --sl-input-filled-color-disabled: var(--sl-color-neutral-800);

  --sl-input-label-font-size-small: var(--sl-font-size-small);
  --sl-input-label-font-size-medium: var(--sl-font-size-medium);
  --sl-input-label-font-size-large: var(--sl-font-size-large);
  --sl-input-label-color: inherit;

  --sl-input-help-text-font-size-small: var(--sl-font-size-x-small);
  --sl-input-help-text-font-size-medium: var(--sl-font-size-small);
  --sl-input-help-text-font-size-large: var(--sl-font-size-medium);
  --sl-input-help-text-color: var(--sl-color-neutral-500);

  --sl-toggle-size-small: 0.875rem;
  --sl-toggle-size-medium: 1.125rem;
  --sl-toggle-size-large: 1.375rem;

  --sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);

  --sl-panel-background-color: var(--sl-color-neutral-0);
  --sl-panel-border-color: var(--sl-color-neutral-200);
  --sl-panel-border-width: 1px;

  --sl-tooltip-border-radius: var(--sl-border-radius-medium);
  --sl-tooltip-background-color: var(--sl-color-neutral-800);
  --sl-tooltip-color: var(--sl-color-neutral-0);
  --sl-tooltip-font-family: var(--sl-font-sans);
  --sl-tooltip-font-weight: var(--sl-font-weight-normal);
  --sl-tooltip-font-size: var(--sl-font-size-small);
  --sl-tooltip-line-height: var(--sl-line-height-dense);
  --sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);
  --sl-tooltip-arrow-size: 6px;

  --sl-z-index-drawer: 999700;
  --sl-z-index-dialog: 999800;
  --sl-z-index-dropdown: 999900;
  --sl-z-index-toast: 999950;
  --sl-z-index-tooltip: 9991000;
}

.sl-scroll-lock {
  padding-right: var(--sl-scroll-lock-size) !important;
  overflow: hidden !important;
}

.sl-toast-stack {
  position: fixed;
  top: 0;
  inset-inline-end: 0;
  z-index: var(--sl-z-index-toast);
  width: 28rem;
  max-width: 100%;
  max-height: 100%;
  overflow: auto;
}

.sl-toast-stack sl-alert {
  margin: var(--sl-spacing-medium);
}

.sl-toast-stack sl-alert::part(base) {
  box-shadow: var(--sl-shadow-large);
}

sl-drawer::part(base) {
  color: var(--sl-color-neutral-800) !important;
}

.h5player-popup-wrap {
  position: relative;
  z-index: 99999999;
  opacity: 0;
}

.h5player-popup-wrap sl-popup {
  position: relative;
}

.h5player-popup-wrap .h5player-popup-content {
  background-color: rgba(0, 0, 0, 0.9);
  color: #fff;
  font-size: 16px;
  min-width: 220px;
  height: 48px;
  line-height: 48px;
  display: flex;
  padding: 0 16px;
  border-radius: 6px 6px 0 0;
  border-bottom: 2px solid rgba(255, 255, 255, 0.2);

  /* \u7070\u8272\u5411\u4E0B\u7684\u8FC7\u5EA6\u9634\u5F71 */
  box-shadow: 0 6px 14px rgba(0, 0, 0, 0.7);

  display: flex;
  align-items: center;
  justify-content: space-between;
}

@keyframes text-lumos {
  0%,100%{ color:#fff; }
	50%{ color:#ccc; }
}

.h5player-popup-content .h5p-logo-mod {
  white-space: nowrap;
  font-weight: 500;
  text-shadow: 0px 0px 2px #666, 0 0 30px #666;
  animation: text-lumos 5s infinite;
}

.h5player-popup-content .h5p-menu-wrap {}

.h5player-popup-content .h5p-action-mod {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.h5player-popup-content .h5p-action-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  padding: 0 8px;
  cursor: pointer;
  white-space: nowrap;
}

.h5player-popup-content .h5p-action-btn:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

.h5player-popup-content .h5p-action-btn sl-icon {
  padding: 0 4px;
}

/* \u6FC0\u6D3B\u6001 */
.h5player-popup-active {
  opacity: 0.8;
  transition: opacity 0.2s;
}

.h5player-popup-content a, .h5player-popup-content a:visited{
  color: #fff;
  cursor: pointer;
  text-decoration: none;
}

.h5player-popup-wrap:hover, .h5player-popup-full-active {
  opacity: 1 !important;
  transition: opacity 0.2s;
}

.h5player-popup-wrap:hover .h5player-popup-content, .h5player-popup-full-active .h5player-popup-content {
  border-bottom: 2px solid rgba(255, 255, 255, 0.6);
}

.h5player-popup-content .h5p-action-mod sl-menu {
  background-color: rgba(0, 0, 0, 0.9);
  color: #fff;
  border-radius: 4px;
  padding: 5px 0;
}

.h5player-popup-content .h5p-action-mod sl-menu-item::part(base) {
  /* background-color: rgba(0, 0, 0, 0.9); */
  color: #fff;
  font-size: 14px;
  padding: 2px 0;
}

.h5player-popup-content .h5p-action-mod sl-menu-item::part(base):hover {
  background-color: var(--sl-color-primary-500);
  color: #fff;
}

.h5player-popup-content .h5p-recommend-wrap {
  flex-grow: 1;
  box-sizing: border-box;
  margin: 0 20px;
  text-align: center;
  font-size: 14px;
  overflow: hidden;
  white-space: nowrap;

  display: flex;
  justify-content: flex-end;
  align-items: center;
  position: relative;
}

@keyframes text-marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}

.h5player-popup-content .h5p-recommend-mod {
  display: inline-block;
  word-break: keep-all;
  white-space: nowrap;
  /* \u65E0\u9650\u5FAA\u73AF\u6EDA\u52A8\u7684\u52A8\u753B\u6548\u679C */
  /* padding-left: 100%; */
  /* animation: text-marquee 15s linear infinite; */
}
.h5player-popup-content .h5p-recommend-item {
  word-break: keep-all;
  white-space: nowrap;

  position: absolute;
  top: 0;
  right: 0;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s;
}

.h5player-popup-content .h5p-recommend-item__active {
  opacity: 1;
  z-index: 99;
  pointer-events: auto;
}

.h5player-popup-content .h5p-recommend-wrap>div {
  opacity: 0.5;
}
.h5player-popup-content .h5p-recommend-wrap>div:hover{
  opacity: 1;
}
.h5player-popup-content .h5p-recommend-wrap>div:hover .h5p-recommend-mod {
  animation-play-state: paused;
}`);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s=globalThis,a=s.ShadowRoot&&(s.ShadyCSS===void 0||s.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,u=Symbol(),f=new WeakMap;let p=class{constructor(r,l,i){if(this._$cssResult$=!0,i!==u)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=r,this.t=l}get styleSheet(){let r=this.o;const l=this.t;if(a&&r===void 0){const i=l!==void 0&&l.length===1;i&&(r=f.get(l)),r===void 0&&((this.o=r=new CSSStyleSheet).replaceSync(this.cssText),i&&f.set(l,r))}return r}toString(){return this.cssText}};const g=n=>new p(typeof n=="string"?n:n+"",void 0,u),y=(n,...r)=>{const l=n.length===1?n[0]:r.reduce((i,c,d)=>i+(h=>{if(h._$cssResult$===!0)return h.cssText;if(typeof h=="number")return h;throw Error("Value passed to 'css' function must be a 'css' function result: "+h+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(c)+n[d+1],n[0]);return new p(l,n,u)},v=(n,r)=>{if(a)n.adoptedStyleSheets=r.map(l=>l instanceof CSSStyleSheet?l:l.styleSheet);else for(const l of r){const i=document.createElement("style"),c=s.litNonce;c!==void 0&&i.setAttribute("nonce",c),i.textContent=l.cssText,n.appendChild(i)}},k=a?n=>n:n=>n instanceof CSSStyleSheet?(r=>{let l="";for(const i of r.cssRules)l+=i.cssText;return g(l)})(n):n;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:P,defineProperty:T,getOwnPropertyDescriptor:O,getOwnPropertyNames:B,getOwnPropertySymbols:W,getPrototypeOf:M}=Object,E=globalThis,H=E.trustedTypes,q=H?H.emptyScript:"",Z=E.reactiveElementPolyfillSupport,N=(n,r)=>n,G={toAttribute(n,r){switch(r){case Boolean:n=n?q:null;break;case Object:case Array:n=n==null?n:JSON.stringify(n)}return n},fromAttribute(n,r){let l=n;switch(r){case Boolean:l=n!==null;break;case Number:l=n===null?null:Number(n);break;case Object:case Array:try{l=JSON.parse(n)}catch{l=null}}return l}},Q=(n,r)=>!P(n,r),Gt={attribute:!0,type:String,converter:G,reflect:!1,hasChanged:Q};Symbol.metadata??=Symbol("metadata"),E.litPropertyMetadata??=new WeakMap;class Oe extends HTMLElement{static addInitializer(r){this._$Ei(),(this.l??=[]).push(r)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(r,l=Gt){if(l.state&&(l.attribute=!1),this._$Ei(),this.elementProperties.set(r,l),!l.noAccessor){const i=Symbol(),c=this.getPropertyDescriptor(r,i,l);c!==void 0&&T(this.prototype,r,c)}}static getPropertyDescriptor(r,l,i){const{get:c,set:d}=O(this.prototype,r)??{get(){return this[l]},set(h){this[l]=h}};return{get(){return c?.call(this)},set(h){const w=c?.call(this);d.call(this,h),this.requestUpdate(r,w,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(r){return this.elementProperties.get(r)??Gt}static _$Ei(){if(this.hasOwnProperty(N("elementProperties")))return;const r=M(this);r.finalize(),r.l!==void 0&&(this.l=[...r.l]),this.elementProperties=new Map(r.elementProperties)}static finalize(){if(this.hasOwnProperty(N("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(N("properties"))){const l=this.properties,i=[...B(l),...W(l)];for(const c of i)this.createProperty(c,l[c])}const r=this[Symbol.metadata];if(r!==null){const l=litPropertyMetadata.get(r);if(l!==void 0)for(const[i,c]of l)this.elementProperties.set(i,c)}this._$Eh=new Map;for(const[l,i]of this.elementProperties){const c=this._$Eu(l,i);c!==void 0&&this._$Eh.set(c,l)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(r){const l=[];if(Array.isArray(r)){const i=new Set(r.flat(1/0).reverse());for(const c of i)l.unshift(k(c))}else r!==void 0&&l.push(k(r));return l}static _$Eu(r,l){const i=l.attribute;return i===!1?void 0:typeof i=="string"?i:typeof r=="string"?r.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$Eg=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$ES(),this.requestUpdate(),this.constructor.l?.forEach(r=>r(this))}addController(r){(this._$E_??=new Set).add(r),this.renderRoot!==void 0&&this.isConnected&&r.hostConnected?.()}removeController(r){this._$E_?.delete(r)}_$ES(){const r=new Map,l=this.constructor.elementProperties;for(const i of l.keys())this.hasOwnProperty(i)&&(r.set(i,this[i]),delete this[i]);r.size>0&&(this._$Ep=r)}createRenderRoot(){const r=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return v(r,this.constructor.elementStyles),r}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$E_?.forEach(r=>r.hostConnected?.())}enableUpdating(r){}disconnectedCallback(){this._$E_?.forEach(r=>r.hostDisconnected?.())}attributeChangedCallback(r,l,i){this._$AK(r,i)}_$EO(r,l){const i=this.constructor.elementProperties.get(r),c=this.constructor._$Eu(r,i);if(c!==void 0&&i.reflect===!0){const d=(i.converter?.toAttribute!==void 0?i.converter:G).toAttribute(l,i.type);this._$Em=r,d==null?this.removeAttribute(c):this.setAttribute(c,d),this._$Em=null}}_$AK(r,l){const i=this.constructor,c=i._$Eh.get(r);if(c!==void 0&&this._$Em!==c){const d=i.getPropertyOptions(c),h=typeof d.converter=="function"?{fromAttribute:d.converter}:d.converter?.fromAttribute!==void 0?d.converter:G;this._$Em=c,this[c]=h.fromAttribute(l,d.type),this._$Em=null}}requestUpdate(r,l,i){if(r!==void 0){if(i??=this.constructor.getPropertyOptions(r),!(i.hasChanged??Q)(this[r],l))return;this.C(r,l,i)}this.isUpdatePending===!1&&(this._$Eg=this._$EP())}C(r,l,i){this._$AL.has(r)||this._$AL.set(r,l),i.reflect===!0&&this._$Em!==r&&(this._$ET??=new Set).add(r)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(l){Promise.reject(l)}const r=this.scheduleUpdate();return r!=null&&await r,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[c,d]of this._$Ep)this[c]=d;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[c,d]of i)d.wrapped!==!0||this._$AL.has(c)||this[c]===void 0||this.C(c,this[c],d)}let r=!1;const l=this._$AL;try{r=this.shouldUpdate(l),r?(this.willUpdate(l),this._$E_?.forEach(i=>i.hostUpdate?.()),this.update(l)):this._$Ej()}catch(i){throw r=!1,this._$Ej(),i}r&&this._$AE(l)}willUpdate(r){}_$AE(r){this._$E_?.forEach(l=>l.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(r)),this.updated(r)}_$Ej(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(r){return!0}update(r){this._$ET&&=this._$ET.forEach(l=>this._$EO(l,this[l])),this._$Ej()}updated(r){}firstUpdated(r){}}Oe.elementStyles=[],Oe.shadowRootOptions={mode:"open"},Oe[N("elementProperties")]=new Map,Oe[N("finalized")]=new Map,Z?.({ReactiveElement:Oe}),(E.reactiveElementVersions??=[]).push("2.0.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wt=globalThis,rt=wt.trustedTypes,Nt=rt?rt.createPolicy("lit-html",{createHTML:n=>n}):void 0,Vt="$lit$",ke=`lit$${(Math.random()+"").slice(9)}$`,jt="?"+ke,qo=`<${jt}>`,Te=document,Ve=()=>Te.createComment(""),je=n=>n===null||typeof n!="object"&&typeof n!="function",qt=Array.isArray,Ko=n=>qt(n)||typeof n?.[Symbol.iterator]=="function",vt=`[ 	
\f\r]`,qe=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Kt=/-->/g,Wt=/>/g,Ae=RegExp(`>|${vt}(?:([^\\s"'>=/]+)(${vt}*=${vt}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Jt=/'/g,Xt=/"/g,Yt=/^(?:script|style|textarea|title)$/i,Wo=n=>(r,...l)=>({_$litType$:n,strings:r,values:l}),me=Wo(1),Me=Symbol.for("lit-noChange"),X=Symbol.for("lit-nothing"),Zt=new WeakMap,Le=Te.createTreeWalker(Te,129);function Qt(n,r){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return Nt!==void 0?Nt.createHTML(r):r}const Jo=(n,r)=>{const l=n.length-1,i=[];let c,d=r===2?"<svg>":"",h=qe;for(let w=0;w<l;w++){const m=n[w];let b,_,C=-1,L=0;for(;L<m.length&&(h.lastIndex=L,_=h.exec(m),_!==null);)L=h.lastIndex,h===qe?_[1]==="!--"?h=Kt:_[1]!==void 0?h=Wt:_[2]!==void 0?(Yt.test(_[2])&&(c=RegExp("</"+_[2],"g")),h=Ae):_[3]!==void 0&&(h=Ae):h===Ae?_[0]===">"?(h=c??qe,C=-1):_[1]===void 0?C=-2:(C=h.lastIndex-_[2].length,b=_[1],h=_[3]===void 0?Ae:_[3]==='"'?Xt:Jt):h===Xt||h===Jt?h=Ae:h===Kt||h===Wt?h=qe:(h=Ae,c=void 0);const x=h===Ae&&n[w+1].startsWith("/>")?" ":"";d+=h===qe?m+qo:C>=0?(i.push(b),m.slice(0,C)+Vt+m.slice(C)+ke+x):m+ke+(C===-2?w:x)}return[Qt(n,d+(n[l]||"<?>")+(r===2?"</svg>":"")),i]};class Ke{constructor({strings:r,_$litType$:l},i){let c;this.parts=[];let d=0,h=0;const w=r.length-1,m=this.parts,[b,_]=Jo(r,l);if(this.el=Ke.createElement(b,i),Le.currentNode=this.el.content,l===2){const C=this.el.content.firstChild;C.replaceWith(...C.childNodes)}for(;(c=Le.nextNode())!==null&&m.length<w;){if(c.nodeType===1){if(c.hasAttributes())for(const C of c.getAttributeNames())if(C.endsWith(Vt)){const L=_[h++],x=c.getAttribute(C).split(ke),$=/([.?@])?(.*)/.exec(L);m.push({type:1,index:d,name:$[2],strings:x,ctor:$[1]==="."?Yo:$[1]==="?"?Zo:$[1]==="@"?Qo:st}),c.removeAttribute(C)}else C.startsWith(ke)&&(m.push({type:6,index:d}),c.removeAttribute(C));if(Yt.test(c.tagName)){const C=c.textContent.split(ke),L=C.length-1;if(L>0){c.textContent=rt?rt.emptyScript:"";for(let x=0;x<L;x++)c.append(C[x],Ve()),Le.nextNode(),m.push({type:2,index:++d});c.append(C[L],Ve())}}}else if(c.nodeType===8)if(c.data===jt)m.push({type:2,index:d});else{let C=-1;for(;(C=c.data.indexOf(ke,C+1))!==-1;)m.push({type:7,index:d}),C+=ke.length-1}d++}}static createElement(r,l){const i=Te.createElement("template");return i.innerHTML=r,i}}function He(n,r,l=n,i){if(r===Me)return r;let c=i!==void 0?l._$Co?.[i]:l._$Cl;const d=je(r)?void 0:r._$litDirective$;return c?.constructor!==d&&(c?._$AO?.(!1),d===void 0?c=void 0:(c=new d(n),c._$AT(n,l,i)),i!==void 0?(l._$Co??=[])[i]=c:l._$Cl=c),c!==void 0&&(r=He(n,c._$AS(n,r.values),c,i)),r}class Xo{constructor(r,l){this._$AV=[],this._$AN=void 0,this._$AD=r,this._$AM=l}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(r){const{el:{content:l},parts:i}=this._$AD,c=(r?.creationScope??Te).importNode(l,!0);Le.currentNode=c;let d=Le.nextNode(),h=0,w=0,m=i[0];for(;m!==void 0;){if(h===m.index){let b;m.type===2?b=new We(d,d.nextSibling,this,r):m.type===1?b=new m.ctor(d,m.name,m.strings,this,r):m.type===6&&(b=new en(d,this,r)),this._$AV.push(b),m=i[++w]}h!==m?.index&&(d=Le.nextNode(),h++)}return Le.currentNode=Te,c}p(r){let l=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(r,i,l),l+=i.strings.length-2):i._$AI(r[l])),l++}}class We{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(r,l,i,c){this.type=2,this._$AH=X,this._$AN=void 0,this._$AA=r,this._$AB=l,this._$AM=i,this.options=c,this._$Cv=c?.isConnected??!0}get parentNode(){let r=this._$AA.parentNode;const l=this._$AM;return l!==void 0&&r?.nodeType===11&&(r=l.parentNode),r}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(r,l=this){r=He(this,r,l),je(r)?r===X||r==null||r===""?(this._$AH!==X&&this._$AR(),this._$AH=X):r!==this._$AH&&r!==Me&&this._(r):r._$litType$!==void 0?this.g(r):r.nodeType!==void 0?this.$(r):Ko(r)?this.T(r):this._(r)}k(r){return this._$AA.parentNode.insertBefore(r,this._$AB)}$(r){this._$AH!==r&&(this._$AR(),this._$AH=this.k(r))}_(r){this._$AH!==X&&je(this._$AH)?this._$AA.nextSibling.data=r:this.$(Te.createTextNode(r)),this._$AH=r}g(r){const{values:l,_$litType$:i}=r,c=typeof i=="number"?this._$AC(r):(i.el===void 0&&(i.el=Ke.createElement(Qt(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===c)this._$AH.p(l);else{const d=new Xo(c,this),h=d.u(this.options);d.p(l),this.$(h),this._$AH=d}}_$AC(r){let l=Zt.get(r.strings);return l===void 0&&Zt.set(r.strings,l=new Ke(r)),l}T(r){qt(this._$AH)||(this._$AH=[],this._$AR());const l=this._$AH;let i,c=0;for(const d of r)c===l.length?l.push(i=new We(this.k(Ve()),this.k(Ve()),this,this.options)):i=l[c],i._$AI(d),c++;c<l.length&&(this._$AR(i&&i._$AB.nextSibling,c),l.length=c)}_$AR(r=this._$AA.nextSibling,l){for(this._$AP?.(!1,!0,l);r&&r!==this._$AB;){const i=r.nextSibling;r.remove(),r=i}}setConnected(r){this._$AM===void 0&&(this._$Cv=r,this._$AP?.(r))}}class st{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(r,l,i,c,d){this.type=1,this._$AH=X,this._$AN=void 0,this.element=r,this.name=l,this._$AM=c,this.options=d,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=X}_$AI(r,l=this,i,c){const d=this.strings;let h=!1;if(d===void 0)r=He(this,r,l,0),h=!je(r)||r!==this._$AH&&r!==Me,h&&(this._$AH=r);else{const w=r;let m,b;for(r=d[0],m=0;m<d.length-1;m++)b=He(this,w[i+m],l,m),b===Me&&(b=this._$AH[m]),h||=!je(b)||b!==this._$AH[m],b===X?r=X:r!==X&&(r+=(b??"")+d[m+1]),this._$AH[m]=b}h&&!c&&this.O(r)}O(r){r===X?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,r??"")}}class Yo extends st{constructor(){super(...arguments),this.type=3}O(r){this.element[this.name]=r===X?void 0:r}}class Zo extends st{constructor(){super(...arguments),this.type=4}O(r){this.element.toggleAttribute(this.name,!!r&&r!==X)}}class Qo extends st{constructor(r,l,i,c,d){super(r,l,i,c,d),this.type=5}_$AI(r,l=this){if((r=He(this,r,l,0)??X)===Me)return;const i=this._$AH,c=r===X&&i!==X||r.capture!==i.capture||r.once!==i.once||r.passive!==i.passive,d=r!==X&&(i===X||c);c&&this.element.removeEventListener(this.name,this,i),d&&this.element.addEventListener(this.name,this,r),this._$AH=r}handleEvent(r){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,r):this._$AH.handleEvent(r)}}class en{constructor(r,l,i){this.element=r,this.type=6,this._$AN=void 0,this._$AM=l,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(r){He(this,r)}}const tn=wt.litHtmlPolyfillSupport;tn?.(Ke,We),(wt.litHtmlVersions??=[]).push("3.1.1");const on=(n,r,l)=>{const i=l?.renderBefore??r;let c=i._$litPart$;if(c===void 0){const d=l?.renderBefore??null;i._$litPart$=c=new We(r.insertBefore(Ve(),d),d,void 0,l??{})}return c._$AI(n),c};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Je=class extends Oe{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const r=super.createRenderRoot();return this.renderOptions.renderBefore??=r.firstChild,r}update(r){const l=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(r),this._$Do=on(l,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Me}};Je._$litElement$=!0,Je.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:Je});const nn=globalThis.litElementPolyfillSupport;nn?.({LitElement:Je}),(globalThis.litElementVersions??=[]).push("4.0.3");var $e=y`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,rn=y`
  ${$e}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }
`,eo=Object.defineProperty,sn=Object.defineProperties,an=Object.getOwnPropertyDescriptor,ln=Object.getOwnPropertyDescriptors,to=Object.getOwnPropertySymbols,cn=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable,oo=(n,r,l)=>r in n?eo(n,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[r]=l,it=(n,r)=>{for(var l in r||(r={}))cn.call(r,l)&&oo(n,l,r[l]);if(to)for(var l of to(r))un.call(r,l)&&oo(n,l,r[l]);return n},no=(n,r)=>sn(n,ln(r)),R=(n,r,l,i)=>{for(var c=i>1?void 0:i?an(r,l):r,d=n.length-1,h;d>=0;d--)(h=n[d])&&(c=(i?h(r,l,c):h(c))||c);return i&&c&&eo(r,l,c),c};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dn={attribute:!0,type:String,converter:G,reflect:!1,hasChanged:Q},fn=(n=dn,r,l)=>{const{kind:i,metadata:c}=l;let d=globalThis.litPropertyMetadata.get(c);if(d===void 0&&globalThis.litPropertyMetadata.set(c,d=new Map),d.set(l.name,n),i==="accessor"){const{name:h}=l;return{set(w){const m=r.get.call(this);r.set.call(this,w),this.requestUpdate(h,m,n)},init(w){return w!==void 0&&this.C(h,void 0,n),w}}}if(i==="setter"){const{name:h}=l;return function(w){const m=this[h];r.call(this,w),this.requestUpdate(h,m,n)}}throw Error("Unsupported decorator location: "+i)};function F(n){return(r,l)=>typeof l=="object"?fn(n,r,l):((i,c,d)=>{const h=c.hasOwnProperty(d);return c.constructor.createProperty(d,h?{...i,wrapped:!0}:i),h?Object.getOwnPropertyDescriptor(c,d):void 0})(n,r,l)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function pn(n){return F({...n,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ro=(n,r,l)=>(l.configurable=!0,l.enumerable=!0,Reflect.decorate&&typeof r!="object"&&Object.defineProperty(n,r,l),l);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Se(n,r){return(l,i,c)=>{const d=h=>h.renderRoot?.querySelector(n)??null;if(r){const{get:h,set:w}=typeof i=="object"?l:c??(()=>{const m=Symbol();return{get(){return this[m]},set(b){this[m]=b}}})();return ro(l,i,{get(){let m=h.call(this);return m===void 0&&(m=d(this),(m!==null||this.hasUpdated)&&w.call(this,m)),m}})}return ro(l,i,{get(){return d(this)}})}}var ce=class extends Je{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([n,r])=>{this.constructor.define(n,r)})}emit(n,r){const l=new CustomEvent(n,it({bubbles:!0,cancelable:!1,composed:!0,detail:{}},r));return this.dispatchEvent(l),l}static define(n,r=this,l={}){const i=customElements.get(n);if(!i){customElements.define(n,class extends r{},l);return}let c=" (unknown version)",d=c;"version"in r&&r.version&&(c=" v"+r.version),"version"in i&&i.version&&(d=" v"+i.version),!(c&&d&&c===d)&&console.warn(`Attempted to register <${n}>${c}, but <${n}>${d} has already been registered.`)}};ce.version="2.12.0",ce.dependencies={},R([F()],ce.prototype,"dir",2),R([F()],ce.prototype,"lang",2);const _e=Math.min,oe=Math.max,at=Math.round,lt=Math.floor,Ce=n=>({x:n,y:n}),hn={left:"right",right:"left",bottom:"top",top:"bottom"},gn={start:"end",end:"start"};function kt(n,r,l){return oe(n,_e(r,l))}function Ue(n,r){return typeof n=="function"?n(r):n}function Pe(n){return n.split("-")[0]}function Fe(n){return n.split("-")[1]}function so(n){return n==="x"?"y":"x"}function St(n){return n==="y"?"height":"width"}function Xe(n){return["top","bottom"].includes(Pe(n))?"y":"x"}function _t(n){return so(Xe(n))}function mn(n,r,l){l===void 0&&(l=!1);const i=Fe(n),c=_t(n),d=St(c);let h=c==="x"?i===(l?"end":"start")?"right":"left":i==="start"?"bottom":"top";return r.reference[d]>r.floating[d]&&(h=ct(h)),[h,ct(h)]}function bn(n){const r=ct(n);return[Ct(n),r,Ct(r)]}function Ct(n){return n.replace(/start|end/g,r=>gn[r])}function yn(n,r,l){const i=["left","right"],c=["right","left"],d=["top","bottom"],h=["bottom","top"];switch(n){case"top":case"bottom":return l?r?c:i:r?i:c;case"left":case"right":return r?d:h;default:return[]}}function wn(n,r,l,i){const c=Fe(n);let d=yn(Pe(n),l==="start",i);return c&&(d=d.map(h=>h+"-"+c),r&&(d=d.concat(d.map(Ct)))),d}function ct(n){return n.replace(/left|right|bottom|top/g,r=>hn[r])}function vn(n){return{top:0,right:0,bottom:0,left:0,...n}}function io(n){return typeof n!="number"?vn(n):{top:n,right:n,bottom:n,left:n}}function ut(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function ao(n,r,l){let{reference:i,floating:c}=n;const d=Xe(r),h=_t(r),w=St(h),m=Pe(r),b=d==="y",_=i.x+i.width/2-c.width/2,C=i.y+i.height/2-c.height/2,L=i[w]/2-c[w]/2;let x;switch(m){case"top":x={x:_,y:i.y-c.height};break;case"bottom":x={x:_,y:i.y+i.height};break;case"right":x={x:i.x+i.width,y:C};break;case"left":x={x:i.x-c.width,y:C};break;default:x={x:i.x,y:i.y}}switch(Fe(r)){case"start":x[h]-=L*(l&&b?-1:1);break;case"end":x[h]+=L*(l&&b?-1:1);break}return x}const kn=async(n,r,l)=>{const{placement:i="bottom",strategy:c="absolute",middleware:d=[],platform:h}=l,w=d.filter(Boolean),m=await(h.isRTL==null?void 0:h.isRTL(r));let b=await h.getElementRects({reference:n,floating:r,strategy:c}),{x:_,y:C}=ao(b,i,m),L=i,x={},$=0;for(let A=0;A<w.length;A++){const{name:I,fn:D}=w[A],{x:V,y:U,data:J,reset:j}=await D({x:_,y:C,initialPlacement:i,placement:L,strategy:c,middlewareData:x,rects:b,platform:h,elements:{reference:n,floating:r}});if(_=V??_,C=U??C,x={...x,[I]:{...x[I],...J}},j&&$<=50){$++,typeof j=="object"&&(j.placement&&(L=j.placement),j.rects&&(b=j.rects===!0?await h.getElementRects({reference:n,floating:r,strategy:c}):j.rects),{x:_,y:C}=ao(b,L,m)),A=-1;continue}}return{x:_,y:C,placement:L,strategy:c,middlewareData:x}};async function Pt(n,r){var l;r===void 0&&(r={});const{x:i,y:c,platform:d,rects:h,elements:w,strategy:m}=n,{boundary:b="clippingAncestors",rootBoundary:_="viewport",elementContext:C="floating",altBoundary:L=!1,padding:x=0}=Ue(r,n),$=io(x),I=w[L?C==="floating"?"reference":"floating":C],D=ut(await d.getClippingRect({element:(l=await(d.isElement==null?void 0:d.isElement(I)))==null||l?I:I.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(w.floating)),boundary:b,rootBoundary:_,strategy:m})),V=C==="floating"?{...h.floating,x:i,y:c}:h.reference,U=await(d.getOffsetParent==null?void 0:d.getOffsetParent(w.floating)),J=await(d.isElement==null?void 0:d.isElement(U))?await(d.getScale==null?void 0:d.getScale(U))||{x:1,y:1}:{x:1,y:1},j=ut(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({rect:V,offsetParent:U,strategy:m}):V);return{top:(D.top-j.top+$.top)/J.y,bottom:(j.bottom-D.bottom+$.bottom)/J.y,left:(D.left-j.left+$.left)/J.x,right:(j.right-D.right+$.right)/J.x}}const Sn=n=>({name:"arrow",options:n,async fn(r){const{x:l,y:i,placement:c,rects:d,platform:h,elements:w,middlewareData:m}=r,{element:b,padding:_=0}=Ue(n,r)||{};if(b==null)return{};const C=io(_),L={x:l,y:i},x=_t(c),$=St(x),A=await h.getDimensions(b),I=x==="y",D=I?"top":"left",V=I?"bottom":"right",U=I?"clientHeight":"clientWidth",J=d.reference[$]+d.reference[x]-L[x]-d.floating[$],j=L[x]-d.reference[x],Y=await(h.getOffsetParent==null?void 0:h.getOffsetParent(b));let re=Y?Y[U]:0;(!re||!await(h.isElement==null?void 0:h.isElement(Y)))&&(re=w.floating[U]||d.floating[$]);const pe=J/2-j/2,xe=re/2-A[$]/2-1,tt=_e(C[D],xe),ot=_e(C[V],xe),le=tt,nt=re-A[$]-ot,se=re/2-A[$]/2+pe,he=kt(le,se,nt),ge=!m.arrow&&Fe(c)!=null&&se!=he&&d.reference[$]/2-(se<le?tt:ot)-A[$]/2<0,ve=ge?se<le?se-le:se-nt:0;return{[x]:L[x]+ve,data:{[x]:he,centerOffset:se-he-ve,...ge&&{alignmentOffset:ve}},reset:ge}}}),_n=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(r){var l,i;const{placement:c,middlewareData:d,rects:h,initialPlacement:w,platform:m,elements:b}=r,{mainAxis:_=!0,crossAxis:C=!0,fallbackPlacements:L,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:$="none",flipAlignment:A=!0,...I}=Ue(n,r);if((l=d.arrow)!=null&&l.alignmentOffset)return{};const D=Pe(c),V=Pe(w)===w,U=await(m.isRTL==null?void 0:m.isRTL(b.floating)),J=L||(V||!A?[ct(w)]:bn(w));!L&&$!=="none"&&J.push(...wn(w,A,$,U));const j=[w,...J],Y=await Pt(r,I),re=[];let pe=((i=d.flip)==null?void 0:i.overflows)||[];if(_&&re.push(Y[D]),C){const le=mn(c,h,U);re.push(Y[le[0]],Y[le[1]])}if(pe=[...pe,{placement:c,overflows:re}],!re.every(le=>le<=0)){var xe,tt;const le=(((xe=d.flip)==null?void 0:xe.index)||0)+1,nt=j[le];if(nt)return{data:{index:le,overflows:pe},reset:{placement:nt}};let se=(tt=pe.filter(he=>he.overflows[0]<=0).sort((he,ge)=>he.overflows[1]-ge.overflows[1])[0])==null?void 0:tt.placement;if(!se)switch(x){case"bestFit":{var ot;const he=(ot=pe.map(ge=>[ge.placement,ge.overflows.filter(ve=>ve>0).reduce((ve,Jr)=>ve+Jr,0)]).sort((ge,ve)=>ge[1]-ve[1])[0])==null?void 0:ot[0];he&&(se=he);break}case"initialPlacement":se=w;break}if(c!==se)return{reset:{placement:se}}}return{}}}};async function Cn(n,r){const{placement:l,platform:i,elements:c}=n,d=await(i.isRTL==null?void 0:i.isRTL(c.floating)),h=Pe(l),w=Fe(l),m=Xe(l)==="y",b=["left","top"].includes(h)?-1:1,_=d&&m?-1:1,C=Ue(r,n);let{mainAxis:L,crossAxis:x,alignmentAxis:$}=typeof C=="number"?{mainAxis:C,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...C};return w&&typeof $=="number"&&(x=w==="end"?$*-1:$),m?{x:x*_,y:L*b}:{x:L*b,y:x*_}}const Pn=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(r){var l,i;const{x:c,y:d,placement:h,middlewareData:w}=r,m=await Cn(r,n);return h===((l=w.offset)==null?void 0:l.placement)&&(i=w.arrow)!=null&&i.alignmentOffset?{}:{x:c+m.x,y:d+m.y,data:{...m,placement:h}}}}},En=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(r){const{x:l,y:i,placement:c}=r,{mainAxis:d=!0,crossAxis:h=!1,limiter:w={fn:I=>{let{x:D,y:V}=I;return{x:D,y:V}}},...m}=Ue(n,r),b={x:l,y:i},_=await Pt(r,m),C=Xe(Pe(c)),L=so(C);let x=b[L],$=b[C];if(d){const I=L==="y"?"top":"left",D=L==="y"?"bottom":"right",V=x+_[I],U=x-_[D];x=kt(V,x,U)}if(h){const I=C==="y"?"top":"left",D=C==="y"?"bottom":"right",V=$+_[I],U=$-_[D];$=kt(V,$,U)}const A=w.fn({...r,[L]:x,[C]:$});return{...A,data:{x:A.x-l,y:A.y-i}}}}},xn=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(r){const{placement:l,rects:i,platform:c,elements:d}=r,{apply:h=()=>{},...w}=Ue(n,r),m=await Pt(r,w),b=Pe(l),_=Fe(l),C=Xe(l)==="y",{width:L,height:x}=i.floating;let $,A;b==="top"||b==="bottom"?($=b,A=_===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(A=b,$=_==="end"?"top":"bottom");const I=x-m[$],D=L-m[A],V=!r.middlewareData.shift;let U=I,J=D;if(C){const Y=L-m.left-m.right;J=_||V?_e(D,Y):Y}else{const Y=x-m.top-m.bottom;U=_||V?_e(I,Y):Y}if(V&&!_){const Y=oe(m.left,0),re=oe(m.right,0),pe=oe(m.top,0),xe=oe(m.bottom,0);C?J=L-2*(Y!==0||re!==0?Y+re:oe(m.left,m.right)):U=x-2*(pe!==0||xe!==0?pe+xe:oe(m.top,m.bottom))}await h({...r,availableWidth:J,availableHeight:U});const j=await c.getDimensions(d.floating);return L!==j.width||x!==j.height?{reset:{rects:!0}}:{}}}};function Ee(n){return lo(n)?(n.nodeName||"").toLowerCase():"#document"}function ne(n){var r;return(n==null||(r=n.ownerDocument)==null?void 0:r.defaultView)||t}function be(n){var r;return(r=(lo(n)?n.ownerDocument:n.document)||t.document)==null?void 0:r.documentElement}function lo(n){return n instanceof Node||n instanceof ne(n).Node}function ye(n){return n instanceof Element||n instanceof ne(n).Element}function de(n){return n instanceof HTMLElement||n instanceof ne(n).HTMLElement}function co(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ne(n).ShadowRoot}function Ye(n){const{overflow:r,overflowX:l,overflowY:i,display:c}=ie(n);return/auto|scroll|overlay|hidden|clip/.test(r+i+l)&&!["inline","contents"].includes(c)}function Tn(n){return["table","td","th"].includes(Ee(n))}function Et(n){const r=xt(),l=ie(n);return l.transform!=="none"||l.perspective!=="none"||(l.containerType?l.containerType!=="normal":!1)||!r&&(l.backdropFilter?l.backdropFilter!=="none":!1)||!r&&(l.filter?l.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(l.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(l.contain||"").includes(i))}function An(n){let r=Be(n);for(;de(r)&&!dt(r);){if(Et(r))return r;r=Be(r)}return null}function xt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function dt(n){return["html","body","#document"].includes(Ee(n))}function ie(n){return ne(n).getComputedStyle(n)}function ft(n){return ye(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Be(n){if(Ee(n)==="html")return n;const r=n.assignedSlot||n.parentNode||co(n)&&n.host||be(n);return co(r)?r.host:r}function uo(n){const r=Be(n);return dt(r)?n.ownerDocument?n.ownerDocument.body:n.body:de(r)&&Ye(r)?r:uo(r)}function Ze(n,r,l){var i;r===void 0&&(r=[]),l===void 0&&(l=!0);const c=uo(n),d=c===((i=n.ownerDocument)==null?void 0:i.body),h=ne(c);return d?r.concat(h,h.visualViewport||[],Ye(c)?c:[],h.frameElement&&l?Ze(h.frameElement):[]):r.concat(c,Ze(c,[],l))}function fo(n){const r=ie(n);let l=parseFloat(r.width)||0,i=parseFloat(r.height)||0;const c=de(n),d=c?n.offsetWidth:l,h=c?n.offsetHeight:i,w=at(l)!==d||at(i)!==h;return w&&(l=d,i=h),{width:l,height:i,$:w}}function Tt(n){return ye(n)?n:n.contextElement}function ze(n){const r=Tt(n);if(!de(r))return Ce(1);const l=r.getBoundingClientRect(),{width:i,height:c,$:d}=fo(r);let h=(d?at(l.width):l.width)/i,w=(d?at(l.height):l.height)/c;return(!h||!Number.isFinite(h))&&(h=1),(!w||!Number.isFinite(w))&&(w=1),{x:h,y:w}}const Mn=Ce(0);function po(n){const r=ne(n);return!xt()||!r.visualViewport?Mn:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function Ln(n,r,l){return r===void 0&&(r=!1),!l||r&&l!==ne(n)?!1:r}function Re(n,r,l,i){r===void 0&&(r=!1),l===void 0&&(l=!1);const c=n.getBoundingClientRect(),d=Tt(n);let h=Ce(1);r&&(i?ye(i)&&(h=ze(i)):h=ze(n));const w=Ln(d,l,i)?po(d):Ce(0);let m=(c.left+w.x)/h.x,b=(c.top+w.y)/h.y,_=c.width/h.x,C=c.height/h.y;if(d){const L=ne(d),x=i&&ye(i)?ne(i):i;let $=L.frameElement;for(;$&&i&&x!==L;){const A=ze($),I=$.getBoundingClientRect(),D=ie($),V=I.left+($.clientLeft+parseFloat(D.paddingLeft))*A.x,U=I.top+($.clientTop+parseFloat(D.paddingTop))*A.y;m*=A.x,b*=A.y,_*=A.x,C*=A.y,m+=V,b+=U,$=ne($).frameElement}}return ut({width:_,height:C,x:m,y:b})}function $n(n){let{rect:r,offsetParent:l,strategy:i}=n;const c=de(l),d=be(l);if(l===d)return r;let h={scrollLeft:0,scrollTop:0},w=Ce(1);const m=Ce(0);if((c||!c&&i!=="fixed")&&((Ee(l)!=="body"||Ye(d))&&(h=ft(l)),de(l))){const b=Re(l);w=ze(l),m.x=b.x+l.clientLeft,m.y=b.y+l.clientTop}return{width:r.width*w.x,height:r.height*w.y,x:r.x*w.x-h.scrollLeft*w.x+m.x,y:r.y*w.y-h.scrollTop*w.y+m.y}}function Rn(n){return Array.from(n.getClientRects())}function ho(n){return Re(be(n)).left+ft(n).scrollLeft}function Dn(n){const r=be(n),l=ft(n),i=n.ownerDocument.body,c=oe(r.scrollWidth,r.clientWidth,i.scrollWidth,i.clientWidth),d=oe(r.scrollHeight,r.clientHeight,i.scrollHeight,i.clientHeight);let h=-l.scrollLeft+ho(n);const w=-l.scrollTop;return ie(i).direction==="rtl"&&(h+=oe(r.clientWidth,i.clientWidth)-c),{width:c,height:d,x:h,y:w}}function In(n,r){const l=ne(n),i=be(n),c=l.visualViewport;let d=i.clientWidth,h=i.clientHeight,w=0,m=0;if(c){d=c.width,h=c.height;const b=xt();(!b||b&&r==="fixed")&&(w=c.offsetLeft,m=c.offsetTop)}return{width:d,height:h,x:w,y:m}}function On(n,r){const l=Re(n,!0,r==="fixed"),i=l.top+n.clientTop,c=l.left+n.clientLeft,d=de(n)?ze(n):Ce(1),h=n.clientWidth*d.x,w=n.clientHeight*d.y,m=c*d.x,b=i*d.y;return{width:h,height:w,x:m,y:b}}function go(n,r,l){let i;if(r==="viewport")i=In(n,l);else if(r==="document")i=Dn(be(n));else if(ye(r))i=On(r,l);else{const c=po(n);i={...r,x:r.x-c.x,y:r.y-c.y}}return ut(i)}function mo(n,r){const l=Be(n);return l===r||!ye(l)||dt(l)?!1:ie(l).position==="fixed"||mo(l,r)}function Hn(n,r){const l=r.get(n);if(l)return l;let i=Ze(n,[],!1).filter(w=>ye(w)&&Ee(w)!=="body"),c=null;const d=ie(n).position==="fixed";let h=d?Be(n):n;for(;ye(h)&&!dt(h);){const w=ie(h),m=Et(h);!m&&w.position==="fixed"&&(c=null),(d?!m&&!c:!m&&w.position==="static"&&!!c&&["absolute","fixed"].includes(c.position)||Ye(h)&&!m&&mo(n,h))?i=i.filter(_=>_!==h):c=w,h=Be(h)}return r.set(n,i),i}function Un(n){let{element:r,boundary:l,rootBoundary:i,strategy:c}=n;const h=[...l==="clippingAncestors"?Hn(r,this._c):[].concat(l),i],w=h[0],m=h.reduce((b,_)=>{const C=go(r,_,c);return b.top=oe(C.top,b.top),b.right=_e(C.right,b.right),b.bottom=_e(C.bottom,b.bottom),b.left=oe(C.left,b.left),b},go(r,w,c));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Fn(n){const{width:r,height:l}=fo(n);return{width:r,height:l}}function Bn(n,r,l){const i=de(r),c=be(r),d=l==="fixed",h=Re(n,!0,d,r);let w={scrollLeft:0,scrollTop:0};const m=Ce(0);if(i||!i&&!d)if((Ee(r)!=="body"||Ye(c))&&(w=ft(r)),i){const b=Re(r,!0,d,r);m.x=b.x+r.clientLeft,m.y=b.y+r.clientTop}else c&&(m.x=ho(c));return{x:h.left+w.scrollLeft-m.x,y:h.top+w.scrollTop-m.y,width:h.width,height:h.height}}function bo(n,r){return!de(n)||ie(n).position==="fixed"?null:r?r(n):n.offsetParent}function yo(n,r){const l=ne(n);if(!de(n))return l;let i=bo(n,r);for(;i&&Tn(i)&&ie(i).position==="static";)i=bo(i,r);return i&&(Ee(i)==="html"||Ee(i)==="body"&&ie(i).position==="static"&&!Et(i))?l:i||An(n)||l}const zn=async function(n){let{reference:r,floating:l,strategy:i}=n;const c=this.getOffsetParent||yo,d=this.getDimensions;return{reference:Bn(r,await c(l),i),floating:{x:0,y:0,...await d(l)}}};function Gn(n){return ie(n).direction==="rtl"}const pt={convertOffsetParentRelativeRectToViewportRelativeRect:$n,getDocumentElement:be,getClippingRect:Un,getOffsetParent:yo,getElementRects:zn,getClientRects:Rn,getDimensions:Fn,getScale:ze,isElement:ye,isRTL:Gn};function Nn(n,r){let l=null,i;const c=be(n);function d(){clearTimeout(i),l&&l.disconnect(),l=null}function h(w,m){w===void 0&&(w=!1),m===void 0&&(m=1),d();const{left:b,top:_,width:C,height:L}=n.getBoundingClientRect();if(w||r(),!C||!L)return;const x=lt(_),$=lt(c.clientWidth-(b+C)),A=lt(c.clientHeight-(_+L)),I=lt(b),V={rootMargin:-x+"px "+-$+"px "+-A+"px "+-I+"px",threshold:oe(0,_e(1,m))||1};let U=!0;function J(j){const Y=j[0].intersectionRatio;if(Y!==m){if(!U)return h();Y?h(!1,Y):i=setTimeout(()=>{h(!1,1e-7)},100)}U=!1}try{l=new IntersectionObserver(J,{...V,root:c.ownerDocument})}catch{l=new IntersectionObserver(J,V)}l.observe(n)}return h(!0),d}function Vn(n,r,l,i){i===void 0&&(i={});const{ancestorScroll:c=!0,ancestorResize:d=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:w=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,b=Tt(n),_=c||d?[...b?Ze(b):[],...Ze(r)]:[];_.forEach(D=>{c&&D.addEventListener("scroll",l,{passive:!0}),d&&D.addEventListener("resize",l)});const C=b&&w?Nn(b,l):null;let L=-1,x=null;h&&(x=new ResizeObserver(D=>{let[V]=D;V&&V.target===b&&x&&(x.unobserve(r),cancelAnimationFrame(L),L=requestAnimationFrame(()=>{x&&x.observe(r)})),l()}),b&&!m&&x.observe(b),x.observe(r));let $,A=m?Re(n):null;m&&I();function I(){const D=Re(n);A&&(D.x!==A.x||D.y!==A.y||D.width!==A.width||D.height!==A.height)&&l(),A=D,$=requestAnimationFrame(I)}return l(),()=>{_.forEach(D=>{c&&D.removeEventListener("scroll",l),d&&D.removeEventListener("resize",l)}),C&&C(),x&&x.disconnect(),x=null,m&&cancelAnimationFrame($)}}const jn=En,qn=_n,wo=xn,Kn=Sn,Wn=(n,r,l)=>{const i=new Map,c={platform:pt,...l},d={...c.platform,_c:i};return kn(n,r,{...c,platform:d})};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vo={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},ko=n=>(...r)=>({_$litDirective$:n,values:r});class So{constructor(r){}get _$AU(){return this._$AM._$AU}_$AT(r,l,i){this._$Ct=r,this._$AM=l,this._$Ci=i}_$AS(r,l){return this.update(r,l)}update(r,l){return this.render(...l)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const At=ko(class extends So{constructor(n){if(super(n),n.type!==vo.ATTRIBUTE||n.name!=="class"||n.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(n){return" "+Object.keys(n).filter(r=>n[r]).join(" ")+" "}update(n,[r]){if(this.it===void 0){this.it=new Set,n.strings!==void 0&&(this.st=new Set(n.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in r)r[i]&&!this.st?.has(i)&&this.it.add(i);return this.render(r)}const l=n.element.classList;for(const i of this.it)i in r||(l.remove(i),this.it.delete(i));for(const i in r){const c=!!r[i];c===this.it.has(i)||this.st?.has(i)||(c?(l.add(i),this.it.add(i)):(l.remove(i),this.it.delete(i)))}return Me}});function Jn(n){return Xn(n)}function Mt(n){return n.assignedSlot?n.assignedSlot:n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}function Xn(n){for(let r=n;r;r=Mt(r))if(r instanceof Element&&getComputedStyle(r).display==="none")return null;for(let r=Mt(n);r;r=Mt(r)){if(!(r instanceof Element))continue;const l=getComputedStyle(r);if(l.display!=="contents"&&(l.position!=="static"||l.filter!=="none"||r.tagName==="BODY"))return r}return null}function Yn(n){return n!==null&&typeof n=="object"&&"getBoundingClientRect"in n}var K=class extends ce{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(n){super.updated(n),n.has("active")&&(this.active?this.start():this.stop()),n.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const n=this.getRootNode();this.anchorEl=n.getElementById(this.anchor)}else this.anchor instanceof Element||Yn(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=Vn(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(n=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>n())):n()})}reposition(){if(!this.active||!this.anchorEl)return;const n=[Pn({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?n.push(wo({apply:({rects:l})=>{const i=this.sync==="width"||this.sync==="both",c=this.sync==="height"||this.sync==="both";this.popup.style.width=i?`${l.reference.width}px`:"",this.popup.style.height=c?`${l.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&n.push(qn({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&n.push(jn({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?n.push(wo({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:l,availableHeight:i})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${i}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${l}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&n.push(Kn({element:this.arrowEl,padding:this.arrowPadding}));const r=this.strategy==="absolute"?l=>pt.getOffsetParent(l,Jn):pt.getOffsetParent;Wn(this.anchorEl,this.popup,{placement:this.placement,middleware:n,strategy:this.strategy,platform:no(it({},pt),{getOffsetParent:r})}).then(({x:l,y:i,middlewareData:c,placement:d})=>{const h=getComputedStyle(this).direction==="rtl",w={top:"bottom",right:"left",bottom:"top",left:"right"}[d.split("-")[0]];if(this.setAttribute("data-current-placement",d),Object.assign(this.popup.style,{left:`${l}px`,top:`${i}px`}),this.arrow){const m=c.arrow.x,b=c.arrow.y;let _="",C="",L="",x="";if(this.arrowPlacement==="start"){const $=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";_=typeof b=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",C=h?$:"",x=h?"":$}else if(this.arrowPlacement==="end"){const $=typeof m=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";C=h?"":$,x=h?$:"",L=typeof b=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(x=typeof m=="number"?"calc(50% - var(--arrow-size-diagonal))":"",_=typeof b=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(x=typeof m=="number"?`${m}px`:"",_=typeof b=="number"?`${b}px`:"");Object.assign(this.arrowEl.style,{top:_,right:C,bottom:L,left:x,[w]:"calc(var(--arrow-size-diagonal) * -1)"})}}),this.emit("sl-reposition")}render(){return me`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="popup"
        class=${At({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?me`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};K.styles=rn,R([Se(".popup")],K.prototype,"popup",2),R([Se(".popup__arrow")],K.prototype,"arrowEl",2),R([F()],K.prototype,"anchor",2),R([F({type:Boolean,reflect:!0})],K.prototype,"active",2),R([F({reflect:!0})],K.prototype,"placement",2),R([F({reflect:!0})],K.prototype,"strategy",2),R([F({type:Number})],K.prototype,"distance",2),R([F({type:Number})],K.prototype,"skidding",2),R([F({type:Boolean})],K.prototype,"arrow",2),R([F({attribute:"arrow-placement"})],K.prototype,"arrowPlacement",2),R([F({attribute:"arrow-padding",type:Number})],K.prototype,"arrowPadding",2),R([F({type:Boolean})],K.prototype,"flip",2),R([F({attribute:"flip-fallback-placements",converter:{fromAttribute:n=>n.split(" ").map(r=>r.trim()).filter(r=>r!==""),toAttribute:n=>n.join(" ")}})],K.prototype,"flipFallbackPlacements",2),R([F({attribute:"flip-fallback-strategy"})],K.prototype,"flipFallbackStrategy",2),R([F({type:Object})],K.prototype,"flipBoundary",2),R([F({attribute:"flip-padding",type:Number})],K.prototype,"flipPadding",2),R([F({type:Boolean})],K.prototype,"shift",2),R([F({type:Object})],K.prototype,"shiftBoundary",2),R([F({attribute:"shift-padding",type:Number})],K.prototype,"shiftPadding",2),R([F({attribute:"auto-size"})],K.prototype,"autoSize",2),R([F()],K.prototype,"sync",2),R([F({type:Object})],K.prototype,"autoSizeBoundary",2),R([F({attribute:"auto-size-padding",type:Number})],K.prototype,"autoSizePadding",2),K.define("sl-popup");var Zn=y`
  ${$e}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`;function Qn(n){return!!(n.offsetParent||n.offsetWidth||n.offsetHeight||n.getClientRects().length)}function er(n){const r=n.tagName.toLowerCase();return n.getAttribute("tabindex")==="-1"||n.hasAttribute("disabled")||r==="input"&&n.getAttribute("type")==="radio"&&!n.hasAttribute("checked")||!Qn(n)||t.getComputedStyle(n).visibility==="hidden"?!1:(r==="audio"||r==="video")&&n.hasAttribute("controls")||n.hasAttribute("tabindex")||n.hasAttribute("contenteditable")&&n.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(r)}function tr(n){var r,l;const i=or(n),c=(r=i[0])!=null?r:null,d=(l=i[i.length-1])!=null?l:null;return{start:c,end:d}}function or(n){const r=[];function l(i){if(i instanceof Element){if(i.hasAttribute("inert"))return;!r.includes(i)&&er(i)&&r.push(i);const c=d=>{var h;return((h=d.getRootNode({composed:!0}))==null?void 0:h.host)!==n};i instanceof HTMLSlotElement&&c(i)&&i.assignedElements({flatten:!0}).forEach(d=>{l(d)}),i.shadowRoot!==null&&i.shadowRoot.mode==="open"&&l(i.shadowRoot)}[...i.children].forEach(c=>l(c))}return l(n),r.sort((i,c)=>{const d=Number(i.getAttribute("tabindex"))||0;return(Number(c.getAttribute("tabindex"))||0)-d})}var _o=new Map,nr=new WeakMap;function rr(n){return n??{keyframes:[],options:{duration:0}}}function Co(n,r){return r.toLowerCase()==="rtl"?{keyframes:n.rtlKeyframes||n.keyframes,options:n.options}:n}function Po(n,r){_o.set(n,rr(r))}function Eo(n,r,l){const i=nr.get(n);if(i?.[r])return Co(i[r],l.dir);const c=_o.get(r);return c?Co(c,l.dir):{keyframes:[],options:{duration:0}}}function xo(n,r){return new Promise(l=>{function i(c){c.target===n&&(n.removeEventListener(r,i),l())}n.addEventListener(r,i)})}function To(n,r,l){return new Promise(i=>{if(l?.duration===1/0)throw new Error("Promise-based animations must be finite.");const c=n.animate(r,no(it({},l),{duration:sr()?0:l.duration}));c.addEventListener("cancel",i,{once:!0}),c.addEventListener("finish",i,{once:!0})})}function sr(){return t.matchMedia("(prefers-reduced-motion: reduce)").matches}function Ao(n){return Promise.all(n.getAnimations().map(r=>new Promise(l=>{const i=requestAnimationFrame(l);r.addEventListener("cancel",()=>i,{once:!0}),r.addEventListener("finish",()=>i,{once:!0}),r.cancel()})))}const Lt=new Set,ir=new MutationObserver(Ro),Ge=new Map;let Mo=document.documentElement.dir||"ltr",Lo=document.documentElement.lang||navigator.language,De;ir.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function $o(...n){n.map(r=>{const l=r.$code.toLowerCase();Ge.has(l)?Ge.set(l,Object.assign(Object.assign({},Ge.get(l)),r)):Ge.set(l,r),De||(De=r)}),Ro()}function Ro(){Mo=document.documentElement.dir||"ltr",Lo=document.documentElement.lang||navigator.language,[...Lt.keys()].map(n=>{typeof n.requestUpdate=="function"&&n.requestUpdate()})}let ar=class{constructor(r){this.host=r,this.host.addController(this)}hostConnected(){Lt.add(this.host)}hostDisconnected(){Lt.delete(this.host)}dir(){return`${this.host.dir||Mo}`.toLowerCase()}lang(){return`${this.host.lang||Lo}`.toLowerCase()}getTranslationData(r){var l,i;const c=new Intl.Locale(r.replace(/_/g,"-")),d=c?.language.toLowerCase(),h=(i=(l=c?.region)===null||l===void 0?void 0:l.toLowerCase())!==null&&i!==void 0?i:"",w=Ge.get(`${d}-${h}`),m=Ge.get(d);return{locale:c,language:d,region:h,primary:w,secondary:m}}exists(r,l){var i;const{primary:c,secondary:d}=this.getTranslationData((i=l.lang)!==null&&i!==void 0?i:this.lang());return l=Object.assign({includeFallback:!1},l),!!(c&&c[r]||d&&d[r]||l.includeFallback&&De&&De[r])}term(r,...l){const{primary:i,secondary:c}=this.getTranslationData(this.lang());let d;if(i&&i[r])d=i[r];else if(c&&c[r])d=c[r];else if(De&&De[r])d=De[r];else return console.error(`No translation found for: ${String(r)}`),String(r);return typeof d=="function"?d(...l):d}date(r,l){return r=new Date(r),new Intl.DateTimeFormat(this.lang(),l).format(r)}number(r,l){return r=Number(r),isNaN(r)?"":new Intl.NumberFormat(this.lang(),l).format(r)}relativeTime(r,l,i){return new Intl.RelativeTimeFormat(this.lang(),i).format(r,l)}};var Do={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(n,r)=>`Go to slide ${n} of ${r}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:n=>n===0?"No options selected":n===1?"1 option selected":`${n} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:n=>`Slide ${n}`,toggleColorFormat:"Toggle color format"};$o(Do);var lr=Do,Io=class extends ar{};$o(lr);function Ie(n,r){const l=it({waitUntilFirstUpdate:!1},r);return(i,c)=>{const{update:d}=i,h=Array.isArray(n)?n:[n];i.update=function(w){h.forEach(m=>{const b=m;if(w.has(b)){const _=w.get(b),C=this[b];_!==C&&(!l.waitUntilFirstUpdate||this.hasUpdated)&&this[c](_,C)}}),d.call(this,w)}}}var ee=class extends ce{constructor(){super(...arguments),this.localize=new Io(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=n=>{this.open&&n.key==="Escape"&&(n.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=n=>{var r;if(n.key==="Escape"&&this.open){n.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(n.key==="Tab"){if(this.open&&((r=document.activeElement)==null?void 0:r.tagName.toLowerCase())==="sl-menu-item"){n.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var l,i,c;const d=((l=this.containingElement)==null?void 0:l.getRootNode())instanceof ShadowRoot?(c=(i=document.activeElement)==null?void 0:i.shadowRoot)==null?void 0:c.activeElement:document.activeElement;(!this.containingElement||d?.closest(this.containingElement.tagName.toLowerCase())!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=n=>{const r=n.composedPath();this.containingElement&&!r.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=n=>{const r=n.target;!this.stayOpenOnSelect&&r.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const n=this.trigger.assignedElements({flatten:!0})[0];typeof n?.focus=="function"&&n.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(n=>n.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(n){if([" ","Enter"].includes(n.key)){n.preventDefault(),this.handleTriggerClick();return}const r=this.getMenu();if(r){const l=r.getAllItems(),i=l[0],c=l[l.length-1];["ArrowDown","ArrowUp","Home","End"].includes(n.key)&&(n.preventDefault(),this.open||(this.show(),await this.updateComplete),l.length>0&&this.updateComplete.then(()=>{(n.key==="ArrowDown"||n.key==="Home")&&(r.setCurrentItem(i),i.focus()),(n.key==="ArrowUp"||n.key==="End")&&(r.setCurrentItem(c),c.focus())}))}}handleTriggerKeyUp(n){n.key===" "&&n.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const r=this.trigger.assignedElements({flatten:!0}).find(i=>tr(i).start);let l;if(r){switch(r.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":l=r.button;break;default:l=r}l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,xo(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,xo(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){this.panel.addEventListener("sl-select",this.handlePanelSelect),this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown)}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await Ao(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:n,options:r}=Eo(this,"dropdown.show",{dir:this.localize.dir()});await To(this.popup.popup,n,r),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await Ao(this);const{keyframes:n,options:r}=Eo(this,"dropdown.hide",{dir:this.localize.dir()});await To(this.popup.popup,n,r),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return me`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${At({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};ee.styles=Zn,ee.dependencies={"sl-popup":K},R([Se(".dropdown")],ee.prototype,"popup",2),R([Se(".dropdown__trigger")],ee.prototype,"trigger",2),R([Se(".dropdown__panel")],ee.prototype,"panel",2),R([F({type:Boolean,reflect:!0})],ee.prototype,"open",2),R([F({reflect:!0})],ee.prototype,"placement",2),R([F({type:Boolean,reflect:!0})],ee.prototype,"disabled",2),R([F({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],ee.prototype,"stayOpenOnSelect",2),R([F({attribute:!1})],ee.prototype,"containingElement",2),R([F({type:Number})],ee.prototype,"distance",2),R([F({type:Number})],ee.prototype,"skidding",2),R([F({type:Boolean})],ee.prototype,"hoist",2),R([Ie("open",{waitUntilFirstUpdate:!0})],ee.prototype,"handleOpenChange",1),Po("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}}),Po("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}}),ee.define("sl-dropdown");var cr=y`
  ${$e}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,$t=class extends ce{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(n){const r=["menuitem","menuitemcheckbox"],l=n.composedPath().find(c=>{var d;return r.includes(((d=c?.getAttribute)==null?void 0:d.call(c,"role"))||"")});if(!l)return;const i=l;i.type==="checkbox"&&(i.checked=!i.checked),this.emit("sl-select",{detail:{item:i}})}handleKeyDown(n){if(n.key==="Enter"||n.key===" "){const r=this.getCurrentItem();n.preventDefault(),n.stopPropagation(),r?.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(n.key)){const r=this.getAllItems(),l=this.getCurrentItem();let i=l?r.indexOf(l):0;r.length>0&&(n.preventDefault(),n.stopPropagation(),n.key==="ArrowDown"?i++:n.key==="ArrowUp"?i--:n.key==="Home"?i=0:n.key==="End"&&(i=r.length-1),i<0&&(i=r.length-1),i>r.length-1&&(i=0),this.setCurrentItem(r[i]),r[i].focus())}}handleMouseDown(n){const r=n.target;this.isMenuItem(r)&&this.setCurrentItem(r)}handleSlotChange(){const n=this.getAllItems();n.length>0&&this.setCurrentItem(n[0])}isMenuItem(n){var r;return n.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((r=n.getAttribute("role"))!=null?r:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(n=>!(n.inert||!this.isMenuItem(n)))}getCurrentItem(){return this.getAllItems().find(n=>n.getAttribute("tabindex")==="0")}setCurrentItem(n){this.getAllItems().forEach(l=>{l.setAttribute("tabindex",l===n?"0":"-1")})}render(){return me`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};$t.styles=cr,R([Se("slot")],$t.prototype,"defaultSlot",2),$t.define("sl-menu");var ur=y`
  ${$e}

  :host {
    --submenu-offset: -2px;

    /* Private */
    --safe-triangle-cursor-x: 0;
    --safe-triangle-cursor-y: 0;
    --safe-triangle-submenu-start-x: 0;
    --safe-triangle-submenu-start-y: 0;
    --safe-triangle-submenu-end-x: 0;
    --safe-triangle-submenu-end-y: 0;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x) var(--safe-triangle-cursor-y),
      var(--safe-triangle-submenu-start-x) var(--safe-triangle-submenu-start-y),
      var(--safe-triangle-submenu-end-x) var(--safe-triangle-submenu-end-y)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dr=(n,r)=>r===void 0?n?._$litType$!==void 0:n?._$litType$===r,fr=n=>n.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Qe=(n,r)=>{const l=n._$AN;if(l===void 0)return!1;for(const i of l)i._$AO?.(r,!1),Qe(i,r);return!0},ht=n=>{let r,l;do{if((r=n._$AM)===void 0)break;l=r._$AN,l.delete(n),n=r}while(l?.size===0)},Oo=n=>{for(let r;r=n._$AM;n=r){let l=r._$AN;if(l===void 0)r._$AN=l=new Set;else if(l.has(n))break;l.add(n),gr(r)}};function pr(n){this._$AN!==void 0?(ht(this),this._$AM=n,Oo(this)):this._$AM=n}function hr(n,r=!1,l=0){const i=this._$AH,c=this._$AN;if(c!==void 0&&c.size!==0)if(r)if(Array.isArray(i))for(let d=l;d<i.length;d++)Qe(i[d],!1),ht(i[d]);else i!=null&&(Qe(i,!1),ht(i));else Qe(this,n)}const gr=n=>{n.type==vo.CHILD&&(n._$AP??=hr,n._$AQ??=pr)};class mr extends So{constructor(){super(...arguments),this._$AN=void 0}_$AT(r,l,i){super._$AT(r,l,i),Oo(this),this.isConnected=r._$AU}_$AO(r,l=!0){r!==this.isConnected&&(this.isConnected=r,r?this.reconnected?.():this.disconnected?.()),l&&(Qe(this,r),ht(this))}setValue(r){if(fr(this._$Ct))this._$Ct._$AI(r,this);else{const l=[...this._$Ct._$AH];l[this._$Ci]=r,this._$Ct._$AI(l,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const br=()=>new yr;class yr{}const Rt=new WeakMap,wr=ko(class extends mr{render(n){return X}update(n,[r]){const l=r!==this.G;return l&&this.G!==void 0&&this.ot(void 0),(l||this.rt!==this.lt)&&(this.G=r,this.ct=n.options?.host,this.ot(this.lt=n.element)),X}ot(n){if(typeof this.G=="function"){const r=this.ct??globalThis;let l=Rt.get(r);l===void 0&&(l=new WeakMap,Rt.set(r,l)),l.get(this.G)!==void 0&&this.G.call(this.ct,void 0),l.set(this.G,n),n!==void 0&&this.G.call(this.ct,n)}else this.G.value=n}get rt(){return typeof this.G=="function"?Rt.get(this.ct??globalThis)?.get(this.G):this.G?.value}disconnected(){this.rt===this.lt&&this.ot(void 0)}reconnected(){this.ot(this.lt)}});var vr=class{constructor(n,r,l){this.popupRef=br(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=i=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${i.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${i.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=i=>{switch(i.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":i.target!==this.host&&(i.preventDefault(),i.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(i);break}},this.handleClick=i=>{var c;i.target===this.host?(i.preventDefault(),i.stopPropagation()):i.target instanceof Element&&(i.target.tagName==="sl-menu-item"||(c=i.target.role)!=null&&c.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=i=>{i.relatedTarget&&i.relatedTarget instanceof Element&&this.host.contains(i.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=i=>{i.stopPropagation()},this.handlePopupReposition=()=>{const i=this.host.renderRoot.querySelector("slot[name='submenu']"),c=i?.assignedElements({flatten:!0}).filter(_=>_.localName==="sl-menu")[0],d=this.localize.dir()==="rtl";if(!c)return;const{left:h,top:w,width:m,height:b}=c.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${d?h+m:h}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${w}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${d?h+m:h}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${w+b}px`)},(this.host=n).addController(this),this.hasSlotController=r,this.localize=l}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(n){const r=this.host.renderRoot.querySelector("slot[name='submenu']");if(!r){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let l=null;for(const i of r.assignedElements())if(l=i.querySelectorAll("sl-menu-item, [role^='menuitem']"),l.length!==0)break;if(!(!l||l.length===0)){l[0].setAttribute("tabindex","0");for(let i=1;i!==l.length;++i)l[i].setAttribute("tabindex","-1");this.popupRef.value&&(n.preventDefault(),n.stopPropagation(),this.popupRef.value.active?l[0]instanceof HTMLElement&&l[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{l[0]instanceof HTMLElement&&l[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(n){this.popupRef.value&&this.popupRef.value.active!==n&&(this.popupRef.value.active=n,this.host.requestUpdate())}enableSubmenu(n=!0){n?this.enableSubmenuTimer=t.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var n;if(!((n=this.host.parentElement)!=null&&n.computedStyleMap))return;const r=this.host.parentElement.computedStyleMap(),i=["padding-top","border-top-width","margin-top"].reduce((c,d)=>{var h;const w=(h=r.get(d))!=null?h:new CSSUnitValue(0,"px"),b=(w instanceof CSSUnitValue?w:new CSSUnitValue(0,"px")).to("px");return c-b.value},0);this.skidding=i}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const n=this.localize.dir()==="ltr";return this.isConnected?me`
      <sl-popup
        ${wr(this.popupRef)}
        placement=${n?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:me` <slot name="submenu" hidden></slot> `}},kr=class{constructor(n,...r){this.slotNames=[],this.handleSlotChange=l=>{const i=l.target;(this.slotNames.includes("[default]")&&!i.name||i.name&&this.slotNames.includes(i.name))&&this.host.requestUpdate()},(this.host=n).addController(this),this.slotNames=r}hasDefaultSlot(){return[...this.host.childNodes].some(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent.trim()!=="")return!0;if(n.nodeType===n.ELEMENT_NODE){const r=n;if(r.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!r.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(n){return this.host.querySelector(`:scope > [slot="${n}"]`)!==null}test(n){return n==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(n)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function Sr(n){if(!n)return"";const r=n.assignedNodes({flatten:!0});let l="";return[...r].forEach(i=>{i.nodeType===Node.TEXT_NODE&&(l+=i.textContent)}),l}var _r=y`
  ${$e}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,Dt="";function Ho(n){Dt=n}function Cr(n=""){if(!Dt){const r=[...document.getElementsByTagName("script")],l=r.find(i=>i.hasAttribute("data-shoelace"));if(l)Ho(l.getAttribute("data-shoelace"));else{const i=r.find(d=>/shoelace(\.min)?\.js($|\?)/.test(d.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(d.src));let c="";i&&(c=i.getAttribute("src")),Ho(c.split("/").slice(0,-1).join("/"))}}return Dt.replace(/\/$/,"")+(n?`/${n.replace(/^\//,"")}`:"")}var Pr={name:"default",resolver:n=>Cr(`assets/icons/${n}.svg`)},Er=Pr,Uo={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},xr={name:"system",resolver:n=>n in Uo?`data:image/svg+xml,${encodeURIComponent(Uo[n])}`:""},Tr=xr,Ar=[Er,Tr],It=[];function Mr(n){It.push(n)}function Lr(n){It=It.filter(r=>r!==n)}function Fo(n){return Ar.find(r=>r.name===n)}var et=Symbol(),gt=Symbol(),Ot,Ht=new Map,fe=class extends ce{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(n,r){var l;let i;if(r?.spriteSheet)return me`<svg part="svg">
        <use part="use" href="${n}"></use>
      </svg>`;try{if(i=await fetch(n,{mode:"cors"}),!i.ok)return i.status===410?et:gt}catch{return gt}try{const c=document.createElement("div");c.innerHTML=await i.text();const d=c.firstElementChild;if(((l=d?.tagName)==null?void 0:l.toLowerCase())!=="svg")return et;Ot||(Ot=new DOMParser);const w=Ot.parseFromString(d.outerHTML,"text/html").body.querySelector("svg");return w?(w.part.add("svg"),document.adoptNode(w)):et}catch{return et}}connectedCallback(){super.connectedCallback(),Mr(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),Lr(this)}getIconSource(){const n=Fo(this.library);return this.name&&n?{url:n.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var n;const{url:r,fromLibrary:l}=this.getIconSource(),i=l?Fo(this.library):void 0;if(!r){this.svg=null;return}let c=Ht.get(r);if(c||(c=this.resolveIcon(r,i),Ht.set(r,c)),!this.initialRender)return;const d=await c;if(d===gt&&Ht.delete(r),r===this.getIconSource().url){if(dr(d)){this.svg=d;return}switch(d){case gt:case et:this.svg=null,this.emit("sl-error");break;default:this.svg=d.cloneNode(!0),(n=i?.mutator)==null||n.call(i,this.svg),this.emit("sl-load")}}}render(){return this.svg}};fe.styles=_r,R([pn()],fe.prototype,"svg",2),R([F({reflect:!0})],fe.prototype,"name",2),R([F()],fe.prototype,"src",2),R([F()],fe.prototype,"label",2),R([F({reflect:!0})],fe.prototype,"library",2),R([Ie("label")],fe.prototype,"handleLabelChange",1),R([Ie(["name","src","library"])],fe.prototype,"setIcon",1);var ae=class extends ce{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.disabled=!1,this.localize=new Io(this),this.hasSlotController=new kr(this,"submenu"),this.submenuController=new vr(this,this.hasSlotController,this.localize),this.handleHostClick=n=>{this.disabled&&(n.preventDefault(),n.stopImmediatePropagation())},this.handleMouseOver=n=>{this.focus(),n.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const n=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=n;return}n!==this.cachedTextLabel&&(this.cachedTextLabel=n,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return Sr(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const n=this.localize.dir()==="rtl",r=this.submenuController.isExpanded();return me`
      <div
        id="anchor"
        part="base"
        class=${At({"menu-item":!0,"menu-item--rtl":n,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":r})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!r}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${n?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
      </div>
    `}};ae.styles=ur,ae.dependencies={"sl-icon":fe,"sl-popup":K},R([Se("slot:not([name])")],ae.prototype,"defaultSlot",2),R([Se(".menu-item")],ae.prototype,"menuItem",2),R([F()],ae.prototype,"type",2),R([F({type:Boolean,reflect:!0})],ae.prototype,"checked",2),R([F()],ae.prototype,"value",2),R([F({type:Boolean,reflect:!0})],ae.prototype,"disabled",2),R([Ie("checked")],ae.prototype,"handleCheckedChange",1),R([Ie("disabled")],ae.prototype,"handleDisabledChange",1),R([Ie("type")],ae.prototype,"handleTypeChange",1),ae.define("sl-menu-item");var $r=y`
  ${$e}

  :host {
    display: block;
  }

  .menu-label {
    display: inline-block;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-500);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-large);
    user-select: none;
    -webkit-user-select: none;
  }
`,Bo=class extends ce{render(){return me` <slot part="base" class="menu-label"></slot> `}};Bo.styles=$r,Bo.define("sl-menu-label"),fe.define("sl-icon");var Rr=y`
  ${$e}

  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,mt=class extends ce{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};mt.styles=Rr,R([F({type:Boolean,reflect:!0})],mt.prototype,"vertical",2),R([Ie("vertical")],mt.prototype,"handleVerticalChange",1),mt.define("sl-divider");var Dr="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-fast-forward-btn' viewBox='0 0 16 16'%3e %3cpath d='M8.79 5.093A.5.5 0 0 0 8 5.5v1.886L4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L8 8.614V10.5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5Z'/%3e %3cpath d='M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4Z'/%3e%3c/svg%3e",Ir="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-image' viewBox='0 0 16 16'%3e %3cpath d='M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z'/%3e %3cpath d='M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z'/%3e%3c/svg%3e",Or="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-list' viewBox='0 0 16 16'%3e %3cpath fill-rule='evenodd' d='M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z'/%3e%3c/svg%3e",Hr="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-download' viewBox='0 0 16 16'%3e %3cpath d='M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z'/%3e %3cpath d='M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z'/%3e%3c/svg%3e";const Ur=[{title:"\u500D\u901F\u5237\u8BFE\u4E3A\u5565\u5B66\u4E60\u8FDB\u5EA6\u6CA1\u53D8\u5316",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E5%80%8D%E9%80%9F%E5%88%B7%E8%AF%BE%E4%B8%BA%E5%95%A5%E5%AD%A6%E4%B9%A0%E8%BF%9B%E5%BA%A6%E6%B2%A1%E5%8F%98%E5%8C%96"},{title:"\u767E\u5EA6\u7F51\u76D8\u89C6\u9891\u65E0\u6CD5\u500D\u901F\u64AD\u653E",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E8%A7%86%E9%A2%91%E6%97%A0%E6%B3%95%E5%80%8D%E9%80%9F%E6%92%AD%E6%94%BE"},{title:"\u500D\u901F\u64AD\u653E\u5361\u987F\u3001\u65E0\u8FDB\u5EA6\u3001\u97F3\u753B\u4E0D\u540C\u6B65",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E5%80%8D%E9%80%9F%E6%92%AD%E6%94%BE%E5%8D%A1%E9%A1%BF%E3%80%81%E6%97%A0%E8%BF%9B%E5%BA%A6%E3%80%81%E9%9F%B3%E7%94%BB%E4%B8%8D%E5%90%8C%E6%AD%A5"},{title:"Playback is stuttering, has no progress, or is out of sync",action:"openDocsLink",lang:["en","ru"],args:"/home/q&a#playback-is-stuttering-has-no-progress-or-is-out-of-sync"},{title:"\u5982\u4F55\u652F\u6301\u672C\u5730\u89C6\u9891\u6587\u4EF6\u7684\u500D\u901F\u64AD\u653E",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E5%A6%82%E4%BD%95%E6%94%AF%E6%8C%81%E6%9C%AC%E5%9C%B0%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6%E7%9A%84%E5%80%8D%E9%80%9F%E6%92%AD%E6%94%BE"},{title:"How can I support speed playback for local video files?",action:"openDocsLink",lang:["en","ru"],args:"/home/q&a#how-can-i-support-speed-playback-for-local-video-files"},{title:"\u5F00\u542F\u63D2\u4EF6\u540E\u7F51\u7AD9\u81EA\u8EAB\u7684\u8C03\u901F\u5931\u6548\u4E86",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E5%BC%80%E5%90%AF%E6%8F%92%E4%BB%B6%E5%90%8E%E7%BD%91%E7%AB%99%E8%87%AA%E8%BA%AB%E7%9A%84%E8%B0%83%E9%80%9F%E5%A4%B1%E6%95%88%E4%BA%86"},{title:"The site's own speed control fails after enabling the plugin",action:"openDocsLink",lang:["en","ru"],args:"/home/q&a#the-site-s-own-speed-control-fails-after-enabling-the-plugin"},{title:"\u4E3A\u4EC0\u4E48\u89C6\u9891\u8DDF\u97F3\u9891\u662F\u5206\u5F00\u4E0B\u8F7D\u7684",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A7%86%E9%A2%91%E8%B7%9F%E9%9F%B3%E9%A2%91%E6%98%AF%E5%88%86%E5%BC%80%E4%B8%8B%E8%BD%BD%E7%9A%84"},{title:"Why are video and audio downloaded separately?",action:"openDocsLink",lang:["en","ru"],args:"/home/q&a#why-are-video-and-audio-downloaded-separately"},{title:"\u5982\u4F55\u5408\u5E76\u4E0B\u8F7D\u5230\u7684\u97F3\u89C6\u9891\u6587\u4EF6",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E5%A6%82%E4%BD%95%E5%90%88%E5%B9%B6%E4%B8%8B%E8%BD%BD%E5%88%B0%E7%9A%84%E9%9F%B3%E8%A7%86%E9%A2%91%E6%96%87%E4%BB%B6"},{title:"How to merge downloaded audio and video files",action:"openDocsLink",lang:["en","ru"],args:"/home/q&a#how-to-merge-downloaded-audio-and-video-files"},{title:"\u4E3A\u4EC0\u4E48\u89C6\u9891\u622A\u56FE\u4E0D\u540C\u7F51\u7AD9\u8868\u73B0\u4E0D\u4E00\u81F4",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A7%86%E9%A2%91%E6%88%AA%E5%9B%BE%E4%B8%8D%E5%90%8C%E7%BD%91%E7%AB%99%E8%A1%A8%E7%8E%B0%E4%B8%8D%E4%B8%80%E8%87%B4"},{title:"Why is video screenshot functionality inconsistent across websites?",action:"openDocsLink",lang:["en","ru"],args:"/home/q&a#why-is-video-screenshot-functionality-inconsistent-across-websites"},{title:"\u5982\u4F55\u7981\u7528\u6216\u81EA\u5B9A\u4E49\u5FEB\u6377\u952E",action:"openDocsLink",lang:["zh"],args:"/home/q&a#%E5%A6%82%E4%BD%95%E7%A6%81%E7%94%A8%E6%88%96%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BF%AB%E6%8D%B7%E9%94%AE"},{title:"How to Disable or Customize Shortcut Keys",action:"openDocsLink",lang:["en","ru"],args:"/home/q&a#how-to-disable-or-customize-shortcut-keys"}],{i18n:S,debug:Ne,globalFunctional:z,configManager:Ut}=t.h5playerUIProvider,te=Ut.isGlobalStorageUsable(),Ft=[{title:S.t("download"),desc:S.t("download"),icon:Hr,action:"mediaDownload",args:null},{title:S.t("capture"),desc:S.t("capture"),icon:Ir,action:"capture",args:null},{title:S.t("speed"),desc:S.t("speed"),icon:Dr,dropdownMenu:[{title:"0.5x",desc:"0.5x",action:"setPlaybackRate",args:.5},{title:"0.75x",desc:"0.75x",action:"setPlaybackRate",args:.75},{title:"1.0x",desc:"1.0x",action:"setPlaybackRate",args:1},{title:"1.25x",desc:"1.25x",action:"setPlaybackRate",args:1.25},{title:"1.5x",desc:"1.5x",action:"setPlaybackRate",args:1.5},{title:"2.0x",desc:"2.0x",action:"setPlaybackRate",args:2},{title:"3.0x",desc:"3.0x",action:"setPlaybackRate",args:3},{title:"4.0x",desc:"4.0x",action:"setPlaybackRate",args:4},{title:"8.0x",desc:"8.0x",action:"setPlaybackRate",args:8},{title:"16.0x",desc:"16.0x",action:"setPlaybackRate",args:16}]},{title:S.t("menu"),desc:S.t("menu"),icon:Or,dropdownMenu:[{title:S.t("graphicalInterface"),desc:S.t("graphicalInterface"),subMenu:[{title:S.t("disableCurrentInstanceGUI"),desc:S.t("disableCurrentInstanceGUI"),action:"disableCurrentInstanceGUI",args:null},{title:S.t("disableGUITemporarily"),desc:S.t("disableGUITemporarily"),action:"disableGUITemporarily",args:null},{...z.toggleGUIStatusUnderCurrentSite,action:"toggleGUIStatusUnderCurrentSite",args:null},{...z.toggleGUIStatus,action:"toggleGUIStatus",args:null,disabled:!te},{...z.alwaysShowGraphicalInterface,action:"alwaysShowGraphicalInterface",args:null,disabled:!Ne.isDebugMode()||!te}]},{title:S.t("videoFilter"),desc:S.t("videoFilter"),subMenu:[{title:S.t("resetFilterAndTransform"),desc:S.t("resetFilterAndTransform"),action:"resetFilterAndTransform",args:null},{title:S.t("brightnessUp"),desc:S.t("brightnessUp"),action:"setBrightnessUp",args:.1},{title:S.t("brightnessDown"),desc:S.t("brightnessDown"),action:"setBrightnessDown",args:-.1},{title:S.t("contrastUp"),desc:S.t("contrastUp"),action:"setContrastUp",args:.1},{title:S.t("contrastDown"),desc:S.t("contrastDown"),action:"setContrastDown",args:-.1},{title:S.t("saturationUp"),desc:S.t("saturationUp"),action:"setSaturationUp",args:.1},{title:S.t("saturationDown"),desc:S.t("saturationDown"),action:"setSaturationDown",args:-.1},{title:S.t("hueUp"),desc:S.t("hueUp"),action:"setHueUp",args:1},{title:S.t("hueDown"),desc:S.t("hueDown"),action:"setHueDown",args:-1},{title:S.t("blurUp"),desc:S.t("blurUp"),action:"setBlurUp",args:1},{title:S.t("blurDown"),desc:S.t("blurDown"),action:"setBlurDown",args:-1}]},{title:S.t("rotateAndMirror"),desc:S.t("rotateAndMirror"),action:"rotateAndMirror",subMenu:[{title:S.t("rotate90"),desc:S.t("rotate90"),action:"setRotate",args:null},{title:S.t("horizontalMirror"),desc:S.t("horizontalMirror"),action:"setMirror",args:null},{title:S.t("verticalMirror"),desc:S.t("verticalMirror"),action:"setMirror",args:!0}]},{title:S.t("videoTransform"),desc:S.t("videoTransform"),action:"translate",subMenu:[{title:S.t("translateRight"),desc:S.t("translateRight"),action:"setTranslateRight",args:null},{title:S.t("translateLeft"),desc:S.t("translateLeft"),action:"setTranslateLeft",args:null},{title:S.t("translateUp"),desc:S.t("translateUp"),action:"setTranslateUp",args:null},{title:S.t("translateDown"),desc:S.t("translateDown"),action:"setTranslateDown",args:null}]},{title:S.t("moreActions"),desc:S.t("moreActions"),subMenu:[{title:"Clean remote helper info",desc:"Clean remote helper info",action:"cleanRemoteHelperInfo",disabled:!Ne.isDebugMode()},{title:"Print Player info",desc:"Print Player info",action:"printPlayerInfo",disabled:!Ne.isDebugMode()},{...z.openCustomConfigurationEditor,action:"openCustomConfigurationEditor",args:null,disabled:!0},{title:S.t("comingSoon"),desc:S.t("comingSoon")}]},{divider:!0},{title:S.t("keyboardControl"),desc:S.t("keyboardControl"),subMenu:[{...z.openHotkeysPage,action:"openHotkeysPage",args:""},{title:S.t("toggleHotkeysTemporarily"),desc:S.t("toggleHotkeysTemporarily"),action:"toggleHotkeys"},{...z.toggleHotkeysStatusUnderCurrentSite,action:"toggleHotkeysStatusUnderCurrentSite"},{...z.toggleHotkeysStatus,action:"toggleHotkeysStatus",disabled:!te}]},{title:S.t("mouseControl"),desc:S.t("mouseControl"),subMenu:[{...z.setMouseLongPressTime,action:"setMouseLongPressTime"},{...z.toggleMouseControlUnderCurrentSite,action:"toggleMouseControlUnderCurrentSite"},{...z.toggleMouseControl,action:"toggleMouseControl",disabled:!te},{title:S.t("comingSoon"),desc:S.t("comingSoon")}]},{title:S.t("mediaDownload.downloadOptions"),desc:S.t("mediaDownload.downloadOptions"),subMenu:[{...z.toggleDownloadControlUnderCurrentSite,action:"toggleDownloadControlUnderCurrentSite"},{...z.toggleDownloadControl,action:"toggleDownloadControl",disabled:!te},{title:`${S.t("toggleStates")} ${S.t("autoGotoBufferedTime")}`,desc:`${S.t("toggleStates")} ${S.t("autoGotoBufferedTime")}`,action:"toggleAutoGotoBufferedTime"},{title:S.t("ffmpegScript"),desc:S.t("ffmpegScript"),url:"https://github.com/xxxily/ffmpeg-script"}]},{title:S.t("faq"),desc:S.t("faq"),subMenu:Ur},{title:S.t("setting"),desc:S.t("setting"),subMenu:[{...z.openCustomConfigurationEditor,action:"openCustomConfigurationEditor",args:""},{...z.restoreGlobalConfiguration,action:"restoreGlobalConfiguration",args:"",disabled:!te},{...z.toggleScriptEnableState,action:"toggleScriptEnableState",args:null},{...z.toggleSetCurrentTimeFunctional,action:"toggleSetCurrentTimeFunctional",args:""},{...z.toggleSetVolumeFunctional,action:"toggleSetVolumeFunctional",args:""},{...z.toggleGUIStatus,action:"toggleGUIStatus",args:null,disabled:!te},{...z.toggleSetPlaybackRateFunctional,action:"toggleSetPlaybackRateFunctional",args:"",disabled:!te},{...z.toggleAcousticGainFunctional,action:"toggleAcousticGainFunctional",args:"",disabled:!te},{...z.toggleCrossOriginControlFunctional,action:"toggleCrossOriginControlFunctional",args:"",disabled:!te},{...z.toggleExperimentFeatures,action:"toggleExperimentFeatures",args:"",disabled:!te},{...z.toggleExternalCustomConfiguration,action:"toggleExternalCustomConfiguration",args:"",disabled:!te},{...z.toggleDebugMode,action:"toggleDebugMode",args:"",disabled:!te},{title:`${S.t("languageSettings")}\u300C${S.t("globalSetting")}\u300D`,desc:`${S.t("languageSettings")}\u300C${S.t("globalSetting")}\u300D`,disabled:!te,subMenu:[{title:S.t("autoChoose"),desc:S.t("autoChoose"),action:"setLanguage",args:"auto"},{title:"\u7B80\u4F53\u4E2D\u6587",desc:"\u7B80\u4F53\u4E2D\u6587",action:"setLanguage",args:"zh-CN"},{title:"\u7E41\u9AD4\u4E2D\u6587",desc:"\u7E41\u9AD4\u4E2D\u6587",action:"setLanguage",args:"zh-TW"},{title:"English",desc:"English",action:"setLanguage",args:"en-US"},{title:"\u0440\u0443\u0441\u0441\u043A\u0438\u0439",desc:"\u0440\u0443\u0441\u0441\u043A\u0438\u0439",action:"setLanguage",args:"ru"}]}]},{title:S.t("about"),desc:S.t("about"),subMenu:[{...z.openWebsite,action:"openWebsite",args:""},{...z.openProjectGithub,action:"openProjectGithub",args:""},{...z.openIssuesPage,action:"openIssuesPage",args:""},{...z.openAddGroupChatPage,action:"openAddGroupChatPage",args:""},{...z.openChangeLogPage,action:"openChangeLogPage",args:""},{...z.openCheckVersionPage,action:"openCheckVersionPage",args:""},{...z.openDonatePage,action:"openDonatePage",args:""},{...z.openAboutDonatePage,action:"openAboutDonatePage",args:""},{...z.openAuthorHomePage,action:"openAuthorHomePage",args:""}]},{title:S.t("more"),desc:S.t("more"),disabled:!0,subMenu:[{title:S.t("ffmpegScript"),desc:S.t("ffmpegScript"),url:"https://github.com/xxxily/ffmpeg-script"}]}]}];function Bt(n,r){const i=r.offsetWidth<500;return n.map(c=>(c.dropdownMenu&&(c.dropdownMenu=Bt(c.dropdownMenu,r)),{...c,iconOnly:i}))}function zo(n,r=!0){const l=n.map(i=>{if(i.disabled)return"";const c=i.lang||i.language||i.languages;if(c&&!S.isMatchCurLang(c))return"";const d=(i.title instanceof Function?i.title():i.title)||"",h=(i.desc instanceof Function?i.desc():i.desc)||"",w=i.id||Math.random().toString(36).substr(2);return i.subMenu?`
        <sl-menu-item class="h5p-menu-action" value="${w}" title="${h||d}" data-action="${i.action||""}" data-args='${JSON.stringify(i.args||null)}'>
          ${d}
          <sl-menu slot="submenu">
            ${zo(i.subMenu,!1)}
          </sl-menu>
        </sl-menu-item>
      `:i.divider?"<sl-divider></sl-divider>":`<sl-menu-item class="h5p-menu-action" value="${w}" title="${h||d}" data-action="${i.action||""}" data-args='${JSON.stringify(i.args||null)}' data-url="${i.url||""}">
        ${d}
      </sl-menu-item>
      `}).join("");return r?`<sl-menu>${l}</sl-menu>`:l}function Fr(n){return`
  <div class="h5p-action-mod">
      ${n.map(r=>{if(r.disabled)return"";const l=r.lang||r.language||r.languages;if(l&&!S.isMatchCurLang(l))return"";const i=(r.title instanceof Function?r.title():r.title)||"",c=(r.desc instanceof Function?r.desc():r.desc)||"",d=r.icon?`<sl-icon src="${r.icon}"></sl-icon>`:"",h=r.iconOnly&&d?"":`<span class="h5p-desc">${i}</span>`;return r.dropdownMenu?`
            <sl-dropdown distance="6">
              <span slot="trigger" class="h5p-action-btn" title="${c||i}" data-title="${i}" data-action="${r.action||""}">
                ${d}
                ${h}
              </span>
              ${zo(r.dropdownMenu)}
            </sl-dropdown>
          `:`
            <span class="h5p-action-btn h5p-menu-action" title="${c||i}" data-title="${i}" data-action="${r.action||""}" data-args='${JSON.stringify(r.args||null)}'>
              ${d}
              ${h}
            </span>
          `}).join("")} 
  </div>
  `}function Go(n=Ft||[]){return Fr(n)}function Br(){return`<a class="h5p-logo-mod" href="${z.getHomePageLink.fn()}" target="_blank">h5player</a>`}const zr=[];function No(n){if(!(te&&Ut.getGlobalStorage("ui.mod.recommend.enable"))||n.offsetWidth<500)return"";let i=Ut.getGlobalStorage("recommendList")||zr;i=i.filter(b=>!b.disabled);const c=S.language()||"",d=c.replace("-",""),h=c.replace("-","_"),w=c.split("-")[0];return i=i.filter(b=>{const _=b.lang||b.language||b.languages;return _?S.isMatchCurLang(_):!0}),i.length?(i.length>5&&(i=i.sort(()=>Math.random()-.5).slice(0,5)),i=i.sort((b,_)=>(_.priority||0)-(b.priority||0)),`<div class="h5p-recommend-mod" >${i.map(b=>{let _=b.title||"",C=b.desc||"",L=b.url||"";if(b.i18n){const x=b.i18n[`${c}`]||b.i18n[`${d}`]||b.i18n[`${h}`]||b.i18n[`${w}`];x&&(_=x.title||_,C=x.desc||C,L=x.url||L)}return`<a class="h5p-recommend-item" href="${L}" title="${C}" target="_blank">${_}</a>`}).join("")}</div>`):""}function Vo(n,r){if(!r&&(!n||n.__h5pRecommendModRegistered__))return;let l=0;n.__stopToggle__=!1;const i=()=>{if(n.__stopToggle__)return;const c=n.querySelectorAll(".h5p-recommend-item");c.forEach((d,h)=>{h===l?d.classList.add("h5p-recommend-item__active"):d.classList.remove("h5p-recommend-item__active")}),l=(l+1)%c.length};i(),clearInterval(n.__h5pRecommendModInterval__),n.__h5pRecommendModInterval__=setInterval(i,3e3),r||(n.addEventListener("mouseenter",()=>{n.__stopToggle__=!0}),n.addEventListener("mouseleave",()=>{n.__stopToggle__=!1})),n.__h5pRecommendModRegistered__=!0}function Gr(n){const{event:r,h5Player:l,h5playerUI:i,videoElement:c,popup:d,actionCallback:h}=n,m=r.target.closest(".h5p-menu-action");if(!m){Ne.log("[menuActionHandler]","\u672A\u627E\u5230actionDOM",r.target);return}const b=m.getAttribute("data-action"),_=JSON.parse(m.getAttribute("data-args")||null),C=m.getAttribute("data-url");if(C){z.openInTab(C);return}if(l.setPlayerInstance(c),b==="disableGUITemporarily"){i.disableGUITemporarily(),Ne.log("[menuActionHandler][disableGUITemporarily]");return}if(b&&(l[b]instanceof Function||z[b])){try{b==="setPlaybackRate"?l.setPlaybackRate(_,!1,!1,!0):z[b]&&z[b].fn instanceof Function?z[b].fn(_):(l[b](_),d&&d.reposition())}catch(L){Ne.error("[menuActionHandler][error]",L)}h instanceof Function&&h(b,_)}}if(!t.h5playerUIProvider)throw new Error("h5playerUIProvider is not defined, please check if you have imported h5playerUIProvider.js");const{debug:Nr,parseHTML:zt,observeVisibility:Vr,isOutOfDocument:ue,configManager:jr,device:qr}=t.h5playerUIProvider,we={};function bt(n){const r=document.querySelector(`#${n}`);r&&r.remove(),delete we[n]}function jo(n){if(!n)return!1;const r=n.getAttribute("data-popup-wrap-id");r&&bt(r)}function yt(){Object.keys(we).forEach(r=>{const l=we[r];ue(l)&&bt(r)})}function Kr(){return document.querySelectorAll(".h5player-popup-wrap")}function Wr(n){const r=[];return Object.keys(we).forEach(i=>{we[i]===n&&r.push(i)}),r.map(i=>document.querySelector(`#${i}`))}return{async init(){Nr.log("h5playerUI init"),document.adoptedStyleSheets=[...document.adoptedStyleSheets,o]},disableGUITemporarily(){this.__disableGUITemporarily__=!0,Object.keys(we).forEach(r=>{bt(r)})},getAllPopupWrapElement:Kr,findPopupWrapWithElement:Wr,cleanPopupWrap:yt,removePopupWrapById:bt,removePopupWrapByElement:jo,popup(n,r){if(this.__disableGUITemporarily__||n.__disableGUITemporarily__||n.videoWidth/n.videoHeight>2.5||this.lastRenderedPopupTime&&Date.now()-this.lastRenderedPopupTime<100||(this.lastRenderedPopupTime=Date.now(),n.__popupRenderedCount__&&n.__popupRenderedCount__>15)||(n.__popupRenderedCount__=n.__popupRenderedCount__?n.__popupRenderedCount__+1:1,!n||!n.tagName||n.tagName.toLowerCase()!=="video"||ue(n)))return!1;let l=n.getAttribute("data-popup-wrap-id");l||(l="h5player-popup-wrap-"+Math.random().toString(36).substr(2),n.setAttribute("data-popup-wrap-id",l));let i=document.querySelector(`#${l}`);if(we[l]||(we[l]=n),i){const A=i.querySelector("sl-popup");A&&A.reposition();return}const c=Go(Bt(Ft,n));i=zt(`
      <div id="${l}" class="h5player-popup-wrap">
        <sl-popup placement="top" sync="width">
        <div class="h5player-popup-content">
          <div class="h5p-logo-wrap">
            ${Br()}
          </div>
          <div class="h5p-recommend-wrap">
            <div style="overflow:hidden">${No(n)}</div>
          </div>
          <div class="h5p-menu-wrap">
            ${c}
          </div>
        </div>
        </sl-popup>
      </div>
    `,document.body)[0],setTimeout(()=>{Vo(i.querySelector(".h5p-recommend-wrap"))},100);const d=i.querySelector("sl-popup");function h(){return!d||!d.updateComplete||!d.updateComplete.then?(n.removeAttribute("data-popup-wrap-id"),i.remove(),delete we[l],!1):!0}customElements.whenDefined("sl-popup").then(()=>{if(!h())return!1;d.updateComplete.then(()=>{d.anchor=n,d.distance=-48,d.active=!0,setTimeout(()=>{d.reposition()},600)})});function w(){const A=i.querySelector(".h5player-popup-content .h5p-menu-wrap"),I=i.querySelector(".h5p-action-mod");if(A&&I){A.removeChild(I);const D=Go(Bt(Ft,n));zt(D,A);const V=i.querySelectorAll("sl-icon");V&&V.forEach(U=>{U.addEventListener("sl-error",J=>{const j=J.target.parentElement;J.target.remove(),j.getAttribute("data-title")&&(j.innerText=j.getAttribute("data-title"))},{once:!0})})}}setTimeout(()=>{w()},400);function m(){const A=i.querySelector(".h5player-popup-content .h5p-recommend-wrap"),I=i.querySelector(".h5player-popup-content .h5p-recommend-wrap>div");if(A&&I){A.removeChild(I);const D=`<div style="overflow:hidden">${No(n)}</div>`;zt(D,A),Vo(A,!0)}}const b="h5player-popup-active",_="h5player-popup-full-active",C=jr.getGlobalStorage("ui.alwaysShow");let L=null;i.addEventListener("mouseenter",()=>{if(n.videoWidth/n.videoHeight>2.5)return n.__disableGUITemporarily__=!0,jo(n),!1;clearTimeout(L),ue(n)?i.classList.remove(_):i.classList.add(_),d.reposition()}),i.addEventListener("mouseleave",()=>{clearTimeout(L),ue(n)?i.classList.remove(_):L=setTimeout(()=>{!C&&!n.paused&&i.classList.remove(b),!C&&!n.paused&&i.classList.remove(_),i.querySelectorAll("sl-dropdown").forEach(I=>{I._open_=!1,I.open=!1}),w()},500)});async function x(A){const I=A.target,D="h5p-action-btn";if(!(I.classList.contains(D)||I.parentElement.classList.contains(D)))return!1;const V=i.querySelectorAll("sl-dropdown"),U=I.parentElement.tagName.toLowerCase()==="sl-dropdown"?I.parentElement:I.parentElement.parentElement;if(!(U&&U.tagName.toLowerCase()==="sl-dropdown"))return V.forEach(j=>{j.open=!1,j._open_=!1}),!1;if(V.forEach(async j=>{j!==U&&(j._open_=!1,await j.hide())}),A.type==="mousemove")return U._open_=!0,await U.show(),!1;U._open_?(await U.hide(),U._open_=!1,U.addEventListener("sl-after-show",()=>{U._open_=!0},{once:!0})):(await U.show(),U._open_=!0,U.addEventListener("sl-after-hide",()=>{U._open_=!1},{once:!0}))}if(!qr.isMobile()){let A=Date.now();i.addEventListener("mousemove",I=>{const D=Date.now();D-A>100&&(A=D,ue(n)?(clearTimeout(L),i.classList.remove(_)):d.reposition()),x(I)})}i.addEventListener("click",A=>{x(A),Gr({event:A,videoElement:n,h5Player:r,h5playerUI:this,popup:d,actionCallback:(I,D)=>{w()}})}),Vr((A,I)=>{let D=!1;if(A?(ue(n)||(D=!0),n&&n.paused&&!ue(n)?n.currentTime&&n.currentTime>1.5&&i.classList.add(b):C?(i.classList.add(b),i.classList.add(_)):(i.classList.remove(b),i.classList.remove(_))):(D=!1,i.classList.remove(b),i.classList.remove(_)),!h())return!1;d.updateComplete.then(()=>{d.active=D,d.reposition()})},n),d.oldRect=n.getBoundingClientRect(),d.addEventListener("sl-reposition",()=>{if(ue(n))d.active=!1,i.classList.remove(b),i.classList.remove(_);else{const A=n.getBoundingClientRect();A.width!==d.oldRect.width&&(d.oldRect=A,w(),m())}}),n.addEventListener("play",()=>{C?(i.classList.add(b),i.classList.add(_)):(i.classList.remove(b),i.classList.remove(_)),ue(n)?d.active=!1:d.active=!0,d.reposition(),yt(),w()}),n.addEventListener("pause",()=>{w(),C?(i.classList.add(b),i.classList.add(_)):n.currentTime&&n.currentTime>1.5&&i.classList.add(b),ue(n)?(d.active=!1,i.classList.remove(b),i.classList.remove(_)):d.active=!0,d.reposition(),yt()});let $=Date.now();n.addEventListener("timeupdate",()=>{const A=Date.now();!ue(n)&&A-$>400&&($=A,d.reposition())}),yt()}}}();return e},supportMediaTags=["video","bwp-video"];let TCC=null;const h5Player={version,mediaCore,mediaPlusApi:null,mediaSource,configManager,fontSize:12,enable:!0,globalMode:!0,playerInstance:null,scale:1,translate:{x:0,y:0},rotate:0,rotateY:0,rotateX:0,defaultTransform:{scale:1,translate:{x:0,y:0},rotate:0,rotateY:0,rotateX:0},historyTransform:{},playbackRate:configManager.get("media.playbackRate"),volume:configManager.get("media.volume"),lastPlaybackRate:configManager.get("media.lastPlaybackRate"),skipStep:5,mouseObserver:new MouseObserver,disableHotkeysTemporarily(){this.__disableHotkeysTemporarily__=!0},enableHotkeys(){this.__disableHotkeysTemporarily__=!1},toggleHotkeys(){window.confirm(this.__disableHotkeysTemporarily__?i18n.t("enableHotkeys"):i18n.t("disableHotkeys"))&&(this.__disableHotkeysTemporarily__=!this.__disableHotkeysTemporarily__)},debuggerNow(){if(debug.isDebugMode()){const t=document.createElement("script");t.innerText="debugger",document.body.appendChild(t)}},disableCurrentInstanceGUI(){const t=this,e=t.player();e&&t.UI&&t.UI.removePopupWrapByElement&&(e.__disableGUITemporarily__=!0,t.UI.removePopupWrapByElement(e))},player:function(){const t=this;let e=t.playerInstance;if(!e){const o=t.getPlayerList();o.length&&(e=o[o.length-1],t.playerInstance=e,t.initPlayerInstance(o.length===1))}return e&&!t.mediaPlusApi&&(t.mediaPlusApi=mediaCore.mediaPlus(e)),e},isAudioInstance(){return isAudioElement(this.player())},getPlayerList:function(){const t=mediaCore.mediaElementList||[];function e(o){supportMediaTags.forEach(s=>{o.querySelectorAll(s).forEach(function(a){a.tagName.toLowerCase()==="bwp-video"&&(a.HTMLVideoElement=!0),isMediaElement(a)&&!t.includes(a)&&t.push(a)})})}return e(document),window._shadowDomList_&&window._shadowDomList_.forEach(function(o){e(o)}),t},getPlayerWrapDom:function(){const e=this.player();if(!e)return;let o=null;const s=e.getBoundingClientRect();return eachParentNode(e,function(a){if(a===document||!a.getBoundingClientRect)return;const u=a.getBoundingClientRect();u.width&&u.height&&u.width===s.width&&u.height===s.height&&(o=a)}),o},async mountToGlobal(){try{const t=await getPageWindow();t&&(t._h5Player=h5Player||"null",window.top!==window&&(t._h5PlayerInFrame=h5Player||"null"),t._window=window||"",debug.log("h5Player\u5BF9\u8C61\u5DF2\u6210\u529F\u6302\u8F7D\u5230\u5168\u5C40"))}catch(t){debug.error(t)}},initPlayerInstance(t){const e=this;if(!e.playerInstance)return;const o=e.playerInstance;if(e.mediaPlusApi=mediaCore.mediaPlus(o),e.initPlaybackRate(),e.isFoucs(),e.proxyPlayerInstance(o),e.unLockPlaybackRate(),e.setPlaybackRate(),e.lockPlaybackRate(1e3),o._fullScreen_=new FullScreen(o),o._fullPageScreen_=new FullScreen(o,!0),e.registerHotkeysRunner(),o._hasCanplayEvent_||(o.addEventListener("canplay",function(v){e.initAutoPlay(o)}),o._hasCanplayEvent_=!0),!o._hasPlayerInitEvent_){let v=0;o.addEventListener("playing",function(k){e.unLockPlaybackRate(),e.setPlaybackRate(null,!0),e.lockPlaybackRate(1e3),configManager.get("enhance.blockSetVolume")===!0&&k.target.muted===!1&&e.setVolume(configManager.getGlobalStorage("media.volume"),!0),configManager.get("enhance.blockSetCurrentTime")===!0&&e.lockCurrentTime(),e.setPlayProgress(o),v===0?(e.unLockPlaybackRate(),e.setPlaybackRate(),e.lockPlaybackRate(1e3),setTimeout(()=>{e.playProgressRecorder(o)},2e3)):(e.unLockPlaybackRate(),e.setPlaybackRate(null,!0),e.lockPlaybackRate(1e3)),v+=1}),o._hasPlayerInitEvent_=!0}TCC.getTaskConfig().init&&TCC.doTask("init",o);const a=!o.__registeredInitEvent__;a&&e.mouseObserver.on(o,"click",function(v,k,P){}),a&&o.addEventListener("enterpictureinpicture",()=>{monkeyMsg.send("globalPictureInPictureInfo",{usePictureInPicture:!0}),debug.log("enterpictureinpicture",o)}),a&&o.addEventListener("leavepictureinpicture",()=>{e.leavepictureinpictureTime=Date.now(),monkeyMsg.send("globalPictureInPictureInfo",{usePictureInPicture:!1}),debug.log("leavepictureinpicture",o)});function u(v){const k=v.currentSrc||v.src;k&&(v.srcList=v.srcList||[k],v.srcList.includes(k)||v.srcList.push(k))}function f(v){if(v.buffered.length>0){const k=v.buffered.end(v.buffered.length-1);v.bufferedTime=k}e.autoGotoBufferedTime&&v.bufferedTime&&e.player()===v&&v.bufferedTime<v.duration-1&&v.currentTime<v.bufferedTime-1&&e.setCurrentTime(v.bufferedTime)}a&&o.addEventListener("loadeddata",function(){debug.log(`[player][loadeddata] ${o.src} video duration: ${o.duration} video dom:`,o),u(o)}),a&&o.addEventListener("durationchange",function(){debug.log(`[player][durationchange] ${o.duration}`),u(o)}),a&&o.addEventListener("loadstart",function(){debug.log("[player][loadstart]",o.currentSrc,o.src),u(o)}),e.UI&&e.UI.popup&&e.UI.popup(o,e),a&&o.addEventListener("play",function(){e.UI&&e.UI.popup&&e.UI.popup(o,e)}),a&&o.addEventListener("pause",function(){e.UI&&e.UI.popup&&e.UI.popup(o,e)});let p=Date.now(),g=0;a&&o.addEventListener("timeupdate",function(){Date.now()-p>800&&g<60&&(p=Date.now(),g+=1,e.UI&&e.UI.popup&&e.UI.popup(o,e)),u(o),mediaSource.connectMediaSourceWithMediaElement(o)});let y=Date.now();a&&o.addEventListener("progress",()=>{f(o),mediaSource.connectMediaSourceWithMediaElement(o),Date.now()-y>1e3*10&&(y=Date.now(),mediaSource.cleanMediaSourceData())}),a&&o.addEventListener("durationchange",function(){p=Date.now(),g=0,e.UI&&e.UI.popup&&e.UI.popup(o,e)}),o.__registeredInitEvent__=!0},registerHotkeysRunner(){this.hotkeysRunner||(this.hotkeysRunner=new HotkeysRunner(configManager.get("hotkeys")),isInIframe()&&!isInCrossOriginFrame()&&this.hotkeysRunner.setCombinationKeysMonitor(window.top))},isLeavepictureinpictureAwhile(){const t=this;return t.leavepictureinpictureTime&&Date.now()-t.leavepictureinpictureTime<1e3*10},proxyPlayerInstance(t){if(!t)return;["play","pause"].forEach(o=>{const s="origin_"+o;if(Reflect.has(t,o)&&!Reflect.has(t,s)){t[s]=t[o];const a=new Proxy(t[o],{apply(u,f,p){const g=t._hangUpInfo_||{},y=g[o]||g["hangUp_"+o];return y&&y.timeout>=Date.now()?(debug.log(o+"\u5DF2\u88AB\u6302\u8D77\uFF0C\u672C\u6B21\u8C03\u7528\u5C06\u88AB\u5FFD\u7565"),!1):u.apply(f||t,p)}});t[o]=a}}),t._hangUp_||(t._hangUpInfo_={},t._hangUp_=function(o,s){s=Number(s)||200,t._hangUpInfo_[o]={timeout:Date.now()+s}},t._unHangUp_=function(o){t._hangUpInfo_&&t._hangUpInfo_[o]&&(t._hangUpInfo_[o].timeout=Date.now()-1)})},initAutoPlay:function(t){const e=this,o=t||e.player(),s=TCC.getTaskConfig();if(s.autoPlay&&(configManager.getLocalStorage("media.autoPlay")===null&&configManager.setLocalStorage("media.autoPlay",!0),addMenu({title:()=>configManager.getLocalStorage("media.autoPlay")?i18n.t("disableInitAutoPlay"):i18n.t("enableInitAutoPlay"),fn:()=>{if(window.confirm(configManager.getLocalStorage("media.autoPlay")?i18n.t("disableInitAutoPlay"):i18n.t("enableInitAutoPlay"))){const u=configManager.getLocalStorage("media.autoPlay");u===null?alert(i18n.t("configFail")):configManager.setLocalStorage("media.autoPlay",!u)}}})),!configManager.get("media.autoPlay")||!t&&e.hasInitAutoPlay||!o||t&&t!==e.player()||document.hidden||!isInViewPort(o)||isInIframe()||!s.autoPlay)return!1;if(e.hasInitAutoPlay=!0,o&&s.autoPlay&&o.paused&&(TCC.doTask("autoPlay"),o.paused)){if(o._initAutoPlayCount_||(o._initAutoPlayCount_=1),o._initAutoPlayCount_+=1,o._initAutoPlayCount_>=10)return!1;setTimeout(function(){e.initAutoPlay(o)},200)}},printPlayerInfo(t){const e=this,o=t||e.player(),s={curPlayer:o,srcList:o.srcList,h5player:e,h5playerUI:e.UI,mediaSource,window};e.UI&&e.UI.findPopupWrapWithElement&&(s.curlPopupWrap=e.UI.findPopupWrapWithElement(o),s.allPopupWrap=e.UI.getAllPopupWrapElement()),debug.info("[playerInfo]",s)},setFullScreen(){const t=this.player();!TCC.doTask("fullScreen")&&t&&t._fullScreen_&&t._fullScreen_.toggle()},setWebFullScreen:function(){const e=this.player();!TCC.doTask("webFullScreen")&&e&&e._fullPageScreen_&&e._fullPageScreen_.toggle()},initPlaybackRate(){const t=this;t.playbackRate=t.getPlaybackRate()},playbackRateInfo:{lockTimeout:Date.now()-1,time:Date.now(),value:-1},getPlaybackRate(){let t=configManager.get("media.playbackRate")||this.playbackRate;if(isInIframe()){const e=configManager.getGlobalStorage("media.playbackRate");e&&(t=e)}return Number(Number(t).toFixed(1))},lockPlaybackRate:function(t=200){if(this.mediaPlusApi)return configManager.get("enhance.blockSetPlaybackRate")===!0&&(t=1e3*60*60*24*365),this.mediaPlusApi.lockPlaybackRate(t),!0;this.playbackRateInfo.lockTimeout=Date.now()+t},unLockPlaybackRate:function(){if(this.mediaPlusApi)return this.mediaPlusApi.unLockPlaybackRate(),!0;this.playbackRateInfo.lockTimeout=Date.now()-1},isLockPlaybackRate:function(){return this.mediaPlusApi?this.mediaPlusApi.isLockPlaybackRate():Date.now()-this.playbackRateInfo.lockTimeout<0},fixPlaybackRate:function(t){const e=this,o=e.getPlaybackRate();Math.abs(o-t)>1&&e.setCurrentTimeUp(.1,!0)},setPlaybackRate:function(t,e,o,s){const a=this,u=a.player();if(!s&&a.isLockPlaybackRate())return debug.info("\u8C03\u901F\u80FD\u529B\u5DF2\u88AB\u9501\u5B9A"),!1;if(TCC.doTask("playbackRate")||!u)return;const f=a.getPlaybackRate();let p;if(t){if(t=Number(t),Number.isNaN(t))return debug.error("h5player: \u64AD\u653E\u901F\u5EA6\u8F6C\u6362\u51FA\u9519"),!1;t<=0?t=.1:t>16&&(t=16),t=Number(t.toFixed(1)),p=t}else p=a.getPlaybackRate();if(a.playbackRate=p,isInIframe()?configManager.setGlobalStorage("media.playbackRate",p):configManager.set("media.playbackRate",p),a.mediaPlusApi)return a.mediaPlusApi.setPlaybackRate(p),!(!t&&p===1)&&!e&&a.tips(i18n.t("tipsMsg.playspeed")+u.playbackRate),a.getPlayerList().forEach(y=>{if(y!==u){const v=mediaCore.mediaPlus(y);v&&v.setPlaybackRate(p)}}),a.fixPlaybackRate(f),!0;delete u.playbackRate,u.playbackRate=p,a.playbackRateInfo.time=Date.now(),a.playbackRateInfo.value=p,u._setPlaybackRate_={time:Date.now(),value:p};try{const g=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"playbackRate");originalMethods.Object.defineProperty.call(Object,u,"playbackRate",{configurable:!0,get:function(){return p||g.get.apply(u,arguments)},set:function(y){if(typeof y!="number")return!1;if(!Number.isInteger(u._blockSetPlaybackRateTips_)&&(u._blockSetPlaybackRateTips_=0),TCC.doTask("blockSetPlaybackRate"))return u._blockSetPlaybackRateTips_++,u._blockSetPlaybackRateTips_<3&&debug.info("\u8C03\u901F\u80FD\u529B\u5DF2\u88AB\u81EA\u5B9A\u4E49\u7684\u8C03\u901F\u4EFB\u52A1\u8FDB\u884C\u5904\u7406"),!1;if(configManager.get("enhance.blockSetPlaybackRate")===!0)return u._blockSetPlaybackRateTips_++,u._blockSetPlaybackRateTips_<3&&debug.info("\u8C03\u901F\u80FD\u529B\u5DF2\u88ABblockSetPlaybackRate\u9501\u5B9A"),!1;a.setPlaybackRate(y)}})}catch(g){debug.error("\u89E3\u9501playbackRate\u5931\u8D25",g)}if(!t&&p===1)return!0;if(!e&&a.tips(i18n.t("tipsMsg.playspeed")+u.playbackRate),!o&&configManager.get("enhance.blockSetPlaybackRate")===!0){clearTimeout(a._setPlaybackRateDuplicate_),clearTimeout(a._setPlaybackRateDuplicate2_);const g=()=>{a.unLockPlaybackRate(),a.setPlaybackRate(p,!0,!0),a.lockPlaybackRate(1e3)};a._setPlaybackRateDuplicate_=setTimeout(g,600),a._setPlaybackRateDuplicate2_=setTimeout(g,1200)}a.fixPlaybackRate(f)},setPlaybackRatePlus:function(t){if(t=Number(t),!t||Number.isNaN(t))return!1;const e=this;e.playbackRatePlusInfo=e.playbackRatePlusInfo||{},e.playbackRatePlusInfo[t]=e.playbackRatePlusInfo[t]||{time:Date.now()-1e3,value:t},Date.now()-e.playbackRatePlusInfo[t].time<300?e.playbackRatePlusInfo[t].value=e.playbackRatePlusInfo[t].value+t:e.playbackRatePlusInfo[t].value=t,e.playbackRatePlusInfo[t].time=Date.now(),e.unLockPlaybackRate(),e.setPlaybackRate(e.playbackRatePlusInfo[t].value),e.lockPlaybackRate(1e3)},resetPlaybackRate:function(t){const e=this;t=t||e.player(),e.unLockPlaybackRate();const o=Number(t.playbackRate),s=o===1?e.lastPlaybackRate:1;o!==1&&(e.lastPlaybackRate=o,configManager.setLocalStorage("media.lastPlaybackRate",o)),e.setPlaybackRate(s),e.lockPlaybackRate(1e3)},setPlaybackRateUp(t){t=numUp(t)||.1,this.player()&&(this.unLockPlaybackRate(),this.setPlaybackRate(this.player().playbackRate+t),this.lockPlaybackRate(1e3))},setPlaybackRateDown(t){t=numDown(t)||-.1,this.player()&&(this.unLockPlaybackRate(),this.setPlaybackRate(this.player().playbackRate+t),this.lockPlaybackRate(1e3))},lockCurrentTime:function(t=200){if(this.mediaPlusApi)return configManager.get("enhance.blockSetCurrentTime")===!0&&(t=1e3*60*60*24*365),this.mediaPlusApi.lockCurrentTime(t),!0;const e=this.player();e&&(e.currentTimeInfo=e.currentTimeInfo||{},e.currentTimeInfo.lockTimeout=Date.now()+t)},unLockCurrentTime:function(){if(this.mediaPlusApi)return this.mediaPlusApi.unLockCurrentTime(),!0;const t=this.player();t&&(t.currentTimeInfo=t.currentTimeInfo||{},t.currentTimeInfo.lockTimeout=Date.now()-1)},isLockCurrentTime:function(){if(this.mediaPlusApi)return this.mediaPlusApi.isLockCurrentTime();const t=this.player();return t&&t.currentTimeInfo&&t.currentTimeInfo.lockTimeout?Date.now()-t.currentTimeInfo.lockTimeout<0:!1},setCurrentTime:function(t){if(!t&&t!==0)return;t=Number(t);const e=Math.abs(Number(t.toFixed(1))),o=this,s=o.player();if(o.isLockCurrentTime())return!1;if(!TCC.doTask("currentTime")){if(this.mediaPlusApi)return this.mediaPlusApi.setCurrentTime(e),!0;delete s.currentTime,s.currentTime=e,s.currentTimeInfo=s.currentTimeInfo||{},s.currentTimeInfo.time=Date.now(),s.currentTimeInfo.value=e;try{const a=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");originalMethods.Object.defineProperty.call(Object,s,"currentTime",{configurable:!0,enumerable:!0,get:function(){return a.get.apply(s,arguments)},set:function(u){return typeof u!="number"||TCC.doTask("blockSetCurrentTime")||configManager.get("enhance.blockSetCurrentTime")===!0||o.isLockCurrentTime()?!1:(s.currentTimeInfo.time=Date.now(),s.currentTimeInfo.value=u,a.set.apply(s,arguments))}})}catch(a){debug.error("\u89E3\u9501currentTime\u5931\u8D25",a)}}},setCurrentTimeUp(t,e){t=Number(numUp(t)||this.skipStep),TCC.doTask("addCurrentTime")||this.player()&&(this.unLockCurrentTime(),this.setCurrentTime(this.player().currentTime+t),this.lockCurrentTime(500),e||this.tips(i18n.t("tipsMsg.forward")+t+i18n.t("tipsMsg.seconds")))},setCurrentTimeDown(t){if(t=Number(numDown(t)||-this.skipStep),!TCC.doTask("subtractCurrentTime")){if(this.player()){let e=this.player().currentTime+t;e<1&&(e=0),this.unLockCurrentTime(),this.setCurrentTime(e),this.lockCurrentTime(500),this.tips(i18n.t("tipsMsg.backward")+Math.abs(t)+i18n.t("tipsMsg.seconds"))}}},volumeInfo:{lockTimeout:Date.now()-1,time:Date.now(),value:-1},getVolume:function(){let t=configManager.get("media.volume");if(isInIframe()||configManager.get("enhance.blockSetVolume")===!0){const e=configManager.getGlobalStorage("media.volume");e!==null&&(t=e)}return Number(Number(t).toFixed(2))},lockVolume:function(t=200){if(this.mediaPlusApi)return configManager.get("enhance.blockSetVolume")===!0&&(t=1e3*60*60*24*365),this.mediaPlusApi.lockVolume(t),!0;this.volumeInfo.lockTimeout=Date.now()+t},unLockVolume:function(){if(this.mediaPlusApi)return this.mediaPlusApi.unLockVolume(),!0;this.volumeInfo.lockTimeout=Date.now()-1},isLockVolume:function(){return this.mediaPlusApi?this.mediaPlusApi.isLockVolume():Date.now()-this.volumeInfo.lockTimeout<0},setVolume:function(t,e,o){const s=this,a=s.player();if(s.isLockVolume())return!1;if(!t&&t!==0&&(t=s.getVolume()),t=Number(t).toFixed(2),t<0&&(t=0),t>1&&configManager.get("enhance.allowAcousticGain")){t=Math.ceil(t);try{a._amp_=a._amp_||new MediaElementAmplifier(a)}catch(u){t=1,debug.error("\u5A92\u4F53\u58F0\u97F3\u54CD\u5EA6\u589E\u76CA\u903B\u8F91\u5F02\u5E38",u)}t>6&&(t=6),(!a._amp_||!a._amp_.setLoudness)&&(t=1)}else t>1&&(t=1);if(s.volume=t,t>1&&a._amp_&&a._amp_.setLoudness)return a._amp_.setLoudness(t),o||(a.muted=!1),!e&&s.tips(i18n.t("tipsMsg.volume")+parseInt(t*100)+"%"),!0;if(isInIframe()||configManager.get("enhance.blockSetVolume")===!0?configManager.setGlobalStorage("media.volume",t):configManager.setLocalStorage("media.volume",t),s.mediaPlusApi)s.mediaPlusApi.setVolume(t),s.getPlayerList().forEach(f=>{if(f!==a){const p=mediaCore.mediaPlus(f);p&&p.setVolume(t)}});else{delete a.volume,a.volume=t,s.volumeInfo.time=Date.now(),s.volumeInfo.value=t;try{const u=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"volume");originalMethods.Object.defineProperty.call(Object,a,"volume",{configurable:!0,get:function(){return u.get.apply(a,arguments)},set:function(f){if(typeof f!="number"||f<0||TCC.doTask("blockSetVolume")||configManager.get("enhance.blockSetVolume")===!0)return!1;s.setVolume(f,!1,!0)}})}catch(u){debug.error("\u89E3\u9501volume\u5931\u8D25",u)}}o||(a.muted=!1),!e&&s.tips(i18n.t("tipsMsg.volume")+parseInt(a.volume*100)+"%")},setVolumeUp(t){t=numUp(t)||.2;const e=this.player();e&&(this.unLockVolume(),this.volume>1&&e._amp_?this.setVolume(this.volume+t):this.setVolume(e.volume+t),this.lockVolume(500))},setVolumeDown(t){t=numDown(t)||-.2;const e=this.player();e&&(this.unLockVolume(),this.volume>1&&e._amp_?this.setVolume(Math.floor(this.volume+t)):this.setVolume(e.volume+t),this.lockVolume(500))},collectTransformHistoryInfo(){const t=this;Object.keys(t.defaultTransform).forEach(e=>{if(e==="translate"){const o=t.defaultTransform.translate;t.historyTransform.translate=t.historyTransform.translate||{},Object.keys(o).forEach(s=>{Number(t.translate[s])!==t.defaultTransform.translate[s]&&(t.historyTransform.translate[s]=t.translate[s])})}else Number(t[e])!==t.defaultTransform[e]&&(t.historyTransform[e]=t[e])})},isSameAsDefaultTransform(){let t=!0;const e=this;return Object.keys(e.defaultTransform).forEach(o=>{isObj$1(e.defaultTransform[o])?Object.keys(e.defaultTransform[o]).forEach(s=>{Number(e[o][s])!==e.defaultTransform[o][s]&&(t=!1)}):Number(e[o])!==e.defaultTransform[o]&&(t=!1)}),t},setTransform(t){const e=this,o=e.player(),s=e.scale=Number(e.scale).toFixed(2),a=e.translate,u=e.rotateX===180?`rotateX(${e.rotateX}deg)`:e.rotateY===180?`rotateY(${e.rotateY}deg)`:"";o.style.transform=`scale(${s}) translate(${a.x}px, ${a.y}px) rotate(${e.rotate}deg) ${u}`;let f=i18n.t("tipsMsg.videozoom")+`${(s*100).toFixed(0)}%`;a.x&&(f+=` ${i18n.t("tipsMsg.horizontal")}${e.translate.x}px`),a.y&&(f+=` ${i18n.t("tipsMsg.vertical")}${e.translate.y}px`),t===!0||(e.collectTransformHistoryInfo(),e.tips(f)),e._transformStateGuard_||(e._transformStateGuard_=setInterval(()=>{e.setTransform(!0)},300))},setRotate(){const t=this;t.rotate+=90,t.rotate%360===0&&(t.rotate=0),t.setTransform(!0),t.tips(i18n.t("tipsMsg.imgrotate")+t.rotate+"\xB0")},setMirror(t=!1){const e=this;let o="";t?(e.rotateX=e.rotateX===0?180:0,o+=` ${i18n.t("tipsMsg.verticalMirror")} ${e.rotateX}deg`):(e.rotateY=e.rotateY===0?180:0,o+=` ${i18n.t("tipsMsg.horizontalMirror")} ${e.rotateY}deg`),e.setTransform(!0),e.tips(o)},setScale(t){Number.isNaN(this.scale)||Number.isNaN(t)?this.scale=1:this.scale=t,this.setTransform()},setScaleUp(t){t=numUp(t)||.05,this.setScale(Number(this.scale)+t)},setScaleDown(t){t=numDown(t)||-.05,this.setScale(Number(this.scale)+t)},setTranslate(t,e){typeof t=="number"&&(this.translate.x=t),typeof e=="number"&&(this.translate.y=e),this.setTransform()},setTranslateRight(t){t=numUp(t)||10,this.setTranslate(this.translate.x+t)},setTranslateLeft(t){t=numDown(t)||-10,this.setTranslate(this.translate.x+t)},setTranslateUp(t){t=numUp(t)||10,this.setTranslate(null,this.translate.y-t)},setTranslateDown(t){t=numDown(t)||-10,this.setTranslate(null,this.translate.y-t)},resetTransform(t){const e=this;if(e.isSameAsDefaultTransform()&&Object.keys(e.historyTransform).length)Object.keys(e.historyTransform).forEach(o=>{isObj$1(e.historyTransform[o])?Object.keys(e.historyTransform[o]).forEach(s=>{e[o][s]=e.historyTransform[o][s]}):e[o]=e.historyTransform[o]});else{const o=clone(e.defaultTransform);Object.keys(o).forEach(s=>{e[s]=o[s]})}e.setTransform(t)},freezeFrame(t){t=t||1;const e=this,o=e.player();o.currentTime+=Number(t/e.fps),o.paused||o.pause(),o._hangUp_&&o._hangUp_("play",400),t===1?e.tips(i18n.t("tipsMsg.nextframe")):t===-1?e.tips(i18n.t("tipsMsg.previousframe")):e.tips(i18n.t("tipsMsg.stopframe")+t)},autoGotoBufferedTime:!1,toggleAutoGotoBufferedTime(){const t=this;t.autoGotoBufferedTime=!t.autoGotoBufferedTime,t.tips(t.autoGotoBufferedTime?i18n.t("autoGotoBufferedTime"):i18n.t("disableAutoGotoBufferedTime"))},togglePictureInPicture(){const t=this.player();window._isPictureInPicture_&&document.pictureInPictureElement?document.exitPictureInPicture().then(()=>{window._isPictureInPicture_=null}).catch(e=>{window._isPictureInPicture_=null,debug.error("[togglePictureInPicture]",e)}):t.requestPictureInPicture&&t.requestPictureInPicture().then(()=>{window._isPictureInPicture_=!0}).catch(e=>{window._isPictureInPicture_=null,debug.error("[togglePictureInPicture]",e)})},setNextVideo(){TCC.doTask("next")||debug.log("\u5F53\u524D\u7F51\u9875\u4E0D\u652F\u6301\u4E00\u952E\u64AD\u653E\u4E0B\u4E2A\u89C6\u9891\u529F\u80FD~")},switchPlayStatus(){const t=this,e=t.player();TCC.doTask("switchPlayStatus")||(e.paused?(TCC.doTask("play")||(t.mediaPlusApi?(t.mediaPlusApi.lockPause(400),t.mediaPlusApi.applyPlay()):(e._hangUp_ instanceof Function&&(e._hangUp_("pause",400),e._unHangUp_("play")),e.play()),t.tips(i18n.t("tipsMsg.play"))),TCC.doTask("afterPlay")):(TCC.doTask("pause")||(t.mediaPlusApi?(t.mediaPlusApi.lockPlay(400),t.mediaPlusApi.applyPause()):(e._hangUp_ instanceof Function&&(e._hangUp_("play",400),e._unHangUp_("pause")),e.pause()),t.tips(i18n.t("tipsMsg.pause"))),TCC.doTask("afterPause")))},isAllowRestorePlayProgress:function(){const t=configManager.get(`media.allowRestorePlayProgress.${window.location.host}`);return t===null||t},switchRestorePlayProgressStatus:function(){const t=h5Player;let e=t.isAllowRestorePlayProgress();isInCrossOriginFrame()?e=!1:e=!e,configManager.set(`media.allowRestorePlayProgress.${window.location.host}`,e),e?(t.tips(i18n.t("tipsMsg.arpl")),t.setPlayProgress(t.player())):t.tips(i18n.t("tipsMsg.drpl"))},tipsClassName:"html_player_enhance_tips",getTipsContainer:function(t){const o=t||h5Player.player();let s=o.parentNode||o;const a=s.getBoundingClientRect();return(!a.width||!a.height)&&s.parentNode&&(s=s.parentNode),s},tips:function(t){const e=h5Player,o=e.player();if(!o)return debug.log("h5Player Tips:",t),!0;const s=e.isAudioInstance(),a=s?document.body:e.getTipsContainer();if(a===o)return debug.info("\u83B7\u53D6tips\u7684\u5305\u88F9\u5BB9\u5668\u5F02\u5E38\uFF1A",o,t),!1;let u="";if(!s){const k=a.getAttribute("style")||"";if(u=a.getAttribute("style-backup")||"",u)k&&!k.includes("style-backup")&&(u=k);else{let M=k||"style-backup: none";const E=inlineStyleToObj(M);E.opacity==="0"&&(E.opacity="1"),E.visibility==="hidden"&&(E.visibility="visible"),M=objToInlineStyle(E),a.setAttribute("style-backup",M),u=k}const P=u.split(";"),T=a.getAttribute("def-position")||window.getComputedStyle(a).position;a.getAttribute("def-position")===null&&a.setAttribute("def-position",T||""),["static","inherit","initial","unset",""].includes(T)&&P.push("position: relative");const O=o.getBoundingClientRect(),B=a.getBoundingClientRect();(!B.width||!B.height)&&(P.push("min-width:"+O.width+"px"),P.push("min-height:"+O.height+"px")),a.setAttribute("style",P.join(";"));const W=o.getBoundingClientRect();Math.abs(W.height-O.height)>50&&a.setAttribute("style",u)}const f="."+e.tipsClassName,p=document.querySelectorAll(f);p.length>1&&p.forEach(k=>{k.remove()});let g=a.querySelector(f);if(!g&&(e.initTips(),g=a.querySelector(f),!g))return debug.log("init h5player tips dom error..."),!1;const y=g.style;g.innerText=t;for(let k=0;k<3;k++)this.on_off[k]&&clearTimeout(this.on_off[k]);function v(){y.display="block",e.on_off[0]=setTimeout(function(){y.opacity=1},50),e.on_off[1]=setTimeout(function(){y.opacity=0,y.display="none",u&&a.setAttribute("style",u)},2e3)}y.display==="block"?(y.display="none",clearTimeout(this.on_off[3]),e.on_off[2]=setTimeout(function(){v()},100)):v()},initTips:function(){const t=h5Player,e=t.isAudioInstance(),o=e?document.body:t.getTipsContainer();if(o.querySelector("."+t.tipsClassName))return;let s=`
      position: absolute;
      z-index: 999999;
      font-size: ${t.fontSize||16}px;
      padding: 5px 10px;
      background: rgba(0,0,0,0.4);
      color:white;
      top: 0;
      left: 0;
      transition: all 500ms ease;
      opacity: 0;
      border-bottom-right-radius: 5px;
      display: none;
      -webkit-font-smoothing: subpixel-antialiased;
      font-family: 'microsoft yahei', Verdana, Geneva, sans-serif;
      -webkit-user-select: none;
    `;e&&(s=`
        position: fixed;
        z-index: 999999;
        font-size: ${t.fontSize||16}px;
        padding: 5px 10px;
        background: rgba(0,0,0,0.4);
        color:white;
        bottom: 0;
        right: 0;
        transition: all 500ms ease;
        opacity: 0;
        border-top-left-radius: 5px;
        display: none;
        -webkit-font-smoothing: subpixel-antialiased;
        font-family: 'microsoft yahei', Verdana, Geneva, sans-serif;
        -webkit-user-select: none;
      `);const a=document.createElement("div");a.setAttribute("style",s),a.setAttribute("class",t.tipsClassName),o.appendChild(a)},on_off:new Array(3),fps:30,filter:{key:[1,1,1,0,0],setup:function(){let t="brightness({0}) contrast({1}) saturate({2}) hue-rotate({3}deg) blur({4}px)";for(let e=0;e<5;e++)t=t.replace("{"+e+"}",String(this.key[e])),this.key[e]=Number(this.key[e]);h5Player.player().style.filter=t},reset:function(){this.key[0]=1,this.key[1]=1,this.key[2]=1,this.key[3]=0,this.key[4]=0,this.setup()}},setFilter(t,e,o){if(![0,1,2,3,4].includes(t)||typeof e!="number")return debug.error("[setFilter]","\u53C2\u6570\u6709\u8BEF",t,e),!1;o===!0&&e&&e>0&&(e=-e);const s={0:"brightness",1:"contrast",2:"saturation",3:"hue",4:"blur"},a=this;a.filter.key[t]+=e||.1,a.filter.key[t]=a.filter.key[t].toFixed(2),a.filter.key[t]<0&&s[t]!=="hue"&&(a.filter.key[t]=0),a.filter.setup(),a.tips(i18n.t(`tipsMsg.${s[t]}`)+parseInt(a.filter.key[t]*100)+"%")},setBrightness(t){this.setFilter(0,t)},setBrightnessUp(t){this.setFilter(0,t||.1)},setBrightnessDown(t){this.setFilter(0,t||-.1,!0)},setContrast(t){this.setFilter(1,t)},setContrastUp(t){this.setFilter(1,t||.1)},setContrastDown(t){this.setFilter(1,t||-.1,!0)},setSaturation(t){this.setFilter(2,t)},setSaturationUp(t){this.setFilter(2,t||.1)},setSaturationDown(t){this.setFilter(2,t||-.1,!0)},setHue(t){this.setFilter(3,t)},setHueUp(t){this.setFilter(3,t||1)},setHueDown(t){this.setFilter(3,t||-1,!0)},setBlur(t){this.setFilter(4,t)},setBlurUp(t){this.setFilter(4,t||1)},setBlurDown(t){this.setFilter(4,t||-1,!0)},resetFilterAndTransform(){const t=this;t.resetTransform(!0),t.filter.reset(),t.tips(i18n.t("tipsMsg.imgattrreset"))},mediaDownload(){configManager.get("enhance.allowExperimentFeatures")?(debug.warn("[experimentFeatures][mediaDownload]"),mediaDownload(this.player())):window.confirm(i18n.t("useMediaDownloadTips"))&&(configManager.setGlobalStorage("enhance.allowExperimentFeatures",!configManager.get("enhance.allowExperimentFeatures")),window.location.reload())},capture(){const t=this.player();videoCapturer.capture(t,!0),!t.paused&&!document.pictureInPictureElement&&document.visibilityState!=="visible"&&this.freezeFrame()},_isFoucs:!1,isFoucs:function(){const e=h5Player.player();e&&(e.onmouseenter=function(o){h5Player._isFoucs=!0},e.onmouseleave=function(o){h5Player._isFoucs=!1})},palyerTrigger:function(t,e){if(!t||!e)return;const o=h5Player,s=e.keyCode,a=e.key.toLowerCase();if(e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey){if(a==="enter"&&o.setWebFullScreen(),a==="p"&&o.togglePictureInPicture(),a==="s"&&o.capture(),a==="r"&&o.switchRestorePlayProgressStatus(),a==="m"&&o.setMirror(!0),a==="d"&&o.mediaDownload(),!["x","c","z","arrowright","arrowleft","arrowup","arrowdown"].includes(a))return;switch(o.scale=Number(o.scale),a){case"x":o.setScaleDown();break;case"c":o.setScaleUp();break;case"z":o.resetTransform();break;case"arrowright":o.setTranslateRight();break;case"arrowleft":o.setTranslateLeft();break;case"arrowup":o.setTranslateUp();break;case"arrowdown":o.setTranslateDown();break}return e.stopPropagation(),e.preventDefault(),!0}if(e.ctrlKey&&s===39&&o.setCurrentTimeUp(o.skipStep*6),e.ctrlKey&&s===37&&o.setCurrentTimeDown(-o.skipStep*6),e.ctrlKey&&s===38&&o.setVolumeUp(.2),e.ctrlKey&&s===40&&o.setVolumeDown(-.2),!(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey))return s===39&&o.setCurrentTimeUp(),s===37&&o.setCurrentTimeDown(),s===38&&o.setVolumeUp(.05),s===40&&o.setVolumeDown(-.05),s===32&&o.switchPlayStatus(),s===88&&o.setPlaybackRateDown(),s===67&&o.setPlaybackRateUp(),s===90&&o.resetPlaybackRate(),(s>=49&&s<=52||s>=97&&s<=100)&&o.setPlaybackRatePlus(e.key),s===70&&o.freezeFrame(1),s===68&&o.freezeFrame(-1),s===69&&o.setBrightnessUp(),s===87&&o.setBrightnessDown(),s===84&&o.setContrastUp(),s===82&&o.setContrastDown(),s===85&&o.setSaturationUp(),s===89&&o.setSaturationDown(),s===79&&o.setHueUp(),s===73&&o.setHueDown(),s===75&&o.setBlurUp(),s===74&&o.setBlurDown(),s===81&&o.resetFilterAndTransform(),s===83&&o.setRotate(),s===77&&o.setMirror(),s===13&&o.setFullScreen(),a==="n"&&o.setNextVideo(),e.stopPropagation(),e.preventDefault(),!0},runCustomShortcuts:function(t,e){if(!t||!e)return;const o=e.key.toLowerCase(),s=TCC.getTaskConfig(),a=isObj$1(s.shortcuts)&&Array.isArray(s.shortcuts.register)&&s.shortcuts.callback instanceof Function;function u(){const f=s.shortcuts.register,p=[];e.ctrlKey&&p.push("ctrl"),e.shiftKey&&p.push("shift"),e.altKey&&p.push("alt"),e.metaKey&&p.push("command"),p.push(o);let g=!1;return f.forEach(y=>{const v=y.split("+");if(p.length===v.length){let k=!0;v.forEach(P=>{p.includes(P)||(k=!1)}),k&&(g=!0)}}),g}if(a&&u()){const f=TCC.doTask("shortcuts",{event:e,player:t,h5Player});return f&&(e.stopPropagation(),e.preventDefault()),f}else return!1},keydownEvent:function(t){const e=h5Player,o=t.keyCode,s=e.player(),a=t.composedPath&&t.composedPath()[0]||t.target;if(!(e.__disableHotkeysTemporarily__||isEditableTarget(a))){if(monkeyMsg.send("globalKeydownEvent",t,0),!s){if(e.hasCrossOriginVideoDetected){if(!configManager.get("enhance.allowCrossOriginControl"))return!1;e.hotkeysRunner&&e.hotkeysRunner.run?e.hotkeysRunner.run({event:t,stopPropagation:!0,preventDefault:!0}):(e.registerHotkeysRunner(),t.stopPropagation(),t.preventDefault())}return!1}if(t.ctrlKey&&o===32&&(e.enable=!e.enable,e.enable?e.tips(i18n.t("tipsMsg.onplugin")):e.tips(i18n.t("tipsMsg.offplugin"))),!e.enable)return debug.log("h5Player \u5DF2\u7981\u7528~"),!1;if(t.ctrlKey&&o===220&&(e.globalMode=!e.globalMode,e.globalMode?e.tips(i18n.t("tipsMsg.globalmode")+" ON"):e.tips(i18n.t("tipsMsg.globalmode")+" OFF")),!(!e.globalMode&&!e._isFoucs)&&e.runCustomShortcuts(s,t)!==!0)if(e.hotkeysRunner&&e.hotkeysRunner.run){const u=e.hotkeysRunner.run({event:t,target:e,stopPropagation:!0,preventDefault:!0,conditionHandler(f){if(f)return!0}});if(u)return debug.info("[hotkeysRunner][matchResult]",u),!0}else{if(!isRegisterKey(t))return!1;e.palyerTrigger(s,t)}}},getPlayProgress:function(t){const e=configManager.get("media.progress")||{};if(t){const o=window.location.href+t.duration;return e[o]?Number.isNaN(Number(t.duration))||Number(e[o].duration)!==Number(t.duration)?t.currentTime:e[o].progress:t.currentTime}else return e},playProgressRecorder:function(t){const e=h5Player;clearTimeout(t._playProgressTimer_);function o(s){s._playProgressTimer_=setTimeout(function(){const a=!s.duration||Number.isNaN(Number(s.duration))||s.duration<120,u=document.visibilityState!=="visible"&&s.paused;if(!e.isAllowRestorePlayProgress()||a||u)return o(s),!0;const f=e.getPlayProgress()||{},p=Object.keys(f),g=window.location.href+s.duration;if(f[g]||(e._firstProgressRecord_=g,e._hasRestorePlayProgress_=g),p.length>10){let y=[];p.forEach(function(k){f[k]&&f[k].t&&y.push(f[k].t)}),y=quickSort(y);const v=y[0];p.forEach(function(k){f[k].t===v&&delete f[k]})}f[g]={progress:s.currentTime,duration:s.duration,t:new Date().getTime()},configManager.setLocalStorage("media.progress",f),o(s)},1e3*2)}o(t)},setPlayProgress:function(t){const e=h5Player;if(!t||!t.duration||Number.isNaN(t.duration))return;const o=Number(e.getPlayProgress(t));if(!o||Number.isNaN(o)||o<10||o>=t.duration)return;if(Math.abs(o-t.currentTime)<2)return!1;const s=window.location.href+t.duration;if(e._hasRestorePlayProgress_=e._hasRestorePlayProgress_||"",e._hasRestorePlayProgress_===s||e._firstProgressRecord_===s)return e._hasRestorePlayProgress_===s&&(e._firstProgressRecord_=""),!1;e.isAllowRestorePlayProgress()?(t.currentTime=o-1.5,e._hasRestorePlayProgress_=s,e.tips(i18n.t("tipsMsg.playbackrestored"))):e.tips(i18n.t("tipsMsg.playbackrestoreoff"))},setPlayerInstance(t){if(!t&&!t.getBoundingClientRect)return!1;const e=h5Player;if(e.player()===t)return!1;if(!e.playerInstance&&isMediaElement(t))return e.playerInstance=t,e.initPlayerInstance(!1),!0;if(isVideoElement(t)){const o=e.getTipsContainer(t),s=t.getBoundingClientRect(),a=o&&o.getBoundingClientRect();s&&s.width>200&&a&&a.width>200&&(e.playerInstance=t,e.initPlayerInstance(!1))}else isAudioElement(t)&&(isAudioElement(e.playerInstance)||isVideoElement(e.playerInstance)&&!e.playerInstance.isConnected)&&(e.playerInstance=t,e.initPlayerInstance(!1))},intersectionObserver:new IntersectionObserver(function(t,e){const o=h5Player;let s=0;t.forEach(a=>{if(a.target._intersectionInfo_=a,a.intersectionRatio>s&&a.intersectionRatio>.4){s=a.intersectionRatio;const u=o.player();if(u&&u._intersectionInfo_&&s<u._intersectionInfo_.intersectionRatio)return;o.setPlayerInstance(a.target)&&debug.log("[intersectionObserver] \u5207\u6362\u89C6\u9891\u5B9E\u4F8B",a)}})},{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),detecH5Player:function(){const t=this,e=t.getPlayerList();e.length&&(e.length===1&&(t.playerInstance=e[0],t.initPlayerInstance(!0)),e.forEach(function(o){o._hasMouseRedirectEvent_||(o.addEventListener("mouseenter",function(s){t.setPlayerInstance(s.target)}),o._hasMouseRedirectEvent_=!0),o._hasPlayingRedirectEvent_||(o.addEventListener("playing",function(s){const a=s.target;if(a.duration&&a.duration<8)return!1;t.setPlayerInstance(a)}),o._hasPlayingRedirectEvent_=!0),o._hasIntersectionObserver_||(t.intersectionObserver.observe(o),o._hasIntersectionObserver_=!0)}),isInCrossOriginFrame()&&monkeyMsg.send("videoDetected",{src:t.playerInstance.src}),registerH5playerMenus(h5Player))},bindFakeEvent(){const t=this;if(t._hasBindFakeEvent_)return;let e=function(o,s,a,u){const f=t.player();if(f&&!t.__disableHotkeysTemporarily__){const p=a.data;p.stopPropagation=()=>{},p.preventDefault=()=>{},t.palyerTrigger(f,p),debug.log("\u5DF2\u54CD\u5E94\u8DE8Tab/\u8DE8\u57DF\u6309\u952E\u63A7\u5236\u4FE1\u606F\uFF1A",a)}};!crossTabCtl.hasOpenPictureInPicture()&&!t.hasCrossOriginVideoDetected&&(e=throttle(e,80)),monkeyMsg.on("globalKeydownEvent",async(o,s,a,u)=>{u&&(isInCrossOriginFrame()?document.visibilityState==="visible"&&a.originTab&&e(o,s,a,u):crossTabCtl.hasOpenPictureInPicture()&&!a.originTab&&(document.pictureInPictureElement||t.isLeavepictureinpictureAwhile())&&e(o,s,a,u))}),t._hasBindFakeEvent_=!0},bindEvent:function(){const t=this;t._hasBindEvent_||(document.removeEventListener("keydown",t.keydownEvent),document.addEventListener("keydown",t.keydownEvent,!0),isInIframe()&&!isInCrossOriginFrame()&&(window.top.document.removeEventListener("keydown",t.keydownEvent),window.top.document.addEventListener("keydown",t.keydownEvent,!0)),t._hasBindEvent_=!0)},setCustomConfiguration(t,e="Default"){if(!t)return!1;const o=configManager.mergeDefConf(t.customConfiguration),s=mergeTaskConf(t.customTaskControlCenter);TCC&&TCC.setTaskConf&&TCC.setTaskConf(s),h5Player.hasSetCustomConfiguration=e,debug.info(`[CustomConfiguration][${e}]`,o,s)},mergeExternalConfiguration(t,e="Default"){if(!t||!configManager.getGlobalStorage("enhance.allowExternalCustomConfiguration"))return!1;h5Player.setCustomConfiguration(t,"External"),h5Player.hasExternalCustomConfiguration=e},init:function(t){const e=this;if(window.unsafeWindow&&window.unsafeWindow.__h5PlayerCustomConfiguration__&&!e.hasExternalCustomConfiguration&&e.mergeExternalConfiguration(window.unsafeWindow.__h5PlayerCustomConfiguration__),TCC&&TCC.doTask("disable")===!0)return debug.info(`[TCC][disable][${location.host}] \u5DF2\u7981\u6B62\u5728\u8BE5\u7F51\u7AD9\u8FD0\u884C\u89C6\u9891\u68C0\u6D4B\u903B\u8F91\uFF0C\u60A8\u53EF\u67E5\u770B\u4EFB\u52A1\u914D\u7F6E\u4E2D\u5FC3\u7684\u76F8\u5173\u914D\u7F6E\u4E86\u89E3\u8BE6\u60C5`),!0;if(!t)return e.detecH5Player(),!0;configManager.get("debug")===!0&&(window._debugMode_=!0,e.mountToGlobal()),setFakeUA(),TCC=h5PlayerTccInit(e),configManager.get("enableHotkeys")!==!1?(e.bindEvent(),e.bindFakeEvent()):debug.warn("\u5FEB\u6377\u952E\u80FD\u529B\u5DF2\u88AB\u7981\u7528"),monkeyMsg.on("videoDetected",async(o,s,a,u)=>{a.originTab&&(e.hasCrossOriginVideoDetected=!0),debug.log("[hasCrossOriginVideoDetected]",e,o,s,a,u)}),document.addEventListener("visibilitychange",function(){h5Player.initAutoPlay()}),window.unsafeWindow&&configManager.getGlobalStorage("enhance.allowExternalCustomConfiguration")&&(window.unsafeWindow.__setH5PlayerCustomConfiguration__=e.mergeExternalConfiguration)}};async function h5PlayerInit(){try{if(isCloudflareChallengePage())return console.warn("\u5F53\u524D\u5904\u4E8Ecloudflare\u7684\u4EBA\u673A\u9A8C\u8BC1\u9875\u9762\uFF0C\u6682\u505Ch5player\u7684\u8FD0\u884C",location.href),!1}catch(a){debug.error(a)}const t=configManager.get("enable"),e=configManager.get("blacklist.urls")||[],o=configManager.get("blacklist.domains")||[],s=e.includes(location.href)||o.includes(location.host);s&&console.warn(`[h5player][config][blacklist][${location.href}] 
\u5F53\u524D\u9875\u9762\u5DF2\u88AB\u52A0\u5165\u9ED1\u540D\u5355\uFF0C\u4E0D\u6267\u884Ch5player\u589E\u5F3A\u811A\u672C\u7684\u76F8\u5173\u903B\u8F91\uFF0C\u5982\u6709\u9700\u8981\u5F00\u542F\uFF0C\u8BF7\u5728\u914D\u7F6E\u91CC\u7684blacklist\u79FB\u9664\u5BF9\u5E94\u7684\u5730\u5740`);try{t&&!s&&(mediaCore.init(function(a){h5Player.init()}),configManager.get("enhance.allowExperimentFeatures")&&configManager.get("download.enable")&&(mediaSource.init(),debug.warn(`[experimentFeatures][warning] ${i18n.t("experimentFeaturesWarning")}`),debug.warn("[experimentFeatures][mediaSource][activated]")),hackDefineProperty(),hackAttachShadow(),proxyHTMLMediaElementEvent())}catch(a){console.error("h5player hack error",a)}if(menuRegister(),!t||s)return debug.warn(`[config][disable][${location.host}] \u5F53\u524D\u7F51\u7AD9\u5DF2\u7981\u7528\u811A\u672C\uFF0C\u5982\u8981\u542F\u7528\u811A\u672C\uFF0C\u8BF7\u5728\u83DC\u5355\u91CC\u5F00\u542F`),!1;try{h5Player.init(!0),supportMediaTags.forEach(a=>{ready(a,function(){h5Player.init()})}),document.addEventListener("addShadowRoot",function(a){const u=a.detail.shadowRoot;supportMediaTags.forEach(f=>{ready(f,function(p){h5Player.init()},u)})}),crossTabCtl.init(),isInIframe()?debug.log("h5Player init suc, in iframe:"):debug.log("h5Player init suc"),isInCrossOriginFrame()&&debug.log("\u5F53\u524D\u5904\u4E8E\u8DE8\u57DF\u53D7\u9650\u7684iframe\u4E2D\uFF0Ch5Player\u90E8\u5206\u529F\u80FD\u53EF\u80FD\u65E0\u6CD5\u6B63\u5E38\u5F00\u542F",window.location.href),configManager.get("mouse.enable")&&registerMouseEvent(h5Player)}catch(a){debug.error("h5Player init fail",a)}configManager.get("ui.enable")!==!1?window.customElements&&document.adoptedStyleSheets?(h5Player.UI=h5playerUI(windowSandbox),setTimeout(async()=>{h5Player.UI.init()},400)):debug.warn("\u5F53\u524D\u6D4F\u89C8\u5668\u4E0D\u652F\u6301customElements\u6216adoptedStyleSheets\uFF0C\u65E0\u6CD5\u4F7F\u7528UI\u7EC4\u4EF6\uFF0C\u5EFA\u8BAE\u4F7F\u7528Chrome 83+\uFF0CEdge 83+"):debug.warn("UI\u7EC4\u4EF6\u5DF2\u88AB\u7981\u7528",configManager.get("ui.enable"));try{configManager.get("ui.enable")!==!1&&remoteHelper.init()}catch(a){debug.error("[remoteHelper.init]",a)}}function init(t=0){if(!window.document||!window.document.documentElement)return setTimeout(()=>{t<200?init(t+1):console.error("[h5player message:]","not documentElement detected!",window)},10),!1;t>0&&console.warn("[h5player message:]","documentElement detected!",t,window),h5PlayerInit()}let initTryCount=0;try{init(0)}catch(t){setTimeout(()=>{initTryCount<200&&(initTryCount++,init(0),console.error("[h5player message:]","init error",initTryCount,t))},10)}
